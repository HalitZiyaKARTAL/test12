[
  {
    "name": ".github",
    "type": "folder",
    "size": "13,773 bytes",
    "path": ".github",
    "children": [
      {
        "name": "workflows",
        "type": "folder",
        "size": "13,773 bytes",
        "path": ".github/workflows",
        "children": [
          {
            "name": "main.yml",
            "type": "file",
            "size": "13,773 bytes",
            "path": ".github/workflows/main.yml",
            "content": "name: url to url data transfer\npermissions:\n  contents: write\n  checks: write\nconcurrency:\n  group: copy-${{ github.workflow }}-${{ replace(github.event.inputs.destination_url, '/', '_' ) }}\n  cancel-in-progress: false\non:\n  workflow_dispatch:\n    inputs:\n      source_urls:\n        description: 'One or more source URLs (can be /tree/ or /blob/), one per line.'\n        required: true\n        type: string\n      source_keys:\n        description: 'OPTIONAL: Your \"keychain\" of PATs, one per line. WARNING: inputs are visible in run history.'\n        required: false\n        type: string\n      filter_mode:\n        description: 'Set the filter mode.'\n        required: true\n        type: choice\n        options: [Whitelist, Blacklist]\n        default: 'Whitelist'\n      filter_list:\n        description: 'OPTIONAL: List of files/folders for the filter (one per line).'\n        required: false\n        type: string\n      destination_url:\n        description: 'GitHub URL for the destination folder (MUST be a /tree/ URL).'\n        required: true\n        type: string\n      destination_key:\n        description: 'OPTIONAL: PAT with push access to the destination repo/branch. Falls back to GITHUB_TOKEN (same-repo only).'\n        required: false\n        type: string\njobs:\n  url-transfer:\n    runs-on: ubuntu-latest\n    outputs:\n      files_copied: ${{ steps.process_sources.outputs.files_copied }}\n      processed_sources: ${{ steps.process_sources.outputs.processed_sources }}\n      success_count: ${{ steps.process_sources.outputs.success_count }}\n      skipped_count: ${{ steps.process_sources.outputs.skipped_count }}\n      no_match_count: ${{ steps.process_sources.outputs.no_match_count }}\n    steps:\n      - name: Validate Input URLs\n        run: |\n          set -euo pipefail\n          DEST_URL_RAW=\"${{ github.event.inputs.destination_url }}\"\n          DEST_URL=\"$(printf \"%s\" \"$DEST_URL_RAW\" | tr -d '\\r' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"\n          if [[ \"$DEST_URL\" != *\"/tree/\"* ]]; then echo \"::error::destination_url must be a GitHub /tree/<branch>/<path> folder URL.\"; exit 1; fi\n          SRC_INPUTS_RAW=\"${{ github.event.inputs.source_urls }}\"; SRC_INPUTS=\"$(printf \"%s\" \"$SRC_INPUTS_RAW\" | tr -d '\\r')\"\n          INVALID=false\n          while IFS= read -r URL; do\n            URL=\"$(printf \"%s\" \"$URL\" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"; [[ -z \"$URL\" ]] && continue\n            if [[ \"$URL\" != *\"/tree/\"* && \"$URL\" != *\"/blob/\"* ]]; then echo \"::error::Invalid source URL: $URL (must contain /tree/ or /blob/)\"; INVALID=true; fi\n          done <<< \"$SRC_INPUTS\"\n          if $INVALID; then echo \"ERROR: Source URL validation failed.\"; exit 1; fi\n          echo \"URL validation passed.\"\n\n      - name: Parse Destination URL & Set Up\n        id: dest_paths\n        run: |\n          set -euo pipefail\n          DEST_URL_RAW=\"${{ github.event.inputs.destination_url }}\"; DEST_URL=\"$(printf \"%s\" \"$DEST_URL_RAW\" | tr -d '\\r' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"\n          CLEAN_URL=\"$(printf \"%s\" \"$DEST_URL\" | sed -e 's|^https://||' -e 's|^http://||')\"; DEST_REPO=\"$(printf \"%s\" \"$CLEAN_URL\" | cut -d'/' -f2,3)\"\n          DEST_FULL_PATH=\"$(printf \"%s\" \"$CLEAN_URL\" | sed -E 's|[^/]*/[^/]*/[^/]*/tree/||')\"; DEST_BRANCH=\"$(printf \"%s\" \"$DEST_FULL_PATH\" | cut -d'/' -f1)\"\n          DEST_FOLDER=\"$(printf \"%s\" \"$DEST_FULL_PATH\" | sed -e \"s|^$DEST_BRANCH/||\" -e \"s|^$DEST_BRANCH$||\")\"\n          { echo \"DEST_REPO_NAME=$DEST_REPO\"; echo \"DEST_BRANCH=$DEST_BRANCH\"; echo \"DEST_FOLDER=$DEST_FOLDER\"; } >> \"$GITHUB_ENV\"\n\n      - name: Determine Destination Token & Guard\n        id: dest_token_logic\n        run: |\n          set -euo pipefail\n          if [[ -n \"${{ github.event.inputs.destination_key }}\" ]]; then echo \"token=${{ github.event.inputs.destination_key }}\" >> \"$GITHUB_OUTPUT\"; else echo \"token=${{ secrets.GITHUB_TOKEN }}\" >> \"$GITHUB_OUTPUT\"; fi\n          if [[ \"${{ steps.dest_token_logic.outputs.token }}\" == \"${{ secrets.GITHUB_TOKEN }}\" && \"${{ env.DEST_REPO_NAME }}\" != \"${{ github.repository }}\" ]]; then echo \"::error::destination_key is required for cross-repository writes.\"; exit 1; fi\n\n      - name: Checkout Destination Repo (robust)\n        run: |\n          set -euo pipefail\n          REPO=\"${{ env.DEST_REPO_NAME }}\"; BR=\"${{ env.DEST_BRANCH }}\"; TOK=\"${{ steps.dest_token_logic.outputs.token }}\"\n          git -c http.extraHeader=\"Authorization: token $TOK\" clone --depth 0 \"https://github.com/$REPO.git\" .\n          git config http.https://github.com/.extraheader \"Authorization: token $TOK\"\n          if git ls-remote --exit-code --heads origin \"$BR\" >/dev/null 2>&1; then git checkout -B \"$BR\" \"origin/$BR\"; else git checkout -B \"$BR\"; fi\n\n      - name: Process All Sources\n        id: process_sources\n        run: |\n          set -euo pipefail\n          FILES_COPIED=false; PROCESSED_LIST=\"\"; SUCCESS_COUNT=0; SKIPPED_COUNT=0; NO_MATCH_COUNT=0\n          SRC_INPUTS_RAW=\"${{ github.event.inputs.source_urls }}\"; SRC_INPUTS=\"$(printf \"%s\" \"$SRC_INPUTS_RAW\" | tr -d '\\r')\"\n          FILTER_INPUTS_RAW=\"${{ github.event.inputs.filter_list }}\"; FILTER_INPUTS=\"$(printf \"%s\" \"$FILTER_INPUTS_RAW\" | tr -d '\\r')\"\n          DEST_PATH=\"${{ github.workspace }}\"; if [[ -n \"${{ env.DEST_FOLDER }}\" ]]; then DEST_PATH=\"${{ github.workspace }}/${{ env.DEST_FOLDER }}\"; mkdir -p \"$DEST_PATH\"; fi\n          KEYCHAIN_RAW=\"${{ github.event.inputs.source_keys }}\"; KEYCHAIN=\"$(printf \"%s\" \"$KEYCHAIN_RAW\" | tr -d '\\r')\"; mapfile -t KEYCHAIN_ARR <<< \"$KEYCHAIN\"\n          resolve_branch_and_relpath() {\n            local repo=\"$1\"; local full=\"$2\"; IFS='/' read -r -a PARTS <<< \"$full\"; local n=${#PARTS[@]}\n            for ((i=n; i>=1; i--)); do\n              local cand_branch=\"${PARTS[0]}\"; for ((k=1; k<i; k++)); do cand_branch=\"$cand_branch/${PARTS[$k]}\"; done\n              local cand_path=\"\"; if (( i < n )); then cand_path=\"${PARTS[$i]}\"; for ((k=i+1; k<n; k++)); do cand_path=\"$cand_path/${PARTS[$k]}\"; done; fi\n              local test_url=\"https://api.github.com/repos/$repo/tarball/$cand_branch\"; local code\n              code=\"$(curl -sIL -o /dev/null -w \"%{http_code}\" \"$test_url\" || echo 000)\"; if [[ \"$code\" == \"200\" ]]; then SOURCE_BRANCH=\"$cand_branch\"; REL_PATH=\"$cand_path\"; return 0; fi\n              for KEY in \"${KEYCHAIN_ARR[@]}\"; do\n                KEY=\"$(printf \"%s\" \"$KEY\" | xargs)\"; [[ -z \"$KEY\" ]] && continue\n                code=\"$(curl -sIL -o /dev/null -w \"%{http_code}\" -H \"Authorization: token $KEY\" \"$test_url\" || echo 000)\"; if [[ \"$code\" == \"200\" ]]; then SOURCE_BRANCH=\"$cand_branch\"; REL_PATH=\"$cand_path\"; return 0; fi\n              done\n            done; return 1\n          }\n          while IFS= read -r SOURCE_URL; do\n            SOURCE_URL=\"$(printf \"%s\" \"$SOURCE_URL\" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"; [[ -z \"$SOURCE_URL\" ]] && continue\n            echo \"--- Processing Source: $SOURCE_URL ---\"\n            CLEAN_SRC=\"$(printf \"%s\" \"$SOURCE_URL\" | sed -e 's|^https://||' -e 's|^http://||')\"; SOURCE_REPO=\"$(printf \"%s\" \"$CLEAN_SRC\" | cut -d'/' -f2,3)\"\n            SOURCE_FULL_PATH=\"$(printf \"%s\" \"$CLEAN_SRC\" | sed -E 's|[^/]*/[^/]*/[^/]*/(tree|blob)/||')\"; MODE=\"tree\"; [[ \"$SOURCE_URL\" == *\"/blob/\"* ]] && MODE=\"blob\"\n            if ! resolve_branch_and_relpath \"$SOURCE_REPO\" \"$SOURCE_FULL_PATH\"; then echo \"::warning::Could not resolve branch for $SOURCE_URL. Skipping.\"; SKIPPED_COUNT=$((SKIPPED_COUNT + 1)); continue; fi\n            API_URL=\"https://api.github.com/repos/$SOURCE_REPO/tarball/$SOURCE_BRANCH\"; TEMP_DIR=\"source-temp-$$-$(date +%s%N)\"; TAR_FILE=\"$TEMP_DIR.tar.gz\"\n            STATUS_CODE=\"$(curl -sSL -o \"$TAR_FILE\" -w \"%{http_code}\" --fail-with-body \"$API_URL\" || true)\"\n            if [[ \"$STATUS_CODE\" != \"200\" ]]; then\n              for KEY in \"${KEYCHAIN_ARR[@]}\"; do\n                KEY=\"$(printf \"%s\" \"$KEY\" | xargs)\"; [[ -z \"$KEY\" ]] && continue\n                STATUS_CODE=\"$(curl -sSL -o \"$TAR_FILE\" -w \"%{http_code}\" --fail-with-body -H \"Authorization: token $KEY\" \"$API_URL\" || true)\"; [[ \"$STATUS_CODE\" == \"200\" ]] && break\n              done\n            fi\n            if [[ \"$STATUS_CODE\" != \"200\" ]]; then echo \"::warning::Download failed for $SOURCE_REPO@$SOURCE_BRANCH (HTTP $STATUS_CODE). Skipping.\"; SKIPPED_COUNT=$((SKIPPED_COUNT + 1)); rm -f \"$TAR_FILE\"; continue; fi\n            mkdir -p \"$TEMP_DIR\"; tar -xzf \"$TAR_FILE\" -C \"$TEMP_DIR\" --strip-components=1 --no-same-owner --no-same-permissions; rm -f \"$TAR_FILE\"\n            if [[ \"$MODE\" == \"tree\" ]]; then\n              SRC_PATH=\"$TEMP_DIR\"; [[ -n \"$REL_PATH\" ]] && SRC_PATH=\"$TEMP_DIR/$REL_PATH\"; if [[ ! -d \"$SRC_PATH\" ]]; then echo \"::warning::folder '$REL_PATH' not found in archive. Skipping.\"; SKIPPED_COUNT=$((SKIPPED_COUNT + 1)); rm -rf \"$TEMP_DIR\"; continue; fi\n              cd \"$SRC_PATH\"\n              if [[ -z \"$FILTER_INPUTS\" ]]; then rsync -a . \"$DEST_PATH\"/; else\n                if [[ \"${{ github.event.inputs.filter_mode }}\" == \"Whitelist\" ]]; then\n                  printf \"%s\\n\" \"$FILTER_INPUTS\" > include-list.txt; : > include-effective.txt\n                  while IFS= read -r P; do P=\"$(printf \"%s\" \"$P\" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"; [[ -z \"$P\" ]] && continue; if [[ -e \"$P\" ]]; then printf \"%s\\n\" \"$P\" >> include-effective.txt; fi; done < include-list.txt\n                  if [[ -s include-effective.txt ]]; then rsync -a --files-from=include-effective.txt . \"$DEST_PATH\"/; else echo \"::notice::Whitelist provided but no entries matched. Copying nothing for this source.\"; NO_MATCH_COUNT=$((NO_MATCH_COUNT + 1)); fi; rm -f include-list.txt include-effective.txt\n                else\n                  printf \"%s\\n\" \"$FILTER_INPUTS\" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//' -e '/^$/d' > exclude-list.txt\n                  rsync -a --exclude-from=exclude-list.txt . \"$DEST_PATH\"/; rm -f exclude-list.txt\n                fi\n              fi; cd \"${{ github.workspace }}\"\n            else\n              if [[ -z \"$REL_PATH\" || ! -f \"$TEMP_DIR/$REL_PATH\" ]]; then echo \"::warning::file '$REL_PATH' not found in archive. Skipping.\"; SKIPPED_COUNT=$((SKIPPED_COUNT + 1)); rm -rf \"$TEMP_DIR\"; continue; fi\n              (cd \"$TEMP_DIR\" && rsync -a --relative \"./$REL_PATH\" \"$DEST_PATH\"/)\n            fi\n            PROCESSED_LIST=\"$PROCESSED_LIST $SOURCE_REPO\"; SUCCESS_COUNT=$((SUCCESS_COUNT + 1)); rm -rf \"$TEMP_DIR\"\n          done <<< \"$SRC_INPUTS\"\n          if [ \"$(git status --porcelain=v1 2>/dev/null | wc -l)\" -gt 0 ]; then FILES_COPIED=true; fi\n          { echo \"files_copied=$FILES_COPIED\"; echo \"processed_sources=$PROCESSED_LIST\"; echo \"success_count=$SUCCESS_COUNT\"; echo \"skipped_count=$SKIPPED_COUNT\"; echo \"no_match_count=$NO_MATCH_COUNT\"; } >> \"$GITHUB_OUTPUT\"\n\n      - name: Commit and Push Changes\n        if: steps.process_sources.outputs.files_copied == 'true'\n        run: |\n          set -euo pipefail\n          git config user.name \"github-actions[bot]\"; git config user.email \"github-actions[bot]@users.noreply.github.com\"\n          git fetch origin \"${{ env.DEST_BRANCH }}\" || true\n          git checkout -B \"${{ env.DEST_BRANCH }}\" \"origin/${{ env.DEST_BRANCH }}\" || git checkout -B \"${{ env.DEST_BRANCH }}\"\n          echo \"Rebasing before push…\"; git pull --rebase origin \"${{ env.DEST_BRANCH }}\" || echo \"No remote branch yet; continuing.\"\n          git add -A; git commit -m \"Data transfer from sources:${{ steps.process_sources.outputs.processed_sources }}\" || { echo \"No changes to commit.\"; exit 0; }\n          git push origin \"${{ env.DEST_BRANCH }}\"\n\n      - name: Get HEAD SHA (for check-run)\n        id: head\n        if: always()\n        run: |\n          set -euo pipefail\n          echo \"sha=$(git rev-parse HEAD)\" >> \"$GITHUB_OUTPUT\"\n\n      - name: Publish attention status\n        if: always()\n        uses: actions/github-script@v7\n        continue-on-error: true\n        env: { HEAD_SHA: '${{ steps.head.outputs.sha }}', DEST_REPO: '${{ env.DEST_REPO_NAME }}', DEST_BRANCH: '${{ env.DEST_BRANCH }}', SUCCESS_COUNT: '${{ steps.process_sources.outputs.success_count }}', SKIPPED_COUNT: '${{ steps.process_sources.outputs.skipped_count }}', NO_MATCH_COUNT: '${{ steps.process_sources.outputs.no_match_count }}', FILES_COPIED: '${{ steps.process_sources.outputs.files_copied }}' }\n        with:\n          github-token: ${{ steps.dest_token_logic.outputs.token }}\n          script: |\n            const success = parseInt(process.env.SUCCESS_COUNT || '0', 10);\n            const skipped = parseInt(process.env.SKIPPED_COUNT || '0', 10);\n            const nomatch = parseInt(process.env.NO_MATCH_COUNT || '0', 10);\n            const filesCopied = (process.env.FILES_COPIED || 'false') === 'true';\n            let summary = `Copied: ${success} | Skipped: ${skipped} | Whitelist no-match: ${nomatch} | Files changed: ${filesCopied}`;\n            let conclusion = 'success';\n            if (success === 0 || skipped > 0 || nomatch > 0 || !filesCopied) {\n              conclusion = 'action_required';\n            }\n            if (skipped > 0 && success === 0) { conclusion = 'failure'; }\n            const [owner, repo] = (process.env.DEST_REPO || '').split('/');\n            if (!owner || !repo) { throw new Error(`Could not parse DEST_REPO env var: ${process.env.DEST_REPO}`); }\n            await github.rest.checks.create({ owner, repo, name: 'Import status', head_sha: process.env.HEAD_SHA, status: 'completed', conclusion, output: { title: `Import status → ${process.env.DEST_BRANCH}`, summary } });\n\n      - name: Cleanup Temporary Files\n        if: always()\n        run: |\n          set -euo pipefail\n          rm -rf source-temp-* *.tar.gz include-list.txt include-effective.txt exclude-list.txt || true\n          echo \"Cleanup done.\"\n"
          }
        ]
      }
    ]
  },
  {
    "name": "91_character_black_icon.html",
    "type": "file",
    "size": "92 bytes",
    "path": "91_character_black_icon.html",
    "content": "<link rel=icon href=data:image/bmp;base64,Qk0kAAAAAAAAACAAAAAMAAAAAQABAAEAAQAAAAD///8AAAAA>\n"
  },
  {
    "name": "HTML_realizer.html",
    "type": "file",
    "size": "564 bytes",
    "path": "HTML_realizer.html",
    "content": "<!DOCTYPE html><title>HTML Realizer</title><style>body{margin:0;padding:4px;background:#111;font-family:monospace}div{min-height:40vh;background:#222;color:#eee;border:solid #444;padding:8px;white-space:pre-wrap;margin-bottom:4px;overflow:auto}button{border:0;background:#058;color:#fff;width:100%;height:5vh;font-size:2vh}</style><div id=i contenteditable=\"plaintext-only\" oninput=\"c.textContent=i.textContent.length\"></div><button onclick=\"var code=i.textContent;document.open();document.write(code);document.close()\">Realize (<b id=c>0</b> characters)</button>\n"
  },
  {
    "name": "README.md",
    "type": "file",
    "size": "39 bytes",
    "path": "README.md",
    "content": "# test11\nversatile sites for laziness \n"
  },
  {
    "name": "Speechtotext.html",
    "type": "file",
    "size": "3,174 bytes",
    "path": "Speechtotext.html",
    "content": "<!DOCTYPE html><meta charset=UTF-8><meta name=viewport content=\"width=device-width,initial-scale=1\"><title>Speech to Text</title><style>body{font-family:sans-serif;background:#1a1a1a;color:#e0e0e0;margin:0;padding:8px;display:flex;justify-content:center;align-items:center;min-height:100vh}#m{background:#2c2c2e;border-radius:8px;border:1px solid #444;width:100%;max-width:800px;padding:16px;box-sizing:border-box}h1{text-align:center;color:#2997ff;margin:0 0 16px}#c{text-align:center;margin-bottom:12px}#B{background:#30d158;color:#fff;border:0;padding:10px 20px;font-size:16px;font-weight:700;border-radius:6px;cursor:pointer}#B:hover{background:#28b84b}#B.l{background:#ff453a}#B.l:hover{background:#ff2d23}#S{margin-top:8px;font-size:14px;color:#b0b0b0;min-height:18px}#R{border:1px solid #444;border-radius:6px;padding:12px;height:300px;overflow-y:auto;margin-bottom:12px;line-height:1.6}#R p{margin:0 0 8px;padding-left:5px;position:relative}#R p::before{content:\"[\"attr(data-t)\"]\";color:#9e9e9e;font-size:.8em;font-family:monospace;margin-right:8px;user-select:none;-webkit-user-select:none;-moz-user-select:none}.i{color:#999}h2{font-size:1.1em;color:#e0e0e0;border-bottom:1px solid #444;padding-bottom:5px;margin:16px 0 8px}#F{width:100%;height:150px;border:1px solid #444;background:#222;color:#e0e0e0;border-radius:6px;padding:10px;font-size:16px;resize:vertical;box-sizing:border-box}#C{background:#2997ff;color:#fff;border:0;padding:8px 16px;font-size:16px;border-radius:6px;cursor:pointer;margin-top:8px}#C:hover{background:#1a88e8}</style><div id=m><h1>Speech-to-Text Tool</h1><div id=c><button id=B>Start Listening</button><p id=S>Status: Idle. Click button to grant mic access.</p></div><div id=R></div><div><h2>Easy Copy & Paste Text</h2><textarea id=F readonly placeholder=\"Your clean, copyable text will appear here...\"></textarea><button id=C>Copy All Text</button></div></div><script>let r,L=0;const W=window.SpeechRecognition||window.webkitSpeechRecognition,T=t=>{const e=document.createElement(\"p\");e.dataset.t=(new Date).toTimeString().slice(0,8),e.textContent=t[0].toUpperCase()+t.slice(1),R.appendChild(e),R.scrollTop=R.scrollHeight},U=()=>{let t=\"\";R.querySelectorAll(\"p:not(.i)\").forEach(e=>{t+=e.textContent+\" \"}),F.value=t.trim()};W?(r=new W,r.continuous=1,r.interimResults=1,r.lang=\"en-US\",r.onstart=()=>{L=1,S.textContent=\"Status: Listening...\",B.textContent=\"Stop Listening\",B.classList.add(\"l\")},r.onend=()=>{L=0,S.textContent=\"Status: Idle. Click to start again.\",B.textContent=\"Start Listening\",B.classList.remove(\"l\")},r.onerror=e=>S.textContent=`Error: ${e.error}`,r.onresult=e=>{let t=\"\",n=\"\";for(let c=e.resultIndex;c<e.results.length;++c)e.results[c].isFinal?n+=e.results[c][0].transcript:t+=e.results[c][0].transcript;if(n.trim()&&T(n.trim()),U(),document.querySelector(\".i\")?.remove(),t){const c=document.createElement(\"p\");c.className=\"i\",c.textContent=t,R.appendChild(c)}},B.onclick=()=>L?r.stop():r.start()):(S.textContent=\"Unsupported Browser\",B.disabled=1),C.onclick=()=>{F.value&&navigator.clipboard.writeText(F.value).then(()=>{const t=C.textContent;C.textContent=\"Copied!\",setTimeout(()=>C.textContent=t,2e3)})}</script>\n"
  },
  {
    "name": "backups",
    "type": "folder",
    "size": "1 bytes",
    "path": "backups",
    "children": [
      {
        "name": "backup1",
        "type": "folder",
        "size": "1 bytes",
        "path": "backups/backup1",
        "children": [
          {
            "name": "makefolder",
            "type": "file",
            "size": "1 bytes",
            "path": "backups/backup1/makefolder",
            "content": "\n"
          }
        ]
      }
    ]
  },
  {
    "name": "c",
    "type": "folder",
    "size": "6,337 bytes",
    "path": "c",
    "children": [
      {
        "name": "c++",
        "type": "folder",
        "size": "6,337 bytes",
        "path": "c/c++",
        "children": [
          {
            "name": "1.cpp",
            "type": "file",
            "size": "6,337 bytes",
            "path": "c/c++/1.cpp",
            "content": "#include <WiFi.h>\n#include <WebServer.h>\n#include <esp_wifi.h>\n#include <math.h>\n#define R return\n#define C esp_wifi_set_\n#define Z(v) if(v>3.14159)v-=6.28318;if(v<-3.14159)v+=6.28318\nstruct V{float x,p,a,o,lp,ld;int s,zc;};\nstruct L{uint32_t t;float p,v;};\nstruct F{float mn,mx;int pt;};\nV m[64];L h[200];int hx=0;uint32_t T;bool Ld=0,Cmp=0;\nWebServer S(80);int i;int8_t b[512];float l,d,cm,tm,iv,Q,al,av;F flt={0.5,50.0,5};\nuint8_t pkt[]={0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00};\nconst char* P=R\"===(<body style=\"margin:0;background:#050505;color:#ccc;font-family:sans-serif;overflow:hidden\">\n<canvas id=c></canvas>\n<div style=\"position:absolute;top:0;left:0;width:260px;padding:10px;background:rgba(0,0,0,0.9);border-bottom-right-radius:8px;font-size:12px;border:1px solid #333;border-left:0;border-top:0\">\n <h3 style=\"margin:0 0 5px 0;color:#0f0\">SENTINEL RADAR</h3>\n <div style=\"display:flex;justify-content:space-between;margin-bottom:5px\">\n  <span>STATUS: <b id=st style=\"color:#ff0\">INIT</b></span>\n  <span>LIVE MASS: <b id=ls style=\"color:#fff\">0.0</b></span>\n </div>\n <div style=\"margin-bottom:10px\">\n  <button id=bm onclick=\"tC()\" style=\"width:100%;padding:5px;background:#333;color:#fff;border:1px solid #555;cursor:pointer\">MODE: ADAPTIVE</button>\n </div>\n <fieldset style=\"border:1px solid #444;margin-bottom:10px;padding:5px\">\n  <legend style=\"color:#0f0\">FILTERS (0 = OFF)</legend>\n  <div style=\"display:flex;justify-content:space-between;margin-bottom:4px\">\n   <span>MIN SIZE:</span><input id=imn value=0.5 style=\"width:50px;background:#222;color:#fff;border:0;text-align:center\">\n  </div>\n  <div style=\"display:flex;justify-content:space-between;margin-bottom:4px\">\n   <span>MAX SIZE:</span><input id=imx value=50.0 style=\"width:50px;background:#222;color:#fff;border:0;text-align:center\">\n  </div>\n  <div style=\"display:flex;justify-content:space-between\">\n   <span>FAN/OSC:</span><input id=ip value=5 style=\"width:50px;background:#222;color:#fff;border:0;text-align:center\">\n  </div>\n  <button onclick=\"uF()\" style=\"width:100%;margin-top:5px;background:#224;color:#fff;border:0;cursor:pointer;padding:4px\">UPDATE FILTERS</button>\n </fieldset>\n <button id=ba onclick=\"tA()\" style=\"width:100%;padding:8px;background:#300;color:#fff;border:1px solid #f00;font-weight:bold;cursor:pointer\">ENABLE AUDIO</button>\n</div>\n<script>\nlet ctx=c.getContext('2d'),w,h,M=[],H=[],Rx=.5,Ry=.5,z=10,cp=0,ae=0,ac,lo=0,lt=0;\nc.width=w=innerWidth;c.height=h=innerHeight;\nfunction tC(){cp=!cp;fetch('/s?m='+(cp?1:0));bm.innerText='MODE: '+(cp?'ORIGINAL':'ADAPTIVE');bm.style.background=cp?'#005':'#333';}\nfunction uF(){fetch(`/f?n=${imn.value}&x=${imx.value}&p=${ip.value}`);}\nfunction tA(){ae=!ae;if(ae){ac=new(window.AudioContext||window.webkitAudioContext)();ba.innerText='AUDIO ARMED';ba.style.background='#050';ba.style.borderColor='#0f0';}else{ba.innerText='ENABLE AUDIO';ba.style.background='#300';ba.style.borderColor='#f00';}}\nfunction bp(f){if(!ae)return;let o=ac.createOscillator(),g=ac.createGain();o.connect(g);g.connect(ac.destination);o.frequency.value=f;o.type='square';o.start();g.gain.setValueAtTime(.1,ac.currentTime);g.gain.exponentialRampToValueAtTime(.001,ac.currentTime+0.1);o.stop(ac.currentTime+0.1);}\nfunction P3(x,y,d){let c=Math.cos(Rx),s=Math.sin(Rx),dc=Math.cos(Ry),ds=Math.sin(Ry);let x1=x,y1=y*c-d*s,z1=y*s+d*c,x2=x1*dc-z1*ds,y2=y1,z2=x1*ds+z1*dc,f=400/(400+z2);return{x:w/2+x2*z*f,y:h/2+y2*z*f,s:f*5}}\nsetInterval(async()=>{\n let d=await(await fetch('/d')).json();M=d.m;H=d.h;st.innerText=d.s;ls.innerText=d.sz.toFixed(2);\n if(d.a&&ae){let now=Date.now(),diff=Math.abs(d.l-lo);\n if(diff>5||now-lt>500){lo=d.l;lt=now;bp(600+d.sz*10);}}\n ctx.fillStyle='#000';ctx.fillRect(0,0,w,h);\n ctx.beginPath();ctx.strokeStyle='#f00';ctx.lineWidth=2;\n H.forEach((p,i)=>{let v=P3(i/3-30,-p.p*20,p.v*10);i?ctx.lineTo(v.x,v.y):ctx.moveTo(v.x,v.y)});ctx.stroke();\n M.forEach((v,i)=>{let p=P3(i-32,-v.x*30,0),cl=`rgba(0,255,0,${1-v.p})`;\n if(v.s==1)cl='#ff0';if(v.s==2)cl='#f00';if(v.s==3)cl='#0ff';\n ctx.fillStyle=cl;ctx.fillRect(p.x,p.y,p.s,p.s*5)})\n},50);\nonmousemove=e=>{if(e.buttons){Rx+=e.movementY*.01;Ry+=e.movementX*.01}}\nonwheel=e=>{z-=e.deltaY*.01}\n</script>)===\";\nvoid r(void*_,wifi_csi_info_t*o){if(o->len>256)R;memcpy(b,o->buf,o->len);l=0;cm=0;tm=0;\nfor(i=0;i<64;i++){float raw=atan2(b[i*2+1],b[i*2]);if(i){d=raw-l;Z(d);raw=m[i-1].x+d;}l=raw;\nfloat delta=raw-m[i].lp;if((delta>0&&m[i].ld<0)||(delta<0&&m[i].ld>0))m[i].zc++;\nif(m[i].zc>0&&rand()%10==0)m[i].zc--;m[i].lp=raw;m[i].ld=delta;\niv=raw-m[i].x;Q=iv*iv;if(Q>.5)Q=1.;else if(Q<.001)Q=1e-6;\nm[i].p+=Q;float k=m[i].p/(m[i].p+.1);m[i].x+=k*iv;m[i].p=(1.-k)*m[i].p;\nif(!Ld){m[i].a=m[i].x;m[i].o=m[i].x;m[i].s=0;}else{\nif(flt.pt>0&&m[i].zc>flt.pt){m[i].s=3;continue;}\nfloat rf=Cmp?m[i].o:m[i].a;float df=fabs(m[i].x-rf);\nif(df>.5){m[i].s=(m[i].p<.01)?1:2;if(m[i].s==2){cm+=i*df;tm+=df;}}\nelse{m[i].s=0;if(!Cmp)m[i].a=m[i].a*.999+m[i].x*.001;}}}\nav=0;if(Ld){if(flt.mn>0&&tm<flt.mn)tm=0;if(flt.mx>0&&tm>flt.mx)tm=0;\nif(tm>0){float p=cm/tm,v=0;int lx=hx?hx-1:199;al=p;av=1;\nif(h[lx].t>0){float dt=(millis()-h[lx].t)/1000.;if(dt>0)v=(p-h[lx].p)/dt;}\nh[hx]={millis(),p,v};hx=(hx+1)%200;}}\nvoid setup(){T=millis();WiFi.softAP(\"ESP32_SENTINEL\",\"\");\nfor(i=0;i<64;i++)m[i]={0,1,0,0,0,0,0,0};C csi_rx_cb(r,0);C csi(1);\nwifi_csi_config_t c={1,1,1,1,0,0,0};C csi_config(&c);S.on(\"/\",[](){S.send(200,\"text/html\",P);});\nS.on(\"/s\",[](){if(S.hasArg(\"m\"))Cmp=S.arg(\"m\").toInt();S.send(200,\"text/plain\",\"OK\");});\nS.on(\"/f\",[](){if(S.hasArg(\"n\"))flt.mn=S.arg(\"n\").toFloat();if(S.hasArg(\"x\"))flt.mx=S.arg(\"x\").toFloat();\nif(S.hasArg(\"p\"))flt.pt=S.arg(\"p\").toInt();S.send(200,\"text/plain\",\"OK\");});\nS.on(\"/d\",[](){String j=\"{\\\"s\\\":\\\"\"+String(Ld?\"ARMED\":\"LEARNING\")+\"\\\",\\\"sz\\\":\"+String(tm)+\",\\\"a\\\":\"+String(av)+\",\\\"l\\\":\"+String(al)+\",\\\"m\\\":[\";\nfor(i=0;i<64;i++)j+=(i?\",\":\"\")+String(\"{\\\"x\\\":\")+m[i].x+\",\\\"p\\\":\"+m[i].p+\",\\\"s\\\":\"+m[i].s+\"}\";j+=\"],\\\"h\\\":[\";\nint x=hx;for(int k=0;k<200;k++){if(h[x].t)j+=(k?\",\":\"\")+String(\"{\\\"t\\\":\")+h[x].t+\",\\\"p\\\":\"+h[x].p+\",\\\"v\\\":\"+h[x].v+\"}\";\nx=(x+1)%200;}S.send(200,\"application/json\",j+\"]}\");});S.begin();}\nvoid loop(){S.handleClient();if(!Ld&&millis()-T>60000){Ld=1;for(i=0;i<64;i++)m[i].o=m[i].x;}\nif(Ld){pkt[22]++;esp_wifi_80211_tx(WIFI_IF_AP,pkt,24,1);}delay(5);}\n"
          }
        ]
      }
    ]
  },
  {
    "name": "enhanced_timer.html",
    "type": "file",
    "size": "10,008 bytes",
    "path": "enhanced_timer.html",
    "content": "<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content=\"width=device-width,initial-scale=1,user-scalable=no\"><title>Enhanced Timer</title><link rel=icon href=data:image/bmp;base64,Qk0kAAAAAAAAACAAAAAMAAAAAQABAAEAAQAAAAD///8AAAAA><link rel=apple-touch-icon href=data:image/bmp;base64,Qk0kAAAAAAAAACAAAAAMAAAAAQABAAEAAQAAAAD///8AAAAA><link rel=manifest href=data:application/manifest+json,%7B%22name%22%3A%22Enhanced%20Timer%22%2C%22short_name%22%3A%22Timer%22%2C%22start_url%22%3A%22.%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%23121212%22%2C%22theme_color%22%3A%22%23121212%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22data%3Aimage%2Fbmp%3Bbase64%2CQk0kAAAAAAAAACAAAAAMAAAAAQABAAEAAQAAAAD%2F%2F%2F8AAAAA%22%2C%22sizes%22%3A%2212x12%22%2C%22type%22%3A%22image%2Fbmp%22%7D%5D%7D><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><style>:root{--warning-flash-color:#ff0;--target-flash-color:#0ff;--overtime-flash-color:red;--bg-color:#121212;--main-text-color:#e0e0e0;--secondary-text-color:#888;--history-text-color:#666;--panel-bg-color:#2a2a2a}html,body{height:100%;margin:0;padding:0;font-family:'Courier New',Courier,monospace;background-color:var(--bg-color);color:var(--main-text-color);overflow:hidden;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.container{display:flex;height:100%;width:100%;transition:background-color .1s ease-in-out}.main-display{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}#timer{font-size:25vw;font-weight:700;line-height:1}#previous-time{font-size:5vw;color:var(--secondary-text-color);margin-top:10px;min-height:6vw}.history{width:220px;padding:20px;border-left:1px solid #333;height:100vh;overflow-y:auto;box-sizing:border-box}.history h2{margin-top:0;color:var(--secondary-text-color);font-size:1.2em}.history ol{padding-left:25px;margin:0;color:var(--history-text-color);font-size:1.1em}.history li{margin-bottom:5px}.flash-warning{background-color:var(--warning-flash-color)!important}.flash-target{background-color:var(--target-flash-color)!important}.flash-overtime{background-color:var(--overtime-flash-color)!important}#settings-button{position:absolute;top:15px;right:15px;width:40px;height:40px;cursor:pointer;z-index:1001;color:var(--secondary-text-color)}#settings-button:hover{color:var(--main-text-color)}#settings-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);z-index:1000;justify-content:center;align-items:center}#settings-modal.visible{display:flex}.settings-panel{background-color:var(--panel-bg-color);padding:30px;border-radius:8px;color:var(--main-text-color);display:flex;flex-direction:column;gap:25px;border:1px solid #444;min-width:300px}.setting-row{display:flex;justify-content:space-between;align-items:center}.setting-row label{font-size:1.1em}.setting-row input[type=number]{font-size:1.2em;width:80px;padding:8px;background-color:var(--bg-color);border:1px solid #555;color:var(--main-text-color);border-radius:4px;text-align:center}.setting-toggle{display:flex;align-items:center;gap:12px}.setting-toggle input[type=checkbox]{width:22px;height:22px;cursor:pointer}.setting-toggle span{color:var(--secondary-text-color);margin-left:-5px}.setting-row input[type=color]{width:50px;height:35px;border:1px solid #555;padding:2px;background-color:var(--bg-color);cursor:pointer}.settings-panel button{font-size:1.2em;padding:10px 20px;border:none;border-radius:4px;background-color:var(--yellow-flash);color:var(--bg-color);cursor:pointer;font-weight:700;margin-top:10px}#install-app-button{background-color:transparent;color:var(--yellow-flash);border:2px solid var(--yellow-flash);margin-top:0;transition:opacity .3s,color .3s,border-color .3s}#install-app-button.inactive{opacity:.5;color:var(--secondary-text-color);border-color:var(--secondary-text-color);cursor:not-allowed}</style></head><body><div id=settings-button><svg xmlns=http://www.w3.org/2000/svg viewBox=\"0 0 24 24\" fill=currentColor><path d=\"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.44,0.17-0.48,0.41L9.2,5.7c-0.59,0.24-1.13,0.57-1.62,0.94l-2.39-0.96c-0.22-0.08-0.47,0-0.59,0.22L2.69,9.22 c-0.11,0.2-0.06,0.47,0.12,0.61l2.03,1.58C4.78,11.66,4.76,11.97,4.76,12.3c0,0.32,0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.89 c0.04,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.48-0.41l0.36-2.89c0.59-0.24,1.13-0.57,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59,0.22l1.92-3.32c0.11-0.2,0.06-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"></path></svg></div><div id=settings-modal><div class=settings-panel><div class=setting-row><label for=target-time-input>Target Time (sec)</label><input type=number id=target-time-input min=1></div><div class=setting-row><label for=debounce-toggle>Reset Protection</label><div class=setting-toggle><input type=checkbox id=debounce-toggle><input type=number id=debounce-time-input min=0><span>ms</span></div></div><div class=setting-row><label for=warning-color-input>Warning Flash</label><input type=color id=warning-color-input></div><div class=setting-row><label for=target-color-input>Target Flash</label><input type=color id=target-color-input></div><div class=setting-row><label for=overtime-color-input>Overtime Flash</label><input type=color id=overtime-color-input></div><button id=install-app-button class=inactive>Download as App</button><button id=save-settings-button>Save & Close</button></div></div><div class=container id=container><div class=main-display><div id=timer>00.000</div><div id=previous-time></div></div><aside class=history><h2>History</h2><ol id=history-list></ol></aside></div><script>const d=document,g=e=>d.getElementById(e),o=(e,t,n)=>e.addEventListener(t,n),L=e=>localStorage.getItem(e),S=(e,t)=>localStorage.setItem(e,t),c=g(\"container\"),r=g(\"timer\"),s=g(\"previous-time\"),a=g(\"history-list\"),l=g(\"settings-button\"),i=g(\"settings-modal\"),u=g(\"target-time-input\"),m=g(\"debounce-toggle\"),f=g(\"debounce-time-input\"),h=g(\"warning-color-input\"),p=g(\"target-color-input\"),v=g(\"overtime-color-input\"),y=g(\"save-settings-button\"),b=g(\"install-app-button\");let P=null,T=0,I=null,R=!1,F=-1,H=[],A=null,tT,dE,dT,wC,tC,oC;function AC(e,t,n){d.documentElement.style.setProperty(\"--warning-flash-color\",e),d.documentElement.style.setProperty(\"--target-flash-color\",t),d.documentElement.style.setProperty(\"--overtime-flash-color\",n)}function LS(){tT=parseInt(L(\"targetTime\"))||60,dE=\"false\"!==L(\"isDebounceEnabled\"),dT=parseInt(L(\"debounceTime\"))||300,wC=L(\"warningFlashColor\")||\"#FFFF00\",tC=L(\"targetFlashColor\")||\"#00FFFF\",oC=L(\"overtimeFlashColor\")||\"#FF0000\",u.value=tT,m.checked=dE,f.value=dT,h.value=wC,p.value=tC,v.value=oC,AC(wC,tC,oC)}function SS(){const e=parseInt(u.value),t=parseInt(f.value);if(isNaN(e)||e<=0)return void alert(\"Target Time must be a positive number.\");if(isNaN(t)||t<0)return void alert(\"Reset Protection time must be a positive number.\");tT=e,dE=m.checked,dT=t,wC=h.value,tC=p.value,oC=v.value,S(\"targetTime\",tT),S(\"isDebounceEnabled\",dE),S(\"debounceTime\",dT),S(\"warningFlashColor\",wC),S(\"targetFlashColor\",tC),S(\"overtimeFlashColor\",oC),AC(wC,tC,oC),i.classList.remove(\"visible\")}LS();const PS=()=>{if(!A)A=new(window.AudioContext||window.webkitAudioContext);const e=A.createOscillator(),t=A.createGain();e.connect(t),t.connect(A.destination),e.type=\"sine\",e.frequency.setValueAtTime(880,A.currentTime),t.gain.setValueAtTime(.5,A.currentTime),t.gain.exponentialRampToValueAtTime(.001,A.currentTime+.1),e.start(A.currentTime),e.stop(A.currentTime+.1),setTimeout(()=>{const e=A.createOscillator(),t=A.createGain();e.connect(t),t.connect(A.destination),e.type=\"sine\",e.frequency.setValueAtTime(880,A.currentTime),t.gain.setValueAtTime(.5,A.currentTime),t.gain.exponentialRampToValueAtTime(.001,A.currentTime+.15),e.start(A.currentTime),e.stop(A.currentTime+.15)},150)};function FT(e){const t=Math.floor(e/1e3),n=Math.floor(e%1e3);return`${String(t).padStart(2,\"0\")}.${String(n).padStart(3,\"0\")}`}function UT(){const e=Date.now()-T;r.textContent=FT(e);const t=Math.floor(e/1e3);if(t===F)return;if(t<tT){const n=[tT-10,tT-5,tT-4,tT-3,tT-2,tT-1];n.includes(t)&&t>=0&&(FL(\"warning\"),F=t)}else t===tT?(FL(\"target\"),PS(),F=t):(FL(\"overtime\"),F=t)}function FL(e){c.classList.add(`flash-${e}`),setTimeout(()=>c.classList.remove(`flash-${e}`),150)}function UI(){s.textContent=H.length>0?`Prev: ${H[0]}`:\"\",a.innerHTML=H.map(e=>`<li>${e}</li>`).join(\"\")}function HI(e){if(e.target.closest(\"#settings-button\")||e.target.closest(\"#settings-modal\"))return;if(dE&&R&&Date.now()-T<dT)return;R&&(H.unshift(FT(Date.now()-T)),H.length>50&&H.pop()),clearInterval(I),UI(),R=!0,T=Date.now(),F=-1,r.textContent=\"00.000\",I=setInterval(UT,16)}o(window,\"beforeinstallprompt\",e=>{e.preventDefault(),P=e,b.classList.remove(\"inactive\")}),o(b,\"click\",async()=>{P?(P.prompt(),await P.userChoice,P=null,b.classList.add(\"inactive\")):alert(\"App installation is not available right now.\\n\\nTo install this app:\\n1. Use a compatible browser (like Chrome on Desktop/Android, or Edge).\\n2. Make sure you are visiting the secure (https://) version of this page.\\n\\nOn iPhone, use Safari's 'Share' button and then 'Add to Home Screen'.\\n\\nIf you've met these conditions and it still doesn't work, send message to the developer.\")}),o(window,\"appinstalled\",()=>{P=null}),o(l,\"click\",()=>{i.classList.add(\"visible\")}),o(y,\"click\",SS),o(i,\"click\",e=>{e.target===i&&i.classList.remove(\"visible\")}),o(d.body,\"mouseup\",HI),o(d.body,\"touchend\",HI);</script></body></html>\n"
  },
  {
    "name": "file_renamer_and_editor.html",
    "type": "file",
    "size": "5,344 bytes",
    "path": "file_renamer_and_editor.html",
    "content": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><title>File Renamer and Editor</title><style>body{font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif;background-color:#1e1e1e;color:#d4d4d4;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}.container{background-color:#252526;padding:30px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.5);width:480px;border:1px solid #3c3c3c}h2{margin-top:0;color:#ccc;border-bottom:1px solid #444;padding-bottom:10px}.input-group{margin-bottom:20px}label{display:block;margin-bottom:8px;font-weight:700;color:#a0a0a0}input[type=file],input[type=text]{width:100%;padding:10px;box-sizing:border-box;border-radius:4px;border:1px solid #3c3c3c;background-color:#333;color:#ccc;font-size:14px}input::file-selector-button{background-color:#0e639c;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;margin-right:10px}button{width:100%;padding:12px;background-color:#007acc;color:#fff;font-size:16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s;margin-top:10px}button:hover{background-color:#005a9e}button:disabled{background-color:#444;cursor:not-allowed}#result{margin-top:20px;padding:15px;background-color:#1e1e1e;border:1px solid #444;border-radius:4px;word-wrap:break-word;font-family:\"Courier New\",Courier,monospace}.modal-overlay{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.7);justify-content:center;align-items:center}.modal-content{background-color:#252526;margin:auto;padding:20px;border:1px solid #555;width:80%;max-width:800px;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,.5);display:flex;flex-direction:column;height:80vh}.modal-header{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #444;padding-bottom:10px;margin-bottom:15px}.modal-header h3{margin:0}.close-btn{color:#aaa;font-size:28px;font-weight:700;cursor:pointer}.close-btn:hover{color:#fff}#editor{flex-grow:1;width:100%;background-color:#1e1e1e;color:#d4d4d4;border:1px solid #3c3c3c;border-radius:4px;resize:none;font-family:\"Courier New\",monospace;font-size:14px;padding:10px;box-sizing:border-box}.modal-footer{margin-top:15px;display:flex;justify-content:flex-end}</style></head><body><div class=\"container\"><h2>Advanced File Editor & Renamer</h2><div class=\"input-group\"><label for=\"fileInput\">1. Select a File (Optional)</label><input type=\"file\" id=\"fileInput\"></div><div class=\"input-group\"><button id=\"editCreateBtn\">Edit / Create File</button></div><div class=\"input-group\"><label for=\"newNameInput\">2. Set New Name or Extension</label><input type=\"text\" id=\"newNameInput\" placeholder=\"e.g., new_file_name OR .txt\" disabled></div><div id=\"result\"><p><strong>Original:</strong> <span id=\"originalName\">No file active</span></p><p><strong>New:</strong> <span id=\"newName\">N/A</span></p></div><button id=\"downloadBtn\" disabled>Download File</button></div><div id=\"editorModal\" class=\"modal-overlay\"><div class=\"modal-content\"><div class=\"modal-header\"><h3 id=\"modalTitle\">File Editor</h3><span class=\"close-btn\">&times;</span></div><textarea id=\"editor\" placeholder=\"File content goes here...\"></textarea><div class=\"modal-footer\"><button id=\"saveBtn\">Save Changes</button></div></div></div><script>const f=document.getElementById(\"fileInput\"),n=document.getElementById(\"newNameInput\"),o=document.getElementById(\"originalName\"),t=document.getElementById(\"newName\"),d=document.getElementById(\"downloadBtn\"),c=document.getElementById(\"editCreateBtn\"),e=document.getElementById(\"editorModal\"),i=document.getElementById(\"modalTitle\"),l=document.getElementById(\"editor\"),a=document.getElementById(\"saveBtn\"),s=document.querySelector(\".close-btn\");let u=null,m=\"untitled.txt\";function p(){const o=null!==u;n.disabled=!o,d.disabled=!o,o?(originalName.textContent=m,g()):(originalName.textContent=\"No file active\",t.textContent=\"N/A\",n.value=\"\")}function g(){if(!u)return;const o=n.value.trim();let r;r=\"\"===o?m:o.startsWith(\".\")?(-1===(e=m.lastIndexOf(\".\"))?m:m.substring(0,e))+o:o,t.textContent=r}function E(){e.style.display=\"flex\"}function w(){e.style.display=\"none\"}f.addEventListener(\"change\",e=>{e.target.files.length>0&&(u=e.target.files[0],m=u.name,p())}),n.addEventListener(\"input\",g),c.addEventListener(\"click\",()=>{if(u&&f.files[0]){i.textContent=`Editing: ${m}`;const e=new FileReader;e.onload=e=>{l.value=e.target.result},e.onerror=()=>{l.value=\"Error: Could not read file.\"},e.readAsText(u)}else i.textContent=\"Create New File\",l.value=\"\",f.value=\"\",u=null,m=\"untitled.txt\",p();E()}),s.onclick=w,window.onclick=o=>{o.target==e&&w()},a.addEventListener(\"click\",()=>{const e=l.value,o=u?u.type:\"text/plain\";u=new Blob([e],{type:o}),i.textContent.startsWith(\"Create\")&&(m=n.value.trim()||\"untitled.txt\"),p(),w()}),d.addEventListener(\"click\",()=>{if(!u)return void alert(\"No active file to download.\");const o=t.textContent;if(!o||\"N/A\"===o)return void alert(\"Please set a valid new name for the file.\");const n=document.createElement(\"a\");n.href=URL.createObjectURL(u),n.download=o,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(n.href)}),p();</script></body></html>\n"
  },
  {
    "name": "full_account_via_githack.html",
    "type": "file",
    "size": "1,318 bytes",
    "path": "full_account_via_githack.html",
    "content": "<!DOCTYPE html><script>const u='halitziyakartal',p=new URLSearchParams(location.search),r=p.get('r'),b=p.get('b'),s=p.get('s');let a=`https://api.github.com/repos/${u}/${r}/`;document.write(`<style>body{background:#0f172a;color:#e2e8f0;font-family:sans-serif;margin:0;padding:1rem}a{display:block;background:#1e293b;border:1px solid #334155;border-radius:12px;padding:1.5rem;margin:1rem 0;text-decoration:none;color:inherit}h1{font-size:3rem;text-align:center;color:#a78bfa;background:linear-gradient(135deg,#60a5fa,#a78bfa,#f472b6);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.t{font-size:1.2rem;font-weight:600}.m{font-size:.9rem;color:#94a3b8;margin-top:.5rem}</style><h1>GitHub Explorer</h1><div id=c>Loading...</div>`);fetch(r?b?`${a}git/trees/${b}?recursive=1`:`${a}branches`:`https://api.github.com/users/${u}/repos?sort=pushed`).then(e=>e.json()).then(d=>{c.innerHTML=(r?b?d.tree.map(i=>`<a href=//raw.githack.com/${u}/${r}/${s}/${i.path} target=_blank><span class=t>${i.path}</span></a>`).join(''):d.map(i=>`<a href=?r=${r}&b=${i.commit.sha}&s=${i.name}><span class=t>${i.name}</span></a>`).join(''):d.map(i=>`<a href=?r=${i.name}><span class=t>${i.name}</span><div class=m>${i.description||''}</div></a>`).join('')||'Error')}).catch(e=>c.innerHTML='Error')</script>\n"
  },
  {
    "name": "google_apps_script",
    "type": "folder",
    "size": "7,840 bytes",
    "path": "google_apps_script",
    "children": [
      {
        "name": "1.gs",
        "type": "file",
        "size": "6,729 bytes",
        "path": "google_apps_script/1.gs",
        "content": "function auto_share_for_connected_ai_studio() {\n  var force_full_check = 0;\n  var stop_at_error = 0;\n  var alert_at_error = 1;\n  var mail_daily_report = 1;\n  var mail_monthly_report = 1;\n  var mail_target = 0;\n  var share_notification_silencer = 0;\n\n  var lock = LockService.getScriptLock();\n  if (!lock.tryLock(30000)) return;\n\n  try {\n    var p = PropertiesService.getScriptProperties();\n    var team = [\"mail12@gmail.com\", \"mail13@gmail.com\", \"mail14@gmail.com\", \"mail15@gmail.com\", \"mail16@gmail.com\"];\n    \n    var me = Session.getActiveUser().getEmail();\n    var work_team = [];\n    for(var i=0; i<team.length; i++) if(team[i] !== me) work_team.push(team[i]);\n\n    var now = new Date();\n    var today_str = now.toISOString().slice(0, 10).replace(/-/g, \"_\");\n    var month_str = now.toISOString().slice(0, 7).replace(/-/g, \"_\");\n\n    var storage_id = p.getProperty(\"STORAGE_FOLDER_ID\");\n    var folder;\n    if (storage_id) { try { folder = DriveApp.getFolderById(storage_id); } catch(e) {} }\n    if (!folder) {\n      var folders = DriveApp.getFoldersByName(\"auto_share_for_connected_ai_studio\");\n      if (folders.hasNext()) folder = folders.next();\n      else folder = DriveApp.createFolder(\"auto_share_for_connected_ai_studio\");\n      p.setProperty(\"STORAGE_FOLDER_ID\", folder.getId());\n    }\n    storage_id = folder.getId();\n\n    var last_log_day = p.getProperty(\"LOG_DATE_DAY\");\n    if (last_log_day && last_log_day !== today_str) {\n      if (mail_daily_report === 1) {\n        var y_content = read_drive_file(storage_id, \"daily_log_\" + last_log_day + \".txt\");\n        if (y_content && y_content.length > 5) {\n          send_mail_logic(mail_target, team, \"daily report at \" + last_log_day + \" for auto_share_for_connected_ai_studio\", \"Activity Log:\\n\\n\" + y_content);\n        }\n      }\n      p.setProperty(\"LOG_DATE_DAY\", today_str);\n    } else if (!last_log_day) p.setProperty(\"LOG_DATE_DAY\", today_str);\n\n    var last_log_month = p.getProperty(\"LOG_DATE_MONTH\");\n    if (last_log_month && last_log_month !== month_str) {\n      if (mail_monthly_report === 1) {\n        var m_content = read_drive_file(storage_id, \"monthly_log_\" + last_log_month + \".txt\");\n        if (m_content && m_content.length > 5) {\n           var target = (mail_target === 0) ? 1 : mail_target;\n           send_mail_logic(target, team, \"monthly report at \" + last_log_month + \" for auto_share_for_connected_ai_studio\", \"Monthly Summary:\\n\\n\" + m_content);\n        }\n      }\n      p.setProperty(\"LOG_DATE_MONTH\", month_str);\n    } else if (!last_log_month) p.setProperty(\"LOG_DATE_MONTH\", month_str);\n\n    var k = \"T_V8\";\n    var qt = p.getProperty(k) || \"1970-01-01T00:00:00.000Z\";\n    if (force_full_check === 1) qt = \"1970-01-01T00:00:00.000Z\";\n    var st = qt, total_up = 0;\n    var f = DriveApp.getFoldersByName(\"Google AI Studio\");\n    var silent = (share_notification_silencer === 2 || (share_notification_silencer === 1 && force_full_check === 1));\n    var run_errors = [];\n\n    while (f.hasNext()) {\n      var fid = f.next().getId(), page;\n      do {\n        var res = Drive.Files.list({\n          q: \"'\" + fid + \"' in parents and createdTime > '\" + qt + \"' and trashed = false\",\n          orderBy: \"createdTime\",\n          fields: \"nextPageToken, files(id, name, createdTime, permissions(emailAddress))\",\n          pageToken: page\n        });\n        var list = res.files;\n        if (!list || list.length === 0) break;\n\n        for (var i = 0; i < list.length; i++) {\n          var item = list[i], cur = [];\n          if (item.permissions) for (var j = 0; j < item.permissions.length; j++) cur.push(item.permissions[j].emailAddress);\n          var add = [];\n          for (var x = 0; x < work_team.length; x++) if (cur.indexOf(work_team[x]) < 0) add.push(work_team[x]);\n\n          if (add.length > 0) {\n            try {\n              if (silent) {\n                for (var z = 0; z < add.length; z++) {\n                  Drive.Permissions.create({ role: 'editor', type: 'user', emailAddress: add[z] }, item.id, { sendNotificationEmail: false });\n                }\n              } else {\n                DriveApp.getFileById(item.id).addEditors(add);\n              }\n              total_up++;\n            } catch (e) {\n              var err = \"File: \" + item.name + \" (\" + item.id + \") Error: \" + e.message;\n              console.error(err);\n              run_errors.push(err);\n              if (stop_at_error === 1) throw new Error(\"STOPPED by setting: \" + err);\n            }\n          }\n          if (item.createdTime > st) st = item.createdTime;\n        }\n        page = res.nextPageToken;\n      } while (page);\n    }\n\n    if (st !== qt) p.setProperty(k, st);\n    \n    if (total_up > 0) {\n      var ts = new Date().toTimeString().slice(0, 5);\n      var entry = \"\\n[\" + ts + \"] Shared \" + total_up + \" files.\";\n      append_to_drive_file(storage_id, \"daily_log_\" + today_str + \".txt\", entry);\n      append_to_drive_file(storage_id, \"monthly_log_\" + month_str + \".txt\", \"\\n[\" + today_str + \" \" + ts + \"] Shared \" + total_up + \" files.\");\n    }\n    \n    if (run_errors.length > 0 && alert_at_error === 1) {\n      trigger_calendar_popup(\"🚨 Auto-Share Error!\", \"Errors found during run:\\n\" + run_errors.join(\"\\n\"));\n    }\n\n  } catch (critical_e) {\n    if (alert_at_error === 1) trigger_calendar_popup(\"🚨 Script CRASHED!\", critical_e.message);\n  } finally {\n    lock.releaseLock();\n  }\n}\n\nfunction trigger_calendar_popup(title, description) {\n  try {\n    var now = new Date();\n    var end = new Date(now.getTime() + 60000); \n    var event = CalendarApp.getDefaultCalendar().createEvent(title, now, end, { description: description });\n    event.addPopupReminder(0); \n  } catch(e) {\n    console.log(\"Calendar Alert Failed: \" + e.message);\n  }\n}\n\nfunction append_to_drive_file(folderId, filename, text) {\n  try {\n    var folder = DriveApp.getFolderById(folderId);\n    var files = folder.getFilesByName(filename);\n    if (files.hasNext()) {\n      var file = files.next();\n      file.setContent(file.getBlob().getDataAsString() + text);\n    } else {\n      folder.createFile(filename, text);\n    }\n  } catch(e) {}\n}\n\nfunction read_drive_file(folderId, filename) {\n  try {\n    var folder = DriveApp.getFolderById(folderId);\n    var files = folder.getFilesByName(filename);\n    if (files.hasNext()) return files.next().getBlob().getDataAsString();\n  } catch(e) {}\n  return \"\";\n}\n\nfunction send_mail_logic(mode, team_list, subject, body) {\n  var rec = \"\";\n  if (mode === 0) rec = Session.getActiveUser().getEmail();\n  else if (mode === 1) rec = team_list.join(\",\");\n  else if (typeof mode === \"string\" && mode.includes(\"@\")) rec = mode;\n  else rec = Session.getActiveUser().getEmail();\n  \n  if (rec) MailApp.sendEmail(rec, subject, body);\n}\n"
      },
      {
        "name": "2.gs",
        "type": "file",
        "size": "1,111 bytes",
        "path": "google_apps_script/2.gs",
        "content": "function auto_share_for_connected_ai_studio(){\nvar force_full_check=0;\nvar p=PropertiesService.getScriptProperties();\nvar k=\"T_V8\";\nvar r=p.getProperty(k);\nvar qt=\"1970-01-01T00:00:00.000Z\";\nif(r&&force_full_check===0)qt=r;\nvar st=qt;\nvar f=DriveApp.getFoldersByName(\"Google AI Studio\");\nvar m=[\"2@gmail.com\",\"3@gmail.com\",\"4@gmail.com\",\"5@gmail.com\",\"6@gmail.com\"];\nwhile(f.hasNext()){\nvar fid=f.next().getId(),page;\ndo{\nvar res=Drive.Files.list({q:\"'\"+fid+\"' in parents and createdTime > '\"+qt+\"' and trashed = false\",orderBy:\"createdTime\",fields:\"nextPageToken, files(id, createdTime, permissions(emailAddress))\",pageToken:page});\nvar list=res.files;\nif(!list||list.length===0)break;\nfor(var i=0;i<list.length;i++){\nvar item=list[i],cur=[];\nif(item.permissions)for(var j=0;j<item.permissions.length;j++)cur.push(item.permissions[j].emailAddress);\nvar add=[];\nfor(var x=0;x<m.length;x++)if(cur.indexOf(m[x])<0)add.push(m[x]);\nif(add.length>0)DriveApp.getFileById(item.id).addEditors(add);\nif(item.createdTime>st)st=item.createdTime;\n}\npage=res.nextPageToken;\n}while(page);\n}\nif(st!==qt)p.setProperty(k,st);\n}\n"
      }
    ]
  },
  {
    "name": "headphone_test.html",
    "type": "file",
    "size": "3,530 bytes",
    "path": "headphone_test.html",
    "content": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><title>Full Earphone Test</title></head><body><script>const [D,B,S,T,C,O,H]=[document,document.body,'style','textContent','className','onclick','innerHTML'],e={},_=(t,p,a,n=D.createElement(t))=>{if(a)for(let k in a)k==S?Object.assign(n[S],a[k]):n[k]=a[k];return p&&p.appendChild(n),n},s=`body{background:#18191a;color:#e4e6eb;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif;margin:0;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px 0;box-sizing:border-box}.c{background:#242526;padding:30px 40px;border-radius:12px;border:1px solid #3a3b3c;max-width:500px;width:90%}h1,h2{margin-top:0;color:#e4e6eb}p,.ts{color:#b0b3b8}.a{display:flex;gap:15px}.b{flex:1;padding:15px 20px;font-size:1rem;font-weight:700;border:0;border-radius:8px;cursor:pointer;color:#fff;transition:transform .1s}.b:active{transform:scale(.95)}#bl{background:#007bff}#br{background:#dc3545}#bs{background:#28a745;width:100%;margin:15px 0}#st{min-height:1.2em;font-weight:700;font-size:1.2rem;margin:20px 0;transition:color .2s}.ts{margin-top:20px;text-align:left;font-size:.9rem;border-top:1px solid #3a3b3c;padding-top:20px}ul{padding-left:20px;margin-bottom:0}li{margin-bottom:8px}@media(max-width:480px){body{font-size:14px}.c{padding:20px}.b{padding:12px}}`;_('style',D.head,{[T]:s});const M=_('div',B,{[C]:'c'});_('h1',M,{[T]:'Earphone & Headphone Test'});_('p',M,{[T]:'This advanced test uses separate gain controls and stereo panning to help diagnose channel separation, hardware crosstalk, or software effects.'});const A=_('div',M,{[C]:'a'});e.bL=_('button',A,{id:'bl',[C]:'b',[T]:'Test Left'});e.bR=_('button',A,{id:'br',[C]:'b',[T]:'Test Right'});e.bS=_('button',M,{id:'bs',[C]:'b',[T]:'Stereo Sweep (L to R)'});e.s=_('div',M,{id:'st',[T]:'Click a button to start.'});const TS=_('div',M,{[C]:'ts'});_('h2',TS,{[T]:'Troubleshooting'});_('div',TS,{[H]:'<ul><li><strong>No sound at all?</strong> Check if your earphones are plugged in and your device volume is not muted.</li><li><strong>Sound from the wrong side?</strong> You might be wearing your earphones on the wrong ears. Check for \\'L\\' and \\'R\\' markings.</li><li><strong>Sound from both sides?</strong> Your device\\'s audio settings might be set to \"Mono Audio\". Check your system\\'s Accessibility settings to disable it.</li><li><strong>Still hear a faint sound in the muted ear?</strong> This confirms the issue is <strong>hardware crosstalk</strong> or a <strong>system-level audio enhancement</strong> (like \"Virtual Surround\").</li></ul>'});const c=new(window.AudioContext||window.webkitAudioContext),P=h=>{const o=c.createOscillator(),l=c.createGain(),r=c.createGain(),m=c.createChannelMerger(2);o.frequency.value=440;o.connect(l).connect(m,0,0);o.connect(r).connect(m,0,1);m.connect(c.destination);l.gain.value=h=='left'?1:0;r.gain.value=h=='right'?1:0;o.start();o.stop(c.currentTime+1.5)},W=()=>{const o=c.createOscillator(),p=c.createStereoPanner();o.frequency.value=523;o.connect(p).connect(c.destination);p.pan.setValueAtTime(-1,c.currentTime);p.pan.linearRampToValueAtTime(1,c.currentTime+1.5);o.start();o.stop(c.currentTime+1.5)},F=(h,t,l)=>{if(c.state=='suspended')c.resume();e.s[T]=t,e.s[S].color=l;if(h=='sweep')W();else P(h)};e.bL[O]=()=>F('left','Playing in LEFT channel...','#0d6efd');e.bR[O]=()=>F('right','Playing in RIGHT channel...','#dc3545');e.bS[O]=()=>F('sweep','Sweeping from LEFT to RIGHT...','#28a745');</script></body></html>\n"
  },
  {
    "name": "html_sites_only_full_account_via_hithack.html",
    "type": "file",
    "size": "1,350 bytes",
    "path": "html_sites_only_full_account_via_hithack.html",
    "content": "<!DOCTYPE html><script>const u='halitziyakartal',p=new URLSearchParams(location.search),r=p.get('r'),b=p.get('b');let a=`https://api.github.com/repos/${u}/${r}/`;document.write(`<style>body{background:#0f172a;color:#e2e8f0;font-family:sans-serif;margin:0;padding:1rem}a{display:block;background:#1e293b;border:1px solid #334155;border-radius:12px;padding:1.5rem;margin:1rem 0;text-decoration:none;color:inherit}h1{font-size:3rem;text-align:center;color:#a78bfa;background:linear-gradient(135deg,#60a5fa,#a78bfa,#f472b6);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.t{font-size:1.2rem;font-weight:600}.m{font-size:.9rem;color:#94a3b8;margin-top:.5rem}</style><h1>GitHub Explorer</h1><div id=c>Loading...</div>`);fetch(r?b?`${a}git/trees/${b}?recursive=1`:`${a}branches`:`https://api.github.com/users/${u}/repos?sort=pushed`).then(e=>e.json()).then(d=>{c.innerHTML=(r?b?d.tree.filter(i=>i.path.endsWith('.html')).map(i=>`<a href=//raw.githack.com/${u}/${r}/${p.get('s')}/${i.path} target=_blank><span class=t>${i.path}</span></a>`).join(''):d.map(i=>`<a href=?r=${r}&b=${i.commit.sha}&s=${i.name}><span class=t>${i.name}</span></a>`).join(''):d.map(i=>`<a href=?r=${i.name}><span class=t>${i.name}</span><div class=m>${i.description||''}</div></a>`).join('')||'Error')}).catch(e=>c.innerHTML='Error')</script>\n"
  },
  {
    "name": "hybrid_files.html",
    "type": "file",
    "size": "1,437 bytes",
    "path": "hybrid_files.html",
    "content": "<!DOCTYPE html><script>document.write('<style>body{background:#0f172a;color:#e2e8f0;font-family:sans-serif;padding:1rem}h1{font-size:3rem;text-align:center;margin-bottom:1rem;color:#a78bfa;background:linear-gradient(135deg,#60a5fa,#a78bfa,#f472b6);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}a{display:block;background:#1e293b;border:1px solid #334155;border-radius:12px;padding:1.5rem;margin:1rem 0;text-decoration:none;color:inherit;transition:all .3s ease}.a:hover{transform:translateY(-2px);border-color:#60a5fa}.a::after{content:\"https://halitziyakartal.github.io/test11/\"attr(data-filename);color:#94a3b8;font-size:.9rem;display:block;margin-top:.5rem;word-break:break-all}.t{font-size:1.2rem;font-weight:600}.n{margin-right:.5rem;color:#94a3b8}</style><h1 id=h>Lazy Access</h1><div id=l></div>');fetch('https://api.github.com/repos/halitziyakartal/test11/contents/').then(r=>r.json()).then(f=>{let k=!1,p=e=>{if(e&&e.type=='click')k=!k;let s=k||e&&e.type=='mouseover';l.innerHTML=(s?f:f.filter(i=>i.name.endsWith('.html')&&i.name!='index.html')).map((i,x)=>{const n=i.name.replace(s?/\\.[^/.]+$/:'.html','').replace(/[-_]/g,' ').replace(/\\b\\w/g,c=>c.toUpperCase());return`<a class=a href=${i.name} data-filename=${i.name}><span class=n>${x+1})</span><span class=t>${s?n||i.name:n}</span></a>`}).join('')};h.onclick=h.onmouseover=h.onmouseout=p;p()}).catch(e=>l.innerHTML='Error')</script>\n"
  },
  {
    "name": "icon_tester.html",
    "type": "file",
    "size": "1,174 bytes",
    "path": "icon_tester.html",
    "content": "<!DOCTYPE><title>Icon Tester</title><script>L=localStorage,F='faviconHtml',d='<link rel=icon href=data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=>';document.write(L.getItem(F)||d)</script><style>body{font-family:sans-serif;margin:0;background:#121212;color:#e0e0e0}div{max-width:800px;margin:2em auto;padding:2em;background:#1e1e1e;border-radius:8px}h1{border-bottom:2px solid #333;padding-bottom:10px}textarea{width:100%;height:120px;box-sizing:border-box;background:#2a2a2a;color:#e0e0e0;border:1px solid #555;padding:10px;margin-top:10px}textarea:focus{outline:0;border-color:#07f}p.c{display:flex;align-items:center;gap:1em;margin:15px 0 0}button{padding:12px 20px;font-weight:700;color:#fff;background:#07f;border:0;border-radius:4px;cursor:pointer}#s{color:#4caf50}</style><div><h1>Icon Tester</h1><p>Paste a link tag to test a persistent icon.</p><textarea id=i></textarea><script>i.value=L.getItem(F)||d</script><p class=c><button onclick=\"L.setItem(F,i.value),s.innerText='Saved!',rc.checked&&(s.innerText+=' Refreshing...',setTimeout(()=>location.reload(true),500))\">Save</button><label><input type=checkbox id=rc checked>+refresh</label><p id=s></div>\n"
  },
  {
    "name": "index.html",
    "type": "file",
    "size": "1,437 bytes",
    "path": "index.html",
    "content": "<!DOCTYPE html><script>document.write('<style>body{background:#0f172a;color:#e2e8f0;font-family:sans-serif;padding:1rem}h1{font-size:3rem;text-align:center;margin-bottom:1rem;color:#a78bfa;background:linear-gradient(135deg,#60a5fa,#a78bfa,#f472b6);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}a{display:block;background:#1e293b;border:1px solid #334155;border-radius:12px;padding:1.5rem;margin:1rem 0;text-decoration:none;color:inherit;transition:all .3s ease}.a:hover{transform:translateY(-2px);border-color:#60a5fa}.a::after{content:\"https://halitziyakartal.github.io/test11/\"attr(data-filename);color:#94a3b8;font-size:.9rem;display:block;margin-top:.5rem;word-break:break-all}.t{font-size:1.2rem;font-weight:600}.n{margin-right:.5rem;color:#94a3b8}</style><h1 id=h>Lazy Access</h1><div id=l></div>');fetch('https://api.github.com/repos/halitziyakartal/test11/contents/').then(r=>r.json()).then(f=>{let k=!1,p=e=>{if(e&&e.type=='click')k=!k;let s=k||e&&e.type=='mouseover';l.innerHTML=(s?f:f.filter(i=>i.name.endsWith('.html')&&i.name!='index.html')).map((i,x)=>{const n=i.name.replace(s?/\\.[^/.]+$/:'.html','').replace(/[-_]/g,' ').replace(/\\b\\w/g,c=>c.toUpperCase());return`<a class=a href=${i.name} data-filename=${i.name}><span class=n>${x+1})</span><span class=t>${s?n||i.name:n}</span></a>`}).join('')};h.onclick=h.onmouseover=h.onmouseout=p;p()}).catch(e=>l.innerHTML='Error')</script>\n"
  },
  {
    "name": "kotlin",
    "type": "folder",
    "size": "8,285 bytes",
    "path": "kotlin",
    "children": [
      {
        "name": "1.kt",
        "type": "file",
        "size": "8,285 bytes",
        "path": "kotlin/1.kt",
        "content": "package a.htmlapprealizer;import android.app.*;import android.os.*;import android.view.*;import android.webkit.*;import android.widget.*;import android.text.*;import android.text.style.*;import android.graphics.*;import org.json.*;import java.util.*;import java.lang.reflect.*;class master:Activity(){val H=ArrayList<Any?>();val L=Array(3){HashSet<String>()};val D=HashSet<String>();lateinit var w:WebView;lateinit var b:Button;var m=0;var s=true;var A=false;var NET=false;var PW=\"\";val P by lazy{getSharedPreferences(\"Z\",0)};fun S(k:String,v:Any)=with(P.edit()){if(v is Boolean)putBoolean(k,v)else putString(k,v.toString());apply()};override fun onCreate(k:Bundle?){super.onCreate(k);H.add(this);(0..2).forEach{i->L[i].addAll(P.getString(\"$i\",\"\")!!.split(\",\"))};m=P.getInt(\"M\",0);s=P.getBoolean(\"S\",true);NET=P.getBoolean(\"N\",false);PW=P.getString(\"W\",\"\")!!;D.addAll(P.getString(\"D\",\"\")!!.split(\",\"));val f=FrameLayout(this);b=Button(this).apply{text=\"⚙\";setTextColor(-1);setBackgroundColor(0x99000000.toInt());layoutParams=FrameLayout.LayoutParams(120,120,53);setOnClickListener{E()}};w=WebView(this).apply{settings.javaScriptEnabled=true;settings.domStorageEnabled=true;addJavascriptInterface(this@master,\"K\");webViewClient=object:WebViewClient(){override fun onPageStarted(v:WebView?,u:String?,b:Bitmap?){A=false};override fun shouldInterceptRequest(v:WebView?,r:WebResourceRequest?):WebResourceResponse?{val h=r?.url?.host;return if(NET&&r?.url?.scheme !in listOf(\"file\",\"data\")&&!(h!=null&&D.any{it!=\"\"&&(h==it||h.endsWith(\".$it\"))}))WebResourceResponse(null,null,null)else null}}};f.addView(w);f.addView(b);setContentView(f);v(m);w.loadDataWithBaseURL(null,\"\"\"<!DOCTYPE html><title>HTML/App Realizer</title><style>body{margin:0;padding:4px;background:#111;font-family:monospace}div{min-height:40vh;background:#222;color:#eee;border:solid #444;padding:8px;white-space:pre-wrap;margin-bottom:4px;overflow:auto}button{border:0;background:#058;color:#fff;width:100%;height:5vh;font-size:2vh}</style><div id=i contenteditable=\"plaintext-only\" oninput=\"c.textContent=i.textContent.length\"></div><button onclick=\"var code=i.textContent;document.open();document.write(code);document.close()\">Realize (<b id=c>0</b> characters)</button>\"\"\",\"text/html\",\"utf-8\",null)};override fun onResume(){super.onResume();if(m==1)v(0)};override fun onDestroy(){super.onDestroy();w.destroy();H.clear()};override fun onKeyDown(k:Int,e:KeyEvent?):Boolean{if(k==24){b.visibility=0;Handler(Looper.getMainLooper()).postDelayed({v(m)},3000);return false};return super.onKeyDown(k,e)};fun v(n:Int){m=n;if(m==3)S(\"M\",3);b.visibility=if(m==0)0 else 8};fun ok()=!s&&(PW==\"\"||A);fun E(){val sv=ScrollView(this);val l=LinearLayout(this).apply{orientation=1;setPadding(50,50,50,50);setBackgroundColor(-13421773)};sv.addView(l);fun T(e:EditText,f:(String)->Unit)=e.addTextChangedListener(object:TextWatcher{override fun afterTextChanged(s:Editable?)=f(s.toString());override fun beforeTextChanged(s:CharSequence?,x:Int,y:Int,z:Int){};override fun onTextChanged(s:CharSequence?,x:Int,y:Int,z:Int){}});fun U(t:String,c:Int,h:String,v:String,a:(Button)->Unit,x:(String)->Unit){val r=LinearLayout(this);val B=Button(this).apply{text=t;setTextColor(c);setBackgroundColor(0);setOnClickListener{a(this)}};val E=EditText(this).apply{hint=h;setTextColor(-1);setText(v);layoutParams=LinearLayout.LayoutParams(0,-2,1f)};T(E,x);r.addView(B);r.addView(E);l.addView(r)};U(\"Sandbox: ${if(s)\"ON\" else \"OFF\"}\",if(s)-16711936 else -65536,\"Password\",PW,{s=!s;S(\"S\",s);it.text=\"Sandbox: ${if(s)\"ON\" else \"OFF\"}\";it.setTextColor(if(s)-16711936 else -65536)}){PW=it;S(\"W\",it);A=false};val tv=TextView(this).apply{setTextColor(-1);textSize=16f;movementMethod=android.text.method.LinkMovementMethod.getInstance();text=SpannableStringBuilder().apply{val m=mapOf(\"unhide\" to 0,\"focus\" to 1,\"open\" to 2,\"perma\" to 3);\"unhide/hide settings:till next focus/open/perma\".split(Regex(\"(?<=[a-z])(?=[/:])|(?<=[/:])(?=[a-z])\")).forEach{w->if(m.containsKey(w)){val s=length;append(\" $w \");setSpan(object:ClickableSpan(){override fun onClick(v:View){v(m[w]!!)};override fun updateDrawState(d:TextPaint){d.color=-1;d.bgColor=-12303292;d.isUnderlineText=false}},s,length,33)}else append(w)}}};l.addView(tv);U(\"Cut Internet: ${if(NET)\"ON\" else \"OFF\"}\",if(NET)-65536 else -16711936,\"Domain Exceptions\",D.joinToString(\",\"),{NET=!NET;S(\"N\",NET);it.text=\"Cut Internet: ${if(NET)\"ON\" else \"OFF\"}\";it.setTextColor(if(NET)-65536 else -16711936)}){D.clear();D.addAll(it.split(\",\"));S(\"D\",it)};val n=arrayOf(\"Whitelist\",\"Graylist\",\"Blacklist\");(0..2).forEach{i->l.addView(TextView(this).apply{text=n[i];setTextColor(-1)});val e=EditText(this).apply{setText(L[i].joinToString(\",\"));setTextColor(-1);setBackgroundColor(-12303292)};T(e){L[i].clear();L[i].addAll(it.split(\",\"));S(\"$i\",it)};l.addView(e)};AlertDialog.Builder(this).setView(sv).show()};fun K(i:Int,s:String)=L[i].contains(\"ALL\")||L[i].any{it!=\"\"&&s.contains(it)};fun C(n:String)=try{Class.forName(n)}catch(e:Exception){null};fun R(t:Any?,n:String,j:String,y:Int,cI:Int):String{if(!ok())return \"E:SEC\";try{val c=if(t is Class<*>)t else t?.javaClass?:return \"E:NUL\";val a=JSONArray(j);val sig=\"$n ${c.name}\".lowercase();if(y<4&&K(0,sig))return \"E:BL\";val g=if(y>3||K(1,sig))null else if(K(2,sig))\"ALL\" else L[2].find{it!=\"\"&&sig.contains(it)}?:if(L[0].isEmpty()&&L[1].isEmpty())\"ALL\" else null;if(g!=null){val i=(System.currentTimeMillis()%999).toInt();runOnUiThread{AlertDialog.Builder(this).setTitle(\"REQ:$sig\").setPositiveButton(\"1\"){_,_->cb(cI,Ex(t,n,a,y))}.setNeutralButton(\"OK\"){_,_->L[1].add(g);S(\"1\",L[1].joinToString(\",\"));cb(cI,Ex(t,n,a,y))}.setNegativeButton(\"NO\"){_,_->L[0].add(g);S(\"0\",L[0].joinToString(\",\"));cb(cI,\"E:BL\")}.show()};return \"W:$i\"};return Ex(t,n,a,y)}catch(e:Exception){return \"E:$e\"}};fun Ex(t:Any?,n:String,a:JSONArray,y:Int):String{try{val c=if(t is Class<*>)t else t!!.javaClass;val l=a.length();if(y==2)return ret(c.getField(n).get(t));if(y==3){val f=c.getField(n);f.set(t,cv(a.get(0),f.type));return \"OK\"};if(y==4)return ret(java.lang.reflect.Array.newInstance(c,a.getInt(0)));if(y==5)return ret(Proxy.newProxyInstance(c.classLoader,arrayOf(c)){_,m,r->val g=r?.map{ret(it)}?.joinToString(\",\")?:\"\";runOnUiThread{w.evaluateJavascript(\"window.onL($l,'${m.name}','[$g]')\",null)};null});val ms=if(y==1)c.constructors else c.methods;for(m in ms){val pts=m.parameterTypes;if((y==0&&m.name!=n)||pts.size!=l)continue;try{val v=Array(l){i->cv(a.get(i),pts[i])};val r=if(y==1)(m as Constructor<*>).newInstance(*v)else(m as Method).invoke(if(t is Class<*>)null else t,*v);return ret(r)}catch(e:Exception){continue}};return \"E:SIG\"}catch(e:Exception){return if(e is InvocationTargetException)\"E:${e.targetException}\"else\"E:$e\"}};fun cv(o:Any,t:Class<*>)=if(o is String&&o.startsWith(\"P\"))H.getOrNull(o.substring(1).toIntOrNull()?:-1)else if(o is Number)when(t){Int::class.javaPrimitiveType->o.toInt();Long::class.javaPrimitiveType->o.toLong();Float::class.javaPrimitiveType->o.toFloat();Double::class.javaPrimitiveType->o.toDouble();else->o}else if(t==Boolean::class.javaPrimitiveType)o.toString().toBoolean()else o;fun ret(o:Any?)=if(o==null||o is Unit)\"V\" else if(o is Number||o is String||o is Boolean)\"V$o\" else{H.add(o);\"P${H.size-1}\"};fun cb(i:Int,r:String)=if(i>0)w.evaluateJavascript(\"window.onC($i,'${r.replace(\"\\\\\",\"\\\\\\\\\").replace(\"'\",\"\\\\'\").replace(\"\\n\",\"\\\\n\")}')\",null)else Unit;@JavascriptInterface fun sz()=H.size;@JavascriptInterface fun cls(){H.clear();H.add(this)};@JavascriptInterface fun c(n:String)=try{if(ok()){H.add(Class.forName(n));\"P${H.size-1}\"}else\"E:SEC\"}catch(e:Exception){\"E:$e\"};@JavascriptInterface fun n(c:String,j:String)=R(C(c),\"\",j,1,0);@JavascriptInterface fun x(p:Int,n:String,j:String)=R(H.getOrNull(p),n,j,0,0);@JavascriptInterface fun u(p:Int,n:String,j:String,cb:Int){runOnUiThread{cb(cb,R(H.getOrNull(p),n,j,0,cb))}};@JavascriptInterface fun g(p:Int,f:String)=R(H.getOrNull(p),f,\"[]\",2,0);@JavascriptInterface fun s(p:Int,f:String,v:String)=R(H.getOrNull(p),f,\"[$v]\",3,0);@JavascriptInterface fun a(t:String,l:Int)=R(C(t),\"\", \"[$l]\", 4, 0);@JavascriptInterface fun p(t:String,id:Int)=R(C(t),\"\", \"[$id]\", 5, 0);@JavascriptInterface fun del(p:Int){if(ok()&&p>0)H[p]=null};@JavascriptInterface fun auth(p:String):Boolean{A=(p==PW);return A}}\n"
      },
      {
        "name": "old",
        "type": "folder",
        "size": "0 bytes",
        "path": "kotlin/old",
        "children": [
          {
            "name": "1old1.kt",
            "type": "file",
            "size": "0 bytes",
            "path": "kotlin/old/1old1.kt",
            "content": "REDACTED"
          }
        ]
      }
    ]
  },
  {
    "name": "old",
    "type": "folder",
    "size": "0 bytes",
    "path": "old",
    "children": [
      {
        "name": "repo_to_jsonold1.html",
        "type": "file",
        "size": "0 bytes",
        "path": "old/repo_to_jsonold1.html",
        "content": "REDACTED"
      },
      {
        "name": "repo_to_jsonold2.html",
        "type": "file",
        "size": "0 bytes",
        "path": "old/repo_to_jsonold2.html",
        "content": "REDACTED"
      },
      {
        "name": "website_changerold1.html",
        "type": "file",
        "size": "0 bytes",
        "path": "old/website_changerold1.html",
        "content": "REDACTED"
      },
      {
        "name": "website_changerold2.html",
        "type": "file",
        "size": "0 bytes",
        "path": "old/website_changerold2.html",
        "content": "REDACTED"
      },
      {
        "name": "website_changerold3.html",
        "type": "file",
        "size": "0 bytes",
        "path": "old/website_changerold3.html",
        "content": "REDACTED"
      },
      {
        "name": "website_changerold4.html",
        "type": "file",
        "size": "0 bytes",
        "path": "old/website_changerold4.html",
        "content": "REDACTED"
      }
    ]
  },
  {
    "name": "primitive_file_comparer.html",
    "type": "file",
    "size": "13,697 bytes",
    "path": "primitive_file_comparer.html",
    "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Advanced Line Relationship Analyzer</title>\n    <style>\n        :root {\n            --bg: #121212;\n            --card: #1e1e1e;\n            --text: #e0e0e0;\n            --border: #333;\n            --accent: #2196f3;\n            --accent-dim: #1565c0;\n            --green: #4caf50;\n            --orange: #ff9800;\n        }\n\n        body {\n            font-family: \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n            background: var(--bg);\n            color: var(--text);\n            padding: 20px;\n            margin: 0;\n        }\n\n        .container { max-width: 1200px; margin: 0 auto; }\n\n        /* Controls */\n        .controls {\n            background: var(--card);\n            padding: 20px;\n            border-radius: 8px;\n            border: 1px solid var(--border);\n            margin-bottom: 20px;\n            display: flex;\n            align-items: center;\n            gap: 15px;\n            flex-wrap: wrap;\n        }\n        \n        button {\n            padding: 10px 20px;\n            background: var(--accent);\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-weight: bold;\n        }\n        button:hover { background: var(--accent-dim); }\n        input[type=\"file\"] { color: #ccc; }\n\n        /* Matrix Table */\n        .section-title { border-bottom: 1px solid var(--border); padding-bottom: 10px; margin-top: 30px; color: var(--accent); }\n        \n        .matrix-container {\n            overflow-x: auto;\n            margin-bottom: 30px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 0.9rem;\n        }\n        th, td {\n            border: 1px solid #444;\n            padding: 10px;\n            text-align: center;\n        }\n        th { background: #252525; color: var(--accent); }\n        td.self { background: #222; color: #555; }\n        td.high-match { background: #1b3a20; color: #81c784; font-weight: bold; }\n        td.med-match { background: #3a321b; color: #ffb74d; }\n        \n        /* Frequency Buckets */\n        .buckets-nav {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 20px;\n            flex-wrap: wrap;\n        }\n        .bucket-btn {\n            background: #333;\n            border: 1px solid #555;\n            padding: 10px 15px;\n            border-radius: 20px;\n            cursor: pointer;\n            transition: all 0.2s;\n        }\n        .bucket-btn:hover, .bucket-btn.active {\n            background: var(--accent);\n            border-color: var(--accent);\n        }\n\n        /* Stats Cards */\n        .stats-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n            gap: 15px;\n        }\n        .file-stat-card {\n            background: var(--card);\n            border: 1px solid var(--border);\n            padding: 15px;\n            border-radius: 6px;\n        }\n        .file-stat-card h4 { margin: 0 0 10px 0; color: var(--text); word-break: break-all;}\n        .stat-line { display: flex; justify-content: space-between; font-size: 0.9em; margin-bottom: 5px; border-bottom: 1px solid #333; padding-bottom: 2px;}\n        .val { font-family: monospace; color: var(--accent); font-weight: bold; }\n        .val-lines { color: var(--orange); }\n\n        .hidden { display: none; }\n    </style>\n</head>\n<body>\n\n<div class=\"container\">\n    <h1>Full Relationship Line Analyzer</h1>\n    <div class=\"controls\">\n        <input type=\"file\" id=\"fileInput\" multiple>\n        <button onclick=\"analyze()\">Analyze Files</button>\n        <label><input type=\"checkbox\" id=\"trim\" checked> Trim Spaces</label>\n        <label><input type=\"checkbox\" id=\"empty\" checked> Ignore Empty</label>\n    </div>\n\n    <!-- MATRIX -->\n    <div id=\"matrixSection\" class=\"hidden\">\n        <h2 class=\"section-title\">Overlap Matrix (Who matches Who?)</h2>\n        <p style=\"color:#888; font-size: 0.9em;\">Read this as: \"Rows contain X% of Columns\". e.g., If Row 1 / Col 2 says \"100%\", it means File 1 contains ALL lines from File 2.</p>\n        <div class=\"matrix-container\">\n            <table id=\"matrixTable\"></table>\n        </div>\n    </div>\n\n    <!-- BUCKETS -->\n    <div id=\"bucketSection\" class=\"hidden\">\n        <h2 class=\"section-title\">Common Line \"Buckets\"</h2>\n        <p style=\"color:#888\">Click a button to see line math for lines that appear in exactly that many files.</p>\n        \n        <div class=\"buckets-nav\" id=\"bucketNav\"></div>\n\n        <div id=\"bucketResults\">\n            <!-- Dynamic cards go here -->\n        </div>\n        \n        <h3 style=\"margin-top:20px\">Sample Lines (First 5 matches in this bucket)</h3>\n        <textarea id=\"previewText\" style=\"width:100%; height:100px; background:#111; color:#aaa; border:1px solid #444;\" readonly></textarea>\n    </div>\n</div>\n\n<script>\n    let FILES_DATA = []; // Stores {name, lines:[], originalLines:[]}\n    let GLOBAL_MAP = new Map(); // Stores string -> { count: int, fileIndices: Set }\n\n    async function analyze() {\n        const input = document.getElementById('fileInput');\n        const trim = document.getElementById('trim').checked;\n        const skipEmpty = document.getElementById('empty').checked;\n\n        if (input.files.length < 2) { alert(\"Select at least 2 files.\"); return; }\n\n        // Reset\n        FILES_DATA = [];\n        GLOBAL_MAP.clear();\n        document.getElementById('matrixSection').classList.add('hidden');\n        document.getElementById('bucketSection').classList.add('hidden');\n\n        // 1. Load Files\n        for (let i = 0; i < input.files.length; i++) {\n            const text = await readFile(input.files[i]);\n            const rawLines = text.split(/\\r?\\n/);\n            const processedSet = new Set();\n            \n            // We create a map for the file to know line numbers: \"content\" -> [line#1, line#10]\n            const lineLocs = new Map(); \n\n            rawLines.forEach((line, idx) => {\n                let content = trim ? line.trim() : line;\n                if (skipEmpty && content === \"\") return;\n\n                processedSet.add(content);\n\n                if (!lineLocs.has(content)) lineLocs.set(content, []);\n                lineLocs.get(content).push(idx + 1); // 1-based line num\n            });\n\n            FILES_DATA.push({\n                id: i,\n                name: input.files[i].name,\n                totalLines: rawLines.length,\n                contentSet: processedSet,\n                lineLocations: lineLocs\n            });\n        }\n\n        // 2. Build Global Frequency Map\n        FILES_DATA.forEach(file => {\n            file.contentSet.forEach(lineContent => {\n                if (!GLOBAL_MAP.has(lineContent)) {\n                    GLOBAL_MAP.set(lineContent, { count: 0, files: new Set() });\n                }\n                let entry = GLOBAL_MAP.get(lineContent);\n                entry.count++;\n                entry.files.add(file.id);\n            });\n        });\n\n        renderMatrix();\n        renderBuckets();\n    }\n\n    // --- MATRIX LOGIC ---\n    function renderMatrix() {\n        const table = document.getElementById('matrixTable');\n        table.innerHTML = \"\";\n        \n        // Header Row\n        let thead = \"<tr><th>Source \\\\ Target</th>\";\n        FILES_DATA.forEach(f => thead += `<th>${f.name}<br><small>(${f.contentSet.size} unique lines)</small></th>`);\n        thead += \"</tr>\";\n        table.innerHTML += thead;\n\n        // Body Rows\n        FILES_DATA.forEach(source => {\n            let row = `<tr><td style=\"text-align:left; font-weight:bold; color:#eee\">${source.name}</td>`;\n            \n            FILES_DATA.forEach(target => {\n                if (source.id === target.id) {\n                    row += `<td class=\"self\">-</td>`;\n                } else {\n                    // Calculate Intersection\n                    let matchCount = 0;\n                    source.contentSet.forEach(line => {\n                        if (target.contentSet.has(line)) matchCount++;\n                    });\n\n                    // Percent of TARGET that is found in SOURCE\n                    // Example: Source is huge dump, Target is small subset.\n                    // Target should match 100% inside Source.\n                    \n                    // Let's show: How much of COLUMN exists in ROW?\n                    // Actually, standard is usually: Intersection / Source Size vs Intersection / Target Size.\n                    // Let's do: Intersection Count\n                    \n                    let pctOfTarget = ((matchCount / target.contentSet.size) * 100).toFixed(1);\n                    let cls = pctOfTarget > 90 ? 'high-match' : (pctOfTarget > 50 ? 'med-match' : '');\n\n                    row += `<td class=\"${cls}\">\n                        ${matchCount.toLocaleString()}<br>\n                        <small>${pctOfTarget}% of Col</small>\n                    </td>`;\n                }\n            });\n            row += \"</tr>\";\n            table.innerHTML += row;\n        });\n        \n        document.getElementById('matrixSection').classList.remove('hidden');\n    }\n\n    // --- BUCKET LOGIC ---\n    function renderBuckets() {\n        const nav = document.getElementById('bucketNav');\n        nav.innerHTML = \"\";\n        \n        // Determine max overlap (number of files)\n        const maxFiles = FILES_DATA.length;\n\n        // Create buttons 5, 4, 3, 2\n        for (let i = maxFiles; i >= 2; i--) {\n            let countInBucket = 0;\n            for (let val of GLOBAL_MAP.values()) {\n                if (val.count === i) countInBucket++;\n            }\n\n            let btn = document.createElement('button');\n            btn.className = 'bucket-btn';\n            btn.innerHTML = `Matches in <strong>${i}</strong> Files <small>(${countInBucket})</small>`;\n            btn.onclick = () => showBucketDetails(i);\n            nav.appendChild(btn);\n        }\n\n        // Auto click the highest bucket that has data\n        document.getElementById('bucketSection').classList.remove('hidden');\n        \n        // Check if first button has counts, otherwise find first non-zero\n        // Default: show logic for N\n        showBucketDetails(maxFiles); \n    }\n\n    function showBucketDetails(frequency) {\n        // Highlight button\n        document.querySelectorAll('.bucket-btn').forEach(b => b.classList.remove('active'));\n        // Simple way to find the button clicked (event target logic omitted for brevity, just styling)\n        \n        const container = document.getElementById('bucketResults');\n        container.innerHTML = \"\";\n        const previewArea = document.getElementById('previewText');\n\n        // 1. Filter lines that appear exactly 'frequency' times\n        let relevantLines = [];\n        for (let [line, data] of GLOBAL_MAP.entries()) {\n            if (data.count === frequency) {\n                relevantLines.push(line);\n            }\n        }\n\n        if (relevantLines.length === 0) {\n            container.innerHTML = `<p>No lines found that exist in exactly ${frequency} files.</p>`;\n            previewArea.value = \"\";\n            return;\n        }\n\n        previewArea.value = relevantLines.slice(0, 5).join('\\n') + (relevantLines.length > 5 ? \"\\n...\" : \"\");\n\n        // 2. Calculate Stats per file for THESE specific lines\n        // We need to look at which files are involved.\n        \n        // Since this is \"Exactly N files\", different lines might belong to different subsets of files.\n        // But the user wants stats \"For this file, where do these lines appear?\"\n        \n        let gridHtml = `<div class=\"stats-grid\">`;\n\n        FILES_DATA.forEach(file => {\n            // Does this file have any of these lines?\n            let matches = 0;\n            let firstLine = Infinity;\n            let lastLine = -1;\n            \n            relevantLines.forEach(line => {\n                if (file.contentSet.has(line)) {\n                    matches++;\n                    // Get occurrences in this file\n                    let locs = file.lineLocations.get(line);\n                    if (locs) {\n                        let minL = Math.min(...locs);\n                        let maxL = Math.max(...locs);\n                        if (minL < firstLine) firstLine = minL;\n                        if (maxL > lastLine) lastLine = maxL;\n                    }\n                }\n            });\n\n            if (matches > 0) {\n                gridHtml += `\n                <div class=\"file-stat-card\">\n                    <h4>${file.name}</h4>\n                    <div class=\"stat-line\"><span>Matching Lines</span> <span class=\"val\">${matches.toLocaleString()}</span></div>\n                    <div class=\"stat-line\"><span>First Appearance</span> <span class=\"val val-lines\">Line ${firstLine}</span></div>\n                    <div class=\"stat-line\"><span>Last Appearance</span> <span class=\"val val-lines\">Line ${lastLine}</span></div>\n                    <div class=\"stat-line\"><span>Spread</span> <span class=\"val\">${(lastLine - firstLine).toLocaleString()} lines</span></div>\n                </div>\n                `;\n            }\n        });\n        gridHtml += `</div>`;\n        container.innerHTML = `<h3>Stats for lines matching exactly ${frequency} files</h3>` + gridHtml;\n    }\n\n    function readFile(file) {\n        return new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.onload = e => resolve(e.target.result);\n            reader.readAsText(file);\n        });\n    }\n</script>\n\n</body>\n</html>\n"
  },
  {
    "name": "primitive_file_list_analyser.html",
    "type": "file",
    "size": "17,183 bytes",
    "path": "primitive_file_list_analyser.html",
    "content": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>File list analyser</title><style>:root{--b:#101010;--p:#181818;--h:#202020;--t:#ccc;--a:#00e5ff;--e:#ff4081;--g:#00e676;--w:#fff}*{box-sizing:border-box;scrollbar-width:thin;scrollbar-color:#444 var(--b)}body{margin:0;background:var(--b);color:var(--t);font:11px 'Consolas',monospace;height:100dvh;display:flex;flex-direction:column;overflow:hidden}input,button,select,textarea{background:#252525;border:1px solid #444;color:#fff;padding:2px 5px;border-radius:2px;outline:0;font-family:inherit}input:focus,textarea:focus{border-color:var(--a);background:#333}input,select{field-sizing:content;min-width:30px;width:auto;max-width:100%}.top{padding:4px 8px;background:#141414;border-bottom:1px solid #333;display:flex;gap:8px;align-items:center;flex-shrink:0;height:36px}.wr{display:flex;flex:1;overflow:hidden;position:relative;height:100%}.side{width:fit-content;min-width:min-content;max-width:80vw;background:#111;display:flex;flex-direction:column;border-right:1px solid #333;flex-shrink:0;z-index:20}.side.shut{width:0;border:0;overflow:hidden}.side.shut *{display:none}.s-head{padding:6px;background:#1a1a1a;border-bottom:1px solid #333;display:flex;justify-content:space-between;align-items:center;cursor:pointer;white-space:nowrap;gap:12px;user-select:none}.s-head:hover{color:var(--w);background:#222}.s-body{padding:6px;overflow-y:auto;flex:1;display:flex;flex-direction:column}.builder{margin-bottom:6px}.builder.hide{display:none}.side-tgl{width:14px;background:#0d0d0d;border-right:1px solid #333;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#666;font-size:9px;user-select:none;flex-shrink:0}.side-tgl:hover{background:#333;color:#fff}.t-row{display:flex;background:#222;border:1px solid #333;border-radius:3px;overflow:hidden;margin-bottom:6px;width:fit-content}.tab{padding:3px 8px;cursor:pointer;color:#888;border-right:1px solid #333;font-size:10px;white-space:nowrap}.tab:last-child{border:0}.tab:hover{color:#fff}.tab.act{background:var(--a);color:#000;font-weight:bold}.sub-t{padding:2px 6px;font-size:10px}.sub-t.act{background:#2a2a2a;color:var(--a);border-bottom:2px solid var(--a)}.panel{background:#181818;padding:6px;border:1px solid #333;margin-bottom:6px}.lbl{display:block;color:#666;font-size:9px;margin-bottom:3px}.row-in{display:flex;gap:4px;margin-bottom:5px;align-items:center}.btn-add{width:100%;padding:4px;background:#222;border:1px solid #444;font-weight:bold;color:#ccc;font-size:10px}.btn-add:hover{border-color:var(--a);color:var(--a)}.chip{background:#1f1f1f;border-left:2px solid #555;padding:3px 5px;margin-top:3px;display:flex;justify-content:space-between;align-items:center;font-size:10px;width:fit-content;gap:8px;max-width:100%}.chip b{color:var(--w);white-space:nowrap}.chip span{color:#aaa;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chip i{cursor:pointer;color:#f55;font-weight:bold}.main{flex:1;overflow:auto;position:relative;background:#000}table{border-collapse:collapse;width:max-content;min-width:100%;table-layout:auto}thead{position:sticky;top:0;z-index:10;background:#202020;box-shadow:0 1px 0 #333}th{text-align:left;padding:2px 5px;color:#fff;font-size:11px;white-space:nowrap;border-right:1px solid #333;font-weight:700;cursor:pointer;user-select:none}th:hover{background:#2a2a2a;color:var(--a)}th input{background:#111;border:1px solid #444;color:var(--a);font-weight:bold;font-size:11px;padding:0 4px;text-align:center;height:18px;margin:0;cursor:text}td{padding:1px 5px;border-bottom:1px solid #222;white-space:nowrap;color:#888;font-size:11px;vertical-align:middle}tr:hover td{background:#1a1a1a;color:#eee}td:nth-child(1){text-align:right;color:#555;border-right:1px solid #222;padding-right:8px;width:1%}td:nth-child(2){color:var(--a);width:1%}td:nth-child(3){color:var(--e);white-space:nowrap}td:nth-child(4){color:#ddd}.dd-box{position:absolute;top:100%;left:0;width:100%;max-height:150px;overflow-y:auto;background:#222;border:1px solid #444;display:none;z-index:100}.dd-item{padding:4px;cursor:pointer;color:#aaa;border-bottom:1px solid #333;font-size:10px}.dd-item:hover{background:var(--a);color:#000}.hide{display:none!important}#pst{position:absolute;top:35px;left:10px;width:600px;height:300px;background:#1e1e1e;border:1px solid var(--a);z-index:99;display:none;box-shadow:0 10px 50px #000}</style></head><body><div class=\"top\"><button onclick=\"I('fin').click()\">📂 Load</button><input type=\"file\" id=\"fin\" hidden onchange=\"HF(this)\"><button onclick=\"T('pst')\">📋 Paste</button><button onclick=\"Exp()\">💾 Export</button><div style=\"flex:1\"></div><span id=\"st\">Idle</span></div><textarea id=\"pst\" placeholder=\"Paste...\" oninput=\"HP(this)\"></textarea><div class=\"wr\"><div class=\"side\" id=\"sb\"><div class=\"s-head\" onclick=\"Toggle('bld',this)\"><span>FILTERS</span><span style=\"font-size:10px\">▲</span></div><div class=\"s-body\"><div class=\"builder\" id=\"bld\"><div class=\"t-row\"><div class=\"tab act\" onclick=\"SwM(event,'tm')\">Time</div><div class=\"tab\" onclick=\"SwM(event,'app')\">App</div><div class=\"tab\" onclick=\"SwM(event,'ext')\">Ext</div><div class=\"tab\" onclick=\"SwM(event,'rgx')\">Regex</div><div class=\"tab\" onclick=\"SwM(event,'slc')\">Slice</div><div class=\"tab\" onclick=\"SwM(event,'js')\">JS</div></div><div id=\"ui_tm\"><div class=\"t-row\" style=\"margin-top:-5px;border-top:0\"><div class=\"tab sub-t act\" onclick=\"SwS(0)\">Exact</div><div class=\"tab sub-t\" onclick=\"SwS(1)\">Range</div><div class=\"tab sub-t\" onclick=\"SwS(2)\">Cmp</div><div class=\"tab sub-t\" onclick=\"SwS(3)\">Path</div><div class=\"tab sub-t\" onclick=\"SwS(4)\">Ep/JS</div></div><div id=\"st_0\" class=\"panel\"><span class=\"lbl\">Prefix</span><div class=\"row-in\"><input id=\"tm_ex\" placeholder=\"2025/01...\"></div><button class=\"btn-add\" onclick=\"Add('tm','ex')\">+ ADD EXACT</button></div><div id=\"st_1\" class=\"panel hide\"><span class=\"lbl\">Interval</span><div class=\"row-in\"><input id=\"tm_r1\" placeholder=\"Start\"><span style=\"color:#666\">-</span><input id=\"tm_r2\" placeholder=\"End\"></div><button class=\"btn-add\" onclick=\"Add('tm','rng')\">+ ADD RANGE</button></div><div id=\"st_2\" class=\"panel hide\"><span class=\"lbl\">Components (Range ok)</span><div class=\"row-in\"><input id=\"c_y\" placeholder=\"Y (2024)\"><input id=\"c_m\" placeholder=\"M\"><input id=\"c_d\" placeholder=\"D\"></div><div class=\"row-in\"><input id=\"c_h\" placeholder=\"H\"><input id=\"c_mn\" placeholder=\"m\"><input id=\"c_s\" placeholder=\"s\"><input id=\"c_ms\" placeholder=\"ms\"></div><button class=\"btn-add\" onclick=\"Add('tm','cmp')\">+ ADD LOGIC</button></div><div id=\"st_3\" class=\"panel hide\"><span class=\"lbl\">Path (+)</span><div class=\"row-in\"><input id=\"tm_str\" placeholder=\"2024/1-3 + 2025\"></div><button class=\"btn-add\" onclick=\"Add('tm','str')\">+ ADD PATH</button></div><div id=\"st_4\" class=\"panel hide\"><span class=\"lbl\">Epoch/JS</span><div class=\"row-in\"><textarea id=\"tm_ep\" style=\"width:100%;height:35px\" placeholder=\"e > 171...\"></textarea></div><button class=\"btn-add\" onclick=\"Add('tm','ep')\">+ ADD RULE</button></div></div><div id=\"ui_app\" class=\"panel hide\"><span class=\"lbl\">App Name</span><div style=\"position:relative\"><div class=\"row-in\"><input id=\"v_app\" oninput=\"DrApp()\" onfocus=\"DrApp()\" placeholder=\"Select/Type...\"><span style=\"color:var(--a);cursor:pointer;padding:4px\" onclick=\"TgApp()\">▼</span></div><div id=\"dd_box\" class=\"dd-box\"></div></div><button class=\"btn-add\" onclick=\"Add('app')\">+ ADD FILTER</button></div><div id=\"ui_ext\" class=\"panel hide\"><span class=\"lbl\">Extension</span><div class=\"row-in\"><input id=\"v_ext\" placeholder=\"jpg\"></div><button class=\"btn-add\" onclick=\"Add('ext')\">+ ADD FILTER</button></div><div id=\"ui_rgx\" class=\"panel hide\"><span class=\"lbl\">Regex</span><div class=\"row-in\"><input id=\"v_rgx\"></div><button class=\"btn-add\" onclick=\"Add('rgx')\">+ ADD REGEX</button></div><div id=\"ui_slc\" class=\"panel hide\"><span class=\"lbl\">Base Sort & Slice</span><div class=\"row-in\"><select id=\"slc_ord\"><option value=\"0\">Org</option><option value=\"1\">Time ▲</option><option value=\"2\">Time ▼</option></select><input id=\"v_slc\" placeholder=\"100-500\"></div><button class=\"btn-add\" onclick=\"Add('slc')\">+ ADD SLICE</button></div><div id=\"ui_js\" class=\"panel hide\"><span class=\"lbl\">Custom JS</span><div class=\"row-in\"><textarea id=\"v_js\" style=\"width:100%;height:35px\" placeholder=\"r.id%2==0\"></textarea></div><button class=\"btn-add\" onclick=\"Add('js')\">+ ADD JS</button></div></div><div style=\"border-top:1px solid #333;padding-top:6px;font-size:9px;font-weight:bold;color:#666\">ACTIVE</div><div id=\"chips\" style=\"display:flex;flex-direction:column;align-items:flex-start\"></div><div style=\"margin-top:auto;padding-top:8px\"><div style=\"display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px\"><span>V: <b id=\"vc\" style=\"color:var(--a)\">0</b></span><span>T: <span id=\"tc\">0</span></span></div><button onclick=\"Reset()\" style=\"width:100%;color:#f55;border-color:#522;padding:5px;font-weight:bold;background:#251010\">RESET</button></div></div></div><div class=\"side-tgl\" onclick=\"TglSide()\" id=\"ar_s\">◀</div><div class=\"main\" id=\"vs\" onscroll=\"Draw()\"><table id=\"tbl\"><thead><tr><th><input id=\"h_slice\" value=\"#(0-0)\" onchange=\"UpdBuf(this.value)\"></th><th id=\"h_ts\" onclick=\"Sort('ts')\">Time</th><th id=\"h_app\" onclick=\"Sort('app')\">App</th><th id=\"h_f\" onclick=\"Sort('f')\">Filename</th></tr></thead><tbody id=\"tb\"></tbody></table></div></div><script>const I=i=>document.getElementById(i),T=i=>{let e=I(i);e.style.display=e.style.display=='none'?'block':'none'},CE=t=>document.createElement(t);let D=[],F=[],FLT={tm:[],app:[],ext:[],rgx:[],slc:[],js:[]},RH=21,BUF=200,APPS=new Set(),S={k:'',d:0};const R_S=/Screenshot_(\\d{4})[-_]?(\\d{2})[-_]?(\\d{2})[-_]?(\\d{2})[-_]?(\\d{2})[-_]?(\\d{2})[-_]?(\\d{3})?_?([^\\.]+)/i,R_I=/IMG_SEGMENT_(\\d{4})(\\d{2})(\\d{2})_(\\d{2})(\\d{2})(\\d{2})/,R_G=/(\\d{4})[-_./]?(\\d{2})[-_./]?(\\d{2})/;function Parse(x){D=[];APPS.clear();x.split(/\\r?\\n/).forEach((s,i)=>{if(!s.trim())return;let o={id:i+1,raw:s,y:0,m:0,d:0,h:0,mn:0,s:0,ms:0,ts:0,ft:'',app:'System',f:s,ext:''},mS=s.match(R_S),mI=s.match(R_I);if(mS){o.y=+mS[1];o.m=+mS[2];o.d=+mS[3];o.h=+mS[4];o.mn=+mS[5];o.s=+mS[6];o.ms=+(mS[7]||0)}else if(mI){o.y=+mI[1];o.m=+mI[2];o.d=+mI[3];o.h=+mI[4];o.mn=+mI[5];o.s=+mI[6]}else{let g=s.match(R_G);if(g){o.y=+g[1];o.m=+g[2];o.d=+g[3]}}o.ts=new Date(o.y,o.m-1,o.d,o.h,o.mn,o.s,o.ms).getTime();o.ft=`${o.y}-${P(o.m)}-${P(o.d)} ${P(o.h)}:${P(o.mn)}:${P(o.s)}.${Z(o.ms)}`;o.ext=s.split('.').pop();let nm=s.replace(/\\.[^.]+$/,'').replace(/^.*(Screenshot|IMG_SEGMENT)[-_0-9]+_?/i,'').replace(/[-_]?\\d{8}[-_]\\d{6}.*$/,'');if(!nm||!/[a-zA-Z]/.test(nm))nm=\"System\";o.app=nm;APPS.add(o.app);D.push(o)});UpdApps();Apply()}const P=n=>(n||0).toString().padStart(2,'0'),Z=n=>(n||0).toString().padStart(3,'0');function UpdApps(){let l=I('dd_box');l.innerHTML='';APPS.forEach(a=>{let d=CE('div');d.className='dd-item';d.innerText=a;d.onclick=()=>SetApp(a);l.appendChild(d)})}function DrApp(){let v=I('v_app').value.toLowerCase(),b=I('dd_box'),h='';APPS.forEach(a=>{if(!v||a.toLowerCase().includes(v))h+=`<div class=\"dd-item\" onclick=\"SetApp('${a}')\">${a}</div>`});b.innerHTML=h;b.style.display=h?'block':'none'}function SetApp(a){I('v_app').value=a;I('dd_box').style.display='none'}function TgApp(){let b=I('dd_box');if(b.style.display=='none')DrApp();else b.style.display='none'}function HF(e){let f=e.files[0];if(f){let r=new FileReader();r.onload=x=>Parse(x.target.result);r.readAsText(f)}}function HP(e){Parse(e.value);I('pst').style.display='none';e.value=''}function TglSide(){let s=I('sb'),a=I('ar_s');if(s.classList.contains('shut')){s.classList.remove('shut');a.innerText='◀'}else{s.classList.add('shut');a.innerText='▶'}}function Toggle(i,btn){let b=I(i),s=btn.lastChild;if(b.classList.contains('hide')){b.classList.remove('hide');s.innerText='▲'}else{b.classList.add('hide');s.innerText='▼'}}function SwM(e,m){e.stopPropagation();['tm','app','ext','rgx','slc','js'].forEach(x=>I('ui_'+x).classList.add('hide'));I('ui_'+m).classList.remove('hide');document.querySelectorAll('.t-row:first-child .tab').forEach(t=>t.classList.remove('act'));e.target.classList.add('act')}function SwS(n){for(let i=0;i<5;i++){I('st_'+i).classList.add('hide');document.querySelectorAll('.sub-t')[i].classList.remove('act')}I('st_'+n).classList.remove('hide');document.querySelectorAll('.sub-t')[n].classList.add('act')}function Sort(k){if(S.k==k)S.d=(S.d+1)%3;else{S.k=k;S.d=1}Apply()}function Add(c,s){let r=null,d='';if(c=='tm'){if(s=='ex'){let v=I('tm_ex').value.trim();if(v){r={m:'str',v:v.replace(/[:.-]/g,'/')};d=v}}if(s=='rng'){let a=I('tm_r1').value,b=I('tm_r2').value;if(a||b){r={m:'rng',s:Dp(a,0),e:Dp(b,1)};d=a+'~'+b}}if(s=='cmp'){let k=['c_y','c_m','c_d','c_h','c_mn','c_s','c_ms'],p=[];k.forEach(x=>{let v=I(x).value.trim();p.push(v?v.replace(/\\+/g,','):'')});r={m:'str',v:p.join('/')};d='CMP: '+p.join('/')}if(s=='str'){let v=I('tm_str').value.trim();if(v){r={m:'str',v:v.replace(/[:.-]/g,'/')};d=v}}if(s=='ep'){let v=I('tm_ep').value.trim();if(v){if(/^\\d+-\\d+$/.test(v)){let[x,y]=v.split('-');r={m:'rng',s:+x,e:+y};d=v}else{try{r={m:'js',f:new Function('e','y','m','d','h','return '+v)};d='JS'}catch(e){alert(e)}}}}if(r)FLT.tm.push({r:r,d:d})}else if(c=='slc'){let o=I('slc_ord').value,v=I('v_slc').value.trim();if(v){r={r:v,o:+o};d='Slice: '+v+(['',' ▲',' ▼'][+o])}I('v_slc').value='';if(r)FLT.slc=[{r:r.r,o:r.o}]}else{let v=I('v_'+c).value.trim();if(v){r=v;d=v;if(c=='js')try{r=new Function('r',v);d='JS'}catch(e){alert(e);return}I('v_'+c).value='';FLT[c].push({r:r,d:d})}}if(r){RF();Apply()}}function Reset(){FLT={tm:[],app:[],ext:[],rgx:[],slc:[],js:[]};RF();Apply()}function RF(){let c=I('chips');c.innerHTML='';let mk=(k,n,arr)=>arr.forEach((f,i)=>{let d=CE('div');d.className='chip';d.style.borderColor=k=='tm'?'var(--a)':'#666';d.innerHTML=`<span><b>${n}:</b> ${f.d}</span>`;let x=CE('i');x.innerHTML='×';x.onclick=()=>{FLT[k].splice(i,1);RF();Apply()};d.appendChild(x);c.appendChild(d)});mk('tm','Time',FLT.tm);mk('app','App',FLT.app);mk('ext','Ext',FLT.ext);mk('rgx','Rgx',FLT.rgx);mk('slc','Slc',FLT.slc);mk('js','JS',FLT.js)}function Apply(){I('st').innerText='...';setTimeout(()=>{let t=D.filter(r=>{let ot=!FLT.tm.length||FLT.tm.some(f=>ChkT(r,f.r)),oa=!FLT.app.length||FLT.app.some(f=>r.app.toLowerCase().includes(f.r.toLowerCase())),oe=!FLT.ext.length||FLT.ext.some(f=>r.ext.toLowerCase().includes(f.r.toLowerCase())),or=!FLT.rgx.length||FLT.rgx.some(f=>new RegExp(f.r,'i').test(r.raw)),oj=!FLT.js.length||FLT.js.some(f=>f.r(r));return ot&&oa&&oe&&or&&oj});if(FLT.slc.length){let s=FLT.slc[0];if(s.o==1)t.sort((a,b)=>a.ts-b.ts);if(s.o==2)t.sort((a,b)=>b.ts-a.ts);let v=s.r;if(v.includes('-')){let[a,b]=v.split('-').map(Number);a=Math.max(1,a);b=Math.min(t.length,b);if(a<=b){t=t.slice(a-1,b);t.forEach((x,i)=>x._si=a+i)}}else{let n=+v;if(n>0&&n<=t.length){t=[t[n-1]];t[0]._si=n}}}else{t.forEach((x,i)=>x._si=i+1)}if(S.d){let m=S.d==1?1:-1;t.sort((a,b)=>(a[S.k]>b[S.k]?1:-1)*m)}F=t;['ts','app','f'].forEach(k=>{I('h_'+k).innerText=(k=='ts'?'Time':k=='app'?'App':'Filename')+(S.k==k?(S.d==1?' ▲':S.d==2?' ▼':''):'')});I('vc').innerText=F.length;I('tc').innerText=D.length;I('st').innerText='OK';I('vs').scrollTop=0;Draw()},10)}function ChkT(r,q){if(q.m=='rng')return r.ts>=q.s&&r.ts<=q.e;if(q.m=='js')return q.f(r.ts,r.y,r.m,r.d,r.h);if(q.m=='str')return q.v.split('+').some(s=>{let p=s.trim().split('/');if(p[0]&&!Dr(p[0]).includes(r.y))return 0;if(p[1]&&!Dr(p[1]).includes(r.m))return 0;if(p[2]&&!Dr(p[2]).includes(r.d))return 0;if(p[3]&&!Dr(p[3]).includes(r.h))return 0;if(p[4]&&!Dr(p[4]).includes(r.mn))return 0;if(p[5]&&!Dr(p[5]).includes(r.s))return 0;if(p[6]&&!Dr(p[6]).includes(r.ms))return 0;return 1});return 0}function Dp(s,e){if(!s)return e?9e14:-9e14;let p=s.split(/[^0-9]/).filter(x=>x).map(Number);let y=p[0],m=(p[1]!=null)?p[1]-1:(e?11:0),d=(p[2]!=null)?p[2]:(e?31:1),h=(p[3]!=null)?p[3]:(e?23:0),mn=(p[4]!=null)?p[4]:(e?59:0),sc=(p[5]!=null)?p[5]:(e?59:0);return new Date(y,m,d,h,mn,sc).getTime()}function Dr(s){let r=[];s.split(/[+,]/).forEach(x=>{x=x.trim();if(x.includes('-')){let[a,b]=x.split('-').map(n=>parseInt(n.trim())).sort((u,v)=>u-v);if(!isNaN(a)&&!isNaN(b))for(let i=a;i<=b;i++)r.push(i)}else{let n=+x;if(!isNaN(n))r.push(n)}});return r}function Draw(){let v=I('vs'),t=v.scrollTop,c=Math.floor((t+(v.clientHeight/2))/RH),h=Math.floor(BUF/2),s=c-h,e=c+h;if(s<0){s=0;e=BUF}if(e>F.length){e=F.length;s=Math.max(0,e-BUF)}if(I('h_slice')!==document.activeElement)I('h_slice').value=`#(${s}-${e})`;let tp=s*RH,ht=`<tr style=\"height:${tp}px\"></tr>`;for(let i=s;i<e;i++){let d=F[i];ht+=`<tr><td>${d._si}</td><td>${d.ft}</td><td>${d.app}</td><td>${d.f}</td></tr>`}ht+=`<tr style=\"height:${(F.length-e)*RH}px\"></tr>`;I('tb').innerHTML=ht}function UpdBuf(v){let m=v.match(/\\d+/g);if(!m||m.length<2)return;let s=+m[0],e=+m[1],z=e-s;BUF=Math.min(10000,Math.max(100,z));if(s>=0&&s<F.length){I('vs').scrollTop=s*RH;Draw()}}function Exp(){let b=new Blob([F.map(x=>x.raw).join('\\n')],{type:'text/plain'}),a=CE('a');a.href=URL.createObjectURL(b);a.download='log.txt';a.click()}</script></body></html>\n"
  },
  {
    "name": "primitive_gemini_api_chat.html",
    "type": "file",
    "size": "13,468 bytes",
    "path": "primitive_gemini_api_chat.html",
    "content": "<!DOCTYPE html><html><head><title>AI Chat</title><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><style>html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{font-family:monospace;margin:10px}.container{display:flex;align-items:center;flex-wrap:wrap;margin-bottom:10px}.control-group{display:inline-flex;align-items:center;gap:2px;margin-right:3px;margin-bottom:10px}input,textarea,button{background-color:#333;color:#e0e0e0;border:1px solid #555;padding:8px}textarea,button{width:100%;margin-bottom:10px}button{cursor:pointer}button:disabled{background-color:#222;color:#777}.container input[type=\"text\"],.container input[type=\"number\"],.colours-dropdown-content input[type=\"text\"]{field-sizing:content}input:disabled{background-color:#2a2a2a;color:#888}#b{height:65vh;overflow-y:scroll;border:1px solid;padding:10px;margin:10px 0}#b pre{white-space:pre-wrap;margin:5px 0;padding:4px;border:1px solid}code{padding:1px 4px;border-radius:4px}.dropdown-container,.colours-dropdown-container{position:relative;display:inline-flex;align-items:center}#chatid,#model{padding-right:25px}#id-dropdown-btn,#model-dropdown-btn{position:absolute;right:0;top:0;bottom:0;display:flex;align-items:center;width:25px;justify-content:center;cursor:pointer;user-select:none}.dropdown-content{display:none;position:absolute;top:100%;left:0;background-color:#444;min-width:160px;border:1px solid #555;z-index:1;max-height:80vh;overflow-y:auto}.dropdown-content div{color:#e0e0e0;padding:8px 12px;text-decoration:none;display:block;cursor:pointer}.dropdown-content div:hover{background-color:#555}.show{display:block}#save-btn,#colours-btn{width:auto;margin-bottom:0;padding:4px 8px}.colours-dropdown-content{padding:10px;max-width:95vw}.colours-dropdown-content table{width:100%;border-collapse:collapse}.colours-dropdown-content td{padding:1px 0}.colours-dropdown-content td:last-child{white-space:nowrap}.colours-dropdown-content input[type=\"text\"]{width:auto;text-align:right}.colours-dropdown-content input[type=\"color\"]{width:25px;padding:0;background:none;border:1px solid #555;cursor:pointer}.colours-dropdown-content input[type=\"color\"]::-webkit-color-swatch{border:none}.colours-dropdown-content input[type=\"color\"]::-moz-color-swatch{border:none}#b h1,#b h2,#b h3,#b h4,#b h5,#b h6{margin:.8em 0 .4em}#b p{margin:0}#b p+p{margin-top:.5em}#b blockquote{background-color:#2a2a2a;border-left:4px solid #555;border-radius:0 4px 4px 0;margin:10px 0;padding:5px 15px}#b hr{border:0;border-top:1px solid #444;margin:1em 0}#b pre div pre{margin:10px 0;border:1px solid}#b pre div pre code{display:block;padding:10px;border-radius:4px;white-space:pre-wrap;color:#e0e0e0}#b pre > div{display:inline}#b ul,#b ol{margin:0;padding-left:20px}</style></head><body><div class=\"container\"><span class=\"control-group\"><label for=\"key\">API Key:</label><input type=\"text\" id=\"key\" data-state=\"key\"></span><span class=\"control-group\"><label for=\"model\">Model Name:</label><div class=\"dropdown-container\"><input type=\"text\" id=\"model\" data-state=\"model\"><label for=\"model\" id=\"model-dropdown-btn\" data-action=\"toggle\" data-target=\"modelMenu\">▼</label><div id=\"model-dropdown-menu\" class=\"dropdown-content\"></div></div></span><span class=\"control-group\"><label for=\"chatid\">Chat ID:</label><div class=\"dropdown-container\"><input type=\"text\" id=\"chatid\" data-state=\"chatid\" data-event=\"change\"><label for=\"chatid\" id=\"id-dropdown-btn\" data-action=\"toggle\" data-target=\"idMenu\">▼</label><div id=\"id-dropdown-menu\" class=\"dropdown-content\"></div></div></span><span class=\"control-group\"><div class=\"colours-dropdown-container\"><button id=\"colours-btn\" data-action=\"toggle\" data-target=\"colorMenu\">Colours</button><div id=\"colours-dropdown\" class=\"dropdown-content colours-dropdown-content\"></div></div></span><span class=\"control-group\"><label for=\"parse\">Parse:</label><input type=\"checkbox\" id=\"parse\" data-state=\"parse\"></span><span class=\"control-group\"><label for=\"stream\">Stream:</label><input type=\"checkbox\" id=\"stream\" data-state=\"stream\"></span><span class=\"control-group\"><input type=\"number\" id=\"ms\" data-state=\"ms\">ms</span><span class=\"control-group\"><span><button id=\"save-btn\" data-action=\"save\">Save</button>:</span><label for=\"savesettings\">Settings</label><input type=\"checkbox\" id=\"savesettings\" data-state=\"savesettings\"><label for=\"savechat\">Chat</label><input type=\"checkbox\" id=\"savechat\" data-state=\"savechat\"></span></div><div id=\"b\"></div><textarea id=\"u\" placeholder=\"Your message...\"></textarea><button id=\"s\" data-action=\"send\">Send</button><script>const g=id=>document.getElementById(id),cE=tag=>document.createElement(tag),doc=document,s={},cfg=[{k:'username',l:'User Name',d:'#f00',s:'.user-prefix',p:'color'},{k:'modelname',l:'Model Name',d:'#f0f',s:'.model-prefix',p:'color'},{k:'usertext',l:'User Text',d:'#0f0c',s:'.user-message',p:'color'},{k:'modeltext',l:'Model Text',d:'#fecc',s:'.model-message',p:'color'},{k:'uitext',l:'UI Text',d:'#fff',s:'body, input, textarea, button',p:'color'},{k:'userbg',l:'User Background',d:'#0066',s:'.user-message',p:'backgroundColor'},{k:'modelbg',l:'Model Background',d:'#5503',s:'.model-message',p:'backgroundColor'},{k:'background',l:'Background',d:'#000',s:'body',p:'backgroundColor'},{k:'useredge',l:'User Edge',d:'#0f0',s:'.user-message',p:'borderColor'},{k:'modeledge',l:'Model Edge',d:'#00f',s:'.model-message',p:'borderColor'},{k:'chatedge',l:'Chat Edge',d:'#fff',s:'#b',p:'borderColor'},{k:'codeblockedges',l:'Codeblock Edge',d:'#00f',s:'#b pre div pre',p:'borderColor'},{k:'codeblockbackground',l:'Codeblock Background',d:'#000',s:'#b pre div pre code',p:'backgroundColor'},{k:'inlinecodebackground',l:'Inline Code BG',d:'#0ff2',s:'p code, li code, h1 code, h2 code, h3 code, h4 code, h5 code, h6 code',p:'backgroundColor'}];let h={},cc=[],mL=[];const pT=text=>{const e=t=>t.replace(/</g,'&lt;'),i=str=>e(str).replace(/`([^`]+)`/g,'<code>$1</code>').replace(/\\*\\*\\*([^*]+)\\*\\*\\*/g,'<strong><em>$1</em></strong>').replace(/\\*\\*([^*]+)\\*\\*/g,'<strong>$1</strong>').replace(/\\*([^*]+)\\*/g,'<em>$1</em>'),l=text.split('\\n'),o=[];let iC=!1,iUL=!1,iOL=!1,ct=[];const cUL=()=>{if(iUL){o.push('</ul>');iUL=!1}},cOL=()=>{if(iOL){o.push('</ol>');iOL=!1}};for(const ln of l){if(iC){if(/```\\s*$/.test(ln)){const fI=ln.lastIndexOf('```'),lastLine=ln.substring(0,fI);if(lastLine)ct.push(lastLine);o.push(`<pre><code>${e(ct.join('\\n'))}</code></pre>`);iC=!1}else{ct.push(ln)}}else{const oM=ln.match(/^\\s*```(.+)/),ulM=ln.match(/^\\s*[\\*\\-\\+]\\s(.*)/),olM=ln.match(/^\\s*\\d+\\.\\s(.*)/),hM=ln.match(/^(#{1,6})\\s(.*)/);if(!ulM&&!olM){cUL();cOL()}if(oM){cUL();cOL();iC=!0;ct=[oM[1]]}else if(hM){o.push(`<h${hM[1].length}>${i(hM[2])}</h${hM[1].length}>`)}else if(ulM){cOL();if(!iUL){o.push('<ul>');iUL=!0}o.push(`<li>${i(ulM[1])}</li>`)}else if(olM){cUL();if(!iOL){o.push('<ol>');iOL=!0}o.push(`<li>${i(olM[1])}</li>`)}else if(/^(---|___|\\*\\*\\*)\\s*$/.test(ln)){o.push('<hr>')}else if(ln.startsWith('> ')){o.push(`<blockquote>${i(ln.substring(2))}</blockquote>`)}else if(ln.trim()){o.push(`<p>${i(ln)}</p>`)}}}cUL();cOL();if(iC)o.push(`<pre><code>${e(ct.join('\\n'))}</code></pre>`);return o.filter(Boolean).join('').replace(/<\\/blockquote><blockquote>/g,'<br>').replace(/<\\/p><p>/g,'<br>')},cH=c=>{try{const t=cE('div');t.style.color=c;doc.body.appendChild(t);const rC=window.getComputedStyle(t).color;t.remove();if(rC.startsWith('#'))return rC;const rgb=rC.match(/\\d+/g).map(Number);return`#${((1<<24)+(rgb[0]<<16)+(rgb[1]<<8)+rgb[2]).toString(16).slice(1)}`}catch(e){return'#000000'}},rC=(pre,ct,text,iP)=>{pre.style.whiteSpace=iP?'normal':'pre-wrap';ct[iP?'innerHTML':'textContent']=iP?pT(text):text},cME=(role,text)=>{const p=cE('pre'),iU=role==='user',pS=cE('span'),ct=cE('div');p.className=iU?'user-message':'model-message';pS.className=iU?'user-prefix':'model-prefix';pS.textContent=iU?'user: ':`${s.model.replace(/</g,\"&lt;\")}: `;rC(p,ct,text,!iU&&s.parse);p.append(pS,ct);return p},r=()=>{const b=g('b');b.innerHTML='';cc.length?cc.forEach(msg=>b.appendChild(cME(msg.role,msg.parts[0].text))):b.insertAdjacentHTML('beforeend','<pre>System: Enter API key & ask a question.</pre>');Object.keys(s).forEach(k=>{const el=g(k);if(el)el[el.type==='checkbox'?'checked':'value']=s[k]});g('ms').disabled=!s.stream;cfg.forEach(c=>{const k=c.k,val=s.colours[k];doc.querySelector(`[data-state=\"colours.${k}\"][type=\"text\"]`).value=val;doc.querySelector(`[data-state=\"colours.${k}\"][type=\"color\"]`).value=cH(val)});cfg.forEach(c=>doc.querySelectorAll(c.s).forEach(el=>el.style[c.p]=s.colours[c.k]));const idMenu=g('id-dropdown-menu');if(s.ui.idMenu)idMenu.innerHTML=Object.keys(h).map(id=>`<div data-action=\"selectChat\" data-id=\"${id}\">${id}</div>`).join('');idMenu.classList.toggle('show',s.ui.idMenu);const modelMenu=g('model-dropdown-menu');if(s.ui.modelMenu)modelMenu.innerHTML=mL.length?mL.map(m=>`<div data-action=\"selectModel\" data-model=\"${m}\">${m}</div>`).join(''):'<div>Loading...</div>';modelMenu.classList.toggle('show',s.ui.modelMenu);g('colours-dropdown').classList.toggle('show',s.ui.colorMenu)},a={send:async()=>{const uM=g('u').value.trim();if(!s.key||!s.model||!uM)return;const b=g('b'),sB=g('s');cc.push({role:'user',parts:[{text:uM}]});r();const mM=cME('model','...');b.appendChild(mM);g('u').value='';sB.disabled=!0;let fR='';try{const eP=s.stream?'streamGenerateContent?alt=sse&':'generateContent?',res=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${s.model}:${eP}key=${s.key}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:cc})});if(!res.ok)throw new Error((await res.json()).error.message);const uUI=t=>{rC(mM,mM.lastChild,t,s.parse);b.scrollTop=b.scrollHeight};if(s.stream){const rdr=res.body.getReader(),d=new TextDecoder();for(let bf='';;){const{done,value}=await rdr.read();if(done)break;bf+=d.decode(value,{stream:!0});const lns=bf.split('\\n');bf=lns.pop();for(const ln of lns)ln.startsWith('data: ')&&(fR+=JSON.parse(ln.substring(6)).candidates?.[0]?.content?.parts?.[0]?.text||'');uUI(fR);if(s.ms>0)await new Promise(r=>setTimeout(r,s.ms))}}else{fR=(await res.json()).candidates[0].content.parts[0].text;uUI(fR)}cc.push({role:'model',parts:[{text:fR}]});a.save();r()}catch(err){mM.textContent=`${s.model}: Error - ${err.message}`}finally{sB.disabled=!1;g('u').focus()}},save:()=>{if(s.savesettings||s.savechat)localStorage.setItem('chat',JSON.stringify({s:s.savesettings?s:undefined,history:s.savechat?h:undefined}))},toggle:async el=>{const target=el.dataset.target;s.ui[target]=!s.ui[target];if(target==='modelMenu'&&s.ui.modelMenu&&!mL.length){if(!s.key){mL=['Enter API key first'];r();return}try{const res=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${s.key}`);if(!res.ok)throw new Error((await res.json()).error.message);const data=await res.json();const getModelScore=name=>{let score=0;if(name.includes('-pro'))score+=1000;else if(name.includes('-flash'))score+=800;else if(name.includes('-lite'))score+=600;const versionMatch=name.match(/gemini-(\\d\\.\\d)/);if(versionMatch){score+=parseFloat(versionMatch[1])*100}if(name.includes('-latest')){score+=10000}else if(name.includes('-exp')){score-=5000}else if(name.includes('-preview')){if(name.match(/preview-\\d{2}-\\d{2}/)){score-=2000}else{score+=500}}else{score+=5000}const isSpecialized=/gemma|learnlm|tts|image|robotics|computer-use|thinking/.test(name);if(isSpecialized){score-=20000}return score};mL=data.models.filter(m=>m.supportedGenerationMethods.includes('generateContent')).map(m=>m.name.replace('models/','')).sort((a,b)=>getModelScore(b)-getModelScore(a))}catch(err){mL=[`Error: ${err.message}`]}}r()},selectChat:el=>{s.chatid=el.dataset.id;s.ui.idMenu=!1;cc=h[s.chatid]||(h[s.chatid]=[]);r()},selectModel:el=>{s.model=el.dataset.model;s.ui.modelMenu=!1;r()}};['input','change'].forEach(evt=>doc.addEventListener(evt,e=>{const el=e.target,reqEvt=el.dataset.event||'input';if(evt!==reqEvt)return;const kP=el.dataset.state;if(!kP)return;const keys=kP.split('.'),val=el.type.slice(0,8)==='checkbox'?el.checked:el.value;let cS=s;for(let i=0;i<keys.length-1;i++)cS=cS[keys[i]];cS[keys[keys.length-1]]=val;if(kP==='chatid')cc=h[s.chatid]||(h[s.chatid]=[]);r()}));doc.addEventListener('click',e=>{const act=e.target.dataset.action;if(a[act])a[act](e.target);if(!e.target.closest('.dropdown-container')&&!e.target.closest('.colours-dropdown-container')){if(s.ui.idMenu||s.ui.colorMenu||s.ui.modelMenu){s.ui.idMenu=!1;s.ui.colorMenu=!1;s.ui.modelMenu=!1;r()}}});(()=>{const st=JSON.parse(localStorage.getItem('chat'))||{},sS=st.s||{},sH=st.history||{};Object.assign(s,{key:\"\",model:\"gemini-pro-latest\",chatid:\"default\",parse:!1,stream:!1,ms:50,savesettings:!0,savechat:!0,ui:{idMenu:!1,colorMenu:!1,modelMenu:!1},...sS});s.colours={...cfg.reduce((a,c)=>({...a,[c.k]:c.d}),{}),...(sS.colours||{})};g('colours-dropdown').innerHTML='<table>'+cfg.map(c=>`<tr><td><input type=\"color\" data-state=\"colours.${c.k}\"></td><td><input type=\"text\" data-state=\"colours.${c.k}\"></td><td>=> ${c.l}</td></tr>`).join('')+'</table>';h=Array.isArray(sH)?confirm(\"Warning: Outdated chat data format detected.\\n\\nClick OK to migrate your old chat to a new format under the ID 'oldlocal'. This is recommended.\\n\\nClick Cancel to do nothing. The app may not function correctly with the old data.\")?{default:[],oldlocal:sH}:sH:typeof sH==='object'?sH:{default:[]};cc=h[s.chatid]||(h[s.chatid]=[]);r()})();</script></body></html>\n"
  },
  {
    "name": "python",
    "type": "folder",
    "size": "3,060 bytes",
    "path": "python",
    "children": [
      {
        "name": "clean_c_executer.py",
        "type": "file",
        "size": "3,060 bytes",
        "path": "python/clean_c_executer.py",
        "content": "try:\n    with open(\"input_file_0.py\", \"w\") as f:\n        f.write(r\"\"\"import os,re,sys,subprocess\ndef compile_and_run(c_code,source_name):\n executable_name=f\"delete_{os.path.splitext(os.path.basename(source_name))[0]}\";temp_c_file=\"_temp_source.c\"\n try:\n  print(f\"-> Compiling C code from '{source_name}'...\")\n  with open(temp_c_file,'w')as f:f.write(c_code)\n  cp=subprocess.run(['gcc',temp_c_file,'-o',executable_name],capture_output=True,text=True)\n  if cp.returncode!=0:\n   print(\"\\n\"+\"=\"*60);print(\"--- C COMPILATION FAILED ---\");print(f\"Source: {source_name}\\n\\n[GCC Compiler Error Message]\");print(cp.stderr.strip());print(\"\\n[Problematic Code with Line Numbers]\")\n   for i,line in enumerate(c_code.strip().splitlines(),1):print(f\"{i: >3}: {line}\")\n   print(\"=\"*60);sys.exit(1)\n  print(\"-> Compilation successful. Running program...\")\n  rp=subprocess.run([f'./{executable_name}'],check=True,capture_output=True,text=True)\n  print(\"\\n--- Program Output ---\\n\"+rp.stdout.strip()+\"\\n----------------------\")\n finally:\n  print(\"\\n-> Cleaning up artifacts...\")\n  cl=False\n  if os.path.exists(temp_c_file):os.remove(temp_c_file);cl=True\n  if os.path.exists(executable_name):os.remove(executable_name);cl=True\n  if cl:print(\"   Cleanup complete.\")\ndef main():\n print(\"--- C Code Runner Initialized (Fallback Order: Auto > File > String) ---\")\n args=sys.argv;num_cli_args=len(args)-1\n c_code, source_name = None, None\n if num_cli_args == 0 or num_cli_args > 2:\n  files={int(m.group(1)):f for f in os.listdir('.') if(m:=re.match(r'input_file_(\\d+)\\.py',f))and int(m.group(1))!=0}\n  if files:\n   print(\"Mode: Automatic Discovery\")\n   source_name=files[max(files.keys())];print(f\"Found target: '{source_name}'\")\n   with open(source_name, 'r') as f: c_code = f.read()\n elif num_cli_args == 1 and args[1] != '0' and os.path.exists(args[1]):\n  source_name=args[1];print(f\"Mode: Direct File Target ('{source_name}')\")\n  with open(source_name, 'r') as f: c_code = f.read()\n elif num_cli_args == 2 and args[1] == '0':\n  print(\"Mode: Direct String Injection\")\n  c_code, source_name = args[2], \"direct_string\"\n if c_code is not None:\n  compile_and_run(c_code, source_name)\n else:\n  print(\"\\nError: No action could be taken.\",file=sys.stderr)\n  print(\" - Auto-discovery failed: No 'input_file_X.py' files found.\",file=sys.stderr)\n  print(\" - Argument Error: Check arguments for File or String mode.\",file=sys.stderr);sys.exit(1)\nif __name__==\"__main__\":main()\n\"\"\")\n    with open(\"input_file_100.py\", \"w\") as f:\n        f.write('#include <stdio.h>\\nint main(){printf(\"Result is: %d\\\\n\",2+2);return 0;}')\n    print(\"Successfully created 'input_file_0.py' and 'input_file_100.py'.\")\n    print(\"\\nTo run the code, use one of the following commands:\")\n    print(\"1. (Auto-Search): python3 input_file_0.py\")\n    print(\"2. (Direct File): python3 input_file_0.py input_file_100.py\")\n    print(\"3. (Direct String): python3 input_file_0.py 0 '#include <stdio.h>\\\\nint main(){printf(\\\\\\\"Hello!\\\\n\\\\\\\");}'\")\nexcept IOError as e:\n    print(f\"An error occurred during file creation: {e}\")\n"
      }
    ]
  },
  {
    "name": "repo_to_json.html",
    "type": "file",
    "size": "14,362 bytes",
    "path": "repo_to_json.html",
    "content": "<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content=\"width=device-width,initial-scale=1,viewport-fit=cover\"><title>Repo to JSON/txt</title>\n<style>\n:root{--b:#121212;--s:#1e1e1e;--t:#e0e0e0;--t2:#a0a0a0;--bd:#444;--a:#3b82f6;--ah:#2563eb;--ok:#28a745;--err:#dc3545;--bt:#4a4a4a}*{box-sizing:border-box}html{font-size:clamp(15px,1.5vw + .5rem,18px)}body{font-family:-apple-system,sans-serif;line-height:1.6;color:var(--t);background:var(--b);margin:0;padding:env(safe-area-inset-top,1.5rem) env(safe-area-inset-right,1.5rem) env(safe-area-inset-bottom,1.5rem) env(safe-area-inset-left,1.5rem)}main{background:var(--s);padding:1.5rem;border-radius:.5rem;box-shadow:0 .25rem .75rem #0008;max-width:900px;width:100%;margin:0 auto}h1{text-align:center;color:var(--a);margin:0}label{font-weight:700;margin-top:1.5rem;display:block;color:var(--t2)}.g{display:flex;gap:.5rem;margin-top:.25rem;flex-wrap:wrap}.g input{flex:1}.g select{flex:0;width:auto}input,select,textarea{width:100%;padding:.75rem;border-radius:.5rem;border:1px solid var(--bd);font-size:.9rem;background:#2a2a2a;color:var(--t)}input:focus,select:focus,textarea:focus{outline:2px solid var(--a);outline-offset:-1px}textarea{min-height:15rem;font-family:monospace;resize:vertical}button{display:block;width:100%;padding:.8rem;margin:1.25rem 0 .75rem;font-size:1rem;font-weight:700;color:#fff;background:var(--a);border:none;border-radius:.5rem;cursor:pointer;transition:.2s}button:hover:not(:disabled){background:var(--ah)}button:disabled{background:#555;color:#999;cursor:not-allowed}.b2{background:var(--bt);margin-top:.5rem;font-size:.8rem;padding:.6rem}.b2:hover:not(:disabled){background:#5a5a5a}#st{margin:.75rem 0;padding:.75rem;background:#333;border-radius:.5rem;text-align:center;font-weight:700;color:var(--t2);word-wrap:break-word}#sd{margin-top:1rem;text-align:center;font-size:.9rem;color:var(--t2)}@media(max-width:600px){body{padding:.5rem}main{padding:1rem}}.mt{margin-top:.5rem}.f1{flex:1 1 auto}.c-wr{display:flex;flex:1 1 auto;min-width:max-content}.c-in{field-sizing:content;width:auto;max-width:100%}@supports not (field-sizing:content){.c-in{width:100%}}.arr{margin:0;border-radius:0 .5rem .5rem 0;padding:0 .75rem;width:auto}.l-br{border-radius:.5rem 0 0 .5rem;border-right:none;width:100%}.bar{align-items:center;background:#2a2a2a;border-radius:.5rem;border:1px solid var(--bd);padding:0 .5rem}.bar label{margin:0;font-weight:400;font-size:.9rem;white-space:nowrap}.bar input,.bar select{border:none;background:0 0;padding:.75rem .25rem;flex:1 1 3rem}.bar select{flex:0}.bar .dl{width:1px;height:1.5rem;background:var(--bd);margin:0 .5rem}.cb-l{margin:0;padding:0 .5rem;background:#2a2a2a;border-radius:.5rem;border:1px solid var(--bd);flex:0 0 auto;display:flex;align-items:center;gap:.25rem;cursor:pointer;white-space:nowrap}.cb-l span{font-size:.7em;opacity:.7;font-weight:400}input[type=checkbox]{margin:0;width:auto;cursor:pointer}.ib-w{display:flex;border-radius:.5rem;overflow:hidden;margin-top:.75rem}.ib-w button{margin:0!important;border-radius:0!important;flex:1}.ib-w label{margin:0;display:flex;align-items:center;gap:.35rem;padding:0 .75rem;color:#fff;font-size:.85rem;cursor:pointer}.ib-w:has(button:disabled) label{opacity:.6;pointer-events:none}.ib-i{margin:0;width:5ch;padding:.1rem;background:rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.2);color:#fff;border-radius:.25rem;font-size:.9rem;text-align:center}.wp{position:relative}.tb{position:absolute;top:0;right:0;z-index:9;display:flex;gap:1px;background:var(--bd);border-radius:0 .5rem 0 .5rem;overflow:hidden;border-left:1px solid var(--bd);border-bottom:1px solid var(--bd)}.tb span{cursor:pointer;padding:.3rem .6rem;background:#050505;color:#aaa;font-size:1rem;line-height:1;user-select:none;transition:.2s}.tb span:hover{background:#333;color:#fff}.au{field-sizing:content;height:auto!important}.fs{position:fixed;inset:5%;z-index:999;box-shadow:0 0 0 99in #0009;background:var(--s);display:flex;flex-direction:column}.fs textarea{height:100%!important;resize:none}\n</style></head><body><main>\n<h1>Repo to JSON/txt</h1><p><strong>Instructions:</strong> Configure parameters or use URL.</p><label>1. Repository Configuration</label>\n<div class=g><select id=ps><option value=github selected>GitHub</option><option value=gitlab>GitLab</option></select><input type=text id=un class=\"c-in f1\" placeholder=Username style=min-width:15ch><div class=c-wr><input type=text id=rn list=dl_r class=\"c-in l-br\" placeholder=Repository style=min-width:10ch><button id=btn_r class=\"b2 arr\" title=\"Fetch Repos\">▼</button><datalist id=dl_r></datalist></div><div class=c-wr><input type=text id=br list=dl_b class=\"c-in l-br\" placeholder=Branch style=min-width:6ch><button id=btn_b class=\"b2 arr\" title=\"Fetch Branches\">▼</button><datalist id=dl_b></datalist></div></div>\n<input type=text id=ur value=\"https://github.com/HalitZiyaKARTAL/test11\" placeholder=\"OR paste full URL here...\" class=mt>\n<button id=gt>2. Generate JSON File Tree</button><button id=cr class=b2>Check API Rate Limit</button>\n<label for=ji>3. JSON Tree</label><textarea id=ji placeholder=\"Click 'Generate' or paste JSON...\"></textarea>\n<label>4. Filters & Limits</label>\n<div class=\"g bar\"><label for=fd title=\"-1 means unlimited\">Depth (-1=All):</label><input type=number id=fd value=-1><div class=dl></div><label for=sl>Max Size:</label><input type=number id=sl value=1 min=1><select id=su><option value=KB>KB</option><option value=MB>MB</option><option value=GB selected>GB</option></select></div>\n<div class=\"g mt\"><input type=text id=fw placeholder=\"Whitelist (e.g. src/, file.txt)\"><input type=text id=fwr placeholder=\"Regex WL (e.g. \\.js$)\"><label class=cb-l title=\"Overrides size and depth limits\"><input type=checkbox id=fh> harder <span>(overrides depth/size)</span></label></div>\n<div class=\"g mt\"><input type=text id=fb placeholder=\"Blacklist (e.g. node_modules/, .md)\"><input type=text id=fbr placeholder=\"Regex BL (e.g. .*old\\.html$)\"><label class=cb-l title=\"Skip binary detection (use if buggy)\"><input type=checkbox id=fn> filter nothing</label></div>\n<div class=ib-w><button id=af class=b2>Apply Filters to Tree (Prune)</button><label style=background:#3a3a3a title=\"Keep folder structures & sizes intact; only remove files.\"><input type=checkbox id=fo> files only</label></div>\n<div class=ib-w style=margin-bottom:.75rem;margin-top:1.25rem><button id=pb>5. Fetch Content</button><label style=background:var(--ah) title=\"Batch limit to prevent rate limits or browser freezing\"><input type=checkbox id=fbc checked> batch limit: <input type=number id=fbi value=100 min=1 class=ib-i></label></div>\n<div id=st>Status: Waiting...</div><label for=jo>6. Final Output</label><textarea id=jo readonly placeholder=\"Result...\"></textarea><div id=sd></div><label for=fi>7. Filename</label><input type=text id=fi placeholder=untitled.txt><button id=db disabled>Download File</button></main>\n<script>\nconst D=document,J=JSON,$=new Proxy({},{get:(_,id)=>D.getElementById(id)}),S=(m,c='var(--t2)')=>{$.st.textContent=m;$.st.style.color=c},GS=(v,u)=>{let n=parseFloat(v);return(isNaN(n)||n<=0)?Infinity:n*({KB:1024,MB:1048576,GB:1073741824}[u]||Infinity)};\nconst upd=()=>{let u=$.un.value.trim(),r=$.rn.value.trim();if(u&&r)$.fi.placeholder=`${new Date().toISOString().slice(0,10).replace(/-/g,'')}_${$.ps.value}_${u}_${r}_${$.br.value.trim()||'main'}_json.txt`};\n[$.ps,$.un,$.rn,$.br].forEach(i=>i.addEventListener('input',upd));\nconst PU=(f=0)=>{let u=$.ur.value.trim(),e=!$.un.value.trim()&&!$.rn.value.trim(),m;try{let l=new URL(u.startsWith('http')?u:'https://'+u),h=l.hostname,p=l.pathname.split('/').filter(Boolean);if(h.endsWith('.github.io'))m={p:'github',u:h.split('.')[0],r:p[0],b:'main'};if(h=='github.com'||h=='gitlab.com')m={p:h.split('.')[0],u:p[0],r:p[1].replace(/\\.git$/,''),b:/tree|blob/.test(p[2])?p[3]:(p[2]=='-'?p[4]||'main':'main')}}catch(e){}if(m&&(f||e)){$.ps.value=m.p;$.un.value=m.u;$.rn.value=m.r;$.br.value=m.b;S('URL Parsed','var(--ok)');upd()}};\nlet ur_t;$.ur.onpaste=()=>setTimeout(()=>PU(1),10);$.ur.onchange=()=>PU(1);$.ur.oninput=()=>{if(!$.un.value.trim()&&!$.rn.value.trim()){clearTimeout(ur_t);ur_t=setTimeout(PU,300)}};\nconst GU=()=>{let u=$.un.value.trim(),r=$.rn.value.trim(),b=$.br.value.trim()||'main',g=$.ps.value=='github';if(!u||!r)throw new Error('Missing User/Repo');return g?{b:`https://raw.githubusercontent.com/${u}/${r}/${b}/`,a:`https://api.github.com/repos/${u}/${r}/git/trees/${b}?recursive=1`}:{b:`https://gitlab.com/${u}/${r}/-/raw/${b}/`,a:0}};\nconst L=(u,d,k)=>{if(!u)return;let l=$[d];l.innerHTML='';S('Fetching...');fetch(u).then(r=>r.json()).then(j=>{if(j.map){l.innerHTML=j.map(x=>`<option value=\"${x[k]}\">`).join('');S('List populated.','var(--ok)')}else S('No data.')}).catch(e=>S(e.message,'var(--err)'))};\n$.btn_r.onclick=()=>$.un.value.trim()&&(L($.ps.value=='github'?`https://api.github.com/users/${$.un.value}/repos?per_page=100`:`https://gitlab.com/api/v4/users/${$.un.value}/projects`,'dl_r','name'),$.rn.focus());\n$.btn_b.onclick=()=>$.un.value.trim()&&$.rn.value.trim()&&(L($.ps.value=='github'?`https://api.github.com/repos/${$.un.value}/${$.rn.value}/branches?per_page=100`:`https://gitlab.com/api/v4/projects/${$.un.value}%2F${$.rn.value}/repository/branches`,'dl_b','name'),$.br.focus());\nconst CS=(n,kf=0)=>{let o=+(n.size||0)||+(n._s||0),s=n.type=='file'?n._s||o:(n.children||[]).reduce((a,c)=>a+CS(c,kf),0);if(kf&&n.type=='folder'&&o>0)s=o;let{path:p,content:c,children:h}=n;Object.keys(n).forEach(k=>delete n[k]);n.name=p?p.split('/').pop():'';n.type=c||h||n._s||o?'file':'folder';if(h)n.type='folder';n.size=s.toLocaleString()+\" bytes\";if(p)n.path=p;if(c)n.content=c;if(h)n.children=h;return s};\nconst cL=(r,e)=>{if(r.status==403||r.status==429){let t=r.headers.get('x-ratelimit-reset');return t?`${e} (Resets ~${Math.max(0,Math.ceil((t*1e3-Date.now())/6e4))}m)`:e}return r.status==404?'Not Found (404)':`${e} (${r.status})`};\n$.cr.onclick=async()=>{if($.ps.value!='github')return S('GitHub only.');S('Checking...');try{let r=await fetch('https://api.github.com/rate_limit');if(!r.ok)throw new Error(cL(r,'API Err'));let c=(await r.json()).resources.core;S(`${c.remaining}/${c.limit} left. Resets in ${Math.max(0,Math.ceil((c.reset*1e3-Date.now())/6e4))}m.`,'var(--ok)')}catch(e){S(e.message,'var(--err)')}};\n$.gt.onclick=async()=>{if(!$.un.value.trim()||!$.rn.value.trim())PU(1);S('Generating...');$.gt.disabled=1;$.ji.value='';try{let{a}=GU();if(!a)throw new Error('GitLab Tree API not supported.');let r=await fetch(a);if(!r.ok)throw new Error(cL(r,'Fetch Fail'));let d=await r.json(),t=[];d.tree.forEach(f=>{f.path.split('/').reduce((a,p,i,z)=>{let n=a.find(x=>x.name==p);if(!n){let k=(i==z.length-1&&f.type=='blob')?'file':'folder';n={name:p,type:k,path:z.slice(0,i+1).join('/')};if(k=='file')n._s=f.size||0;else n.children=[];a.push(n)}return n.children||a},t)});t.forEach(n=>CS(n));$.ji.value=J.stringify(t,0,2);S(`Generated ${d.tree.length} items.`,'var(--ok)')}catch(e){S(e.message,'var(--err)')}finally{$.gt.disabled=0}};\nconst AF=(tr,dp,kf)=>{let W=$.fw.value.split(',').map(x=>x.trim()).filter(Boolean),B=$.fb.value.split(',').map(x=>x.trim()).filter(Boolean),WR=$.fwr.value?new RegExp($.fwr.value):0,BR=$.fbr.value?new RegExp($.fbr.value):0,hr=$.fh.checked,y=$.fn.checked,md=parseInt($.fd.value),mx=GS($.sl.value,$.su.value);md=isNaN(md)?-1:md;let M=(p,a)=>a.some(r=>r.endsWith('/')?p.startsWith(r)||p.includes('/'+r):p==r||p.endsWith('/'+r)),F=[];let sc=n=>{for(let i=n.length;i--;){let x=n[i];if(x.type=='file'){let iw=(W.length&&M(x.path,W))||(WR&&WR.test(x.path)),ib=(B.length&&M(x.path,B))||(BR&&BR.test(x.path)),td=md!=-1&&x.path.split('/').length>md,rj=0,rs=\"\";if(!y){if(ib)rj=1,rs=\"REDACTED\";else if(td)rj=1,rs=\"Depth limit\";else if((W.length||WR)&&!iw)rj=1,rs=\"Not in Whitelist\";if(hr&&iw)rj=0,rs=\"\";let sz=+(x.size||x._s||0).toString().replace(/\\D/g,'');if(!rj&&sz>mx&&!(hr&&iw))rj=1,rs=`Size > ${mx}`}if(rj)dp?n.splice(i,1):(x.content=rs==\"REDACTED\"?rs:`NOTE: Excluded (${rs})`);else F.push({n:x,h:hr&&iw})}else if(x.children){sc(x.children);if(dp&&!kf&&!x.children.length)n.splice(i,1)}}};sc(tr);return F.reverse()};\n$.af.onclick=()=>{if(!$.ji.value)return S('Empty.','var(--err)');try{let t=J.parse($.ji.value),k=$.fo.checked;AF(t,1,k);t.forEach(n=>CS(n,k));$.ji.value=J.stringify(t,0,2);S('Pruned.','var(--ok)')}catch(e){S(e.message,'var(--err)')}};\n$.pb.onclick=async()=>{S('Starting...');$.pb.disabled=$.db.disabled=1;$.jo.value=$.sd.innerHTML='';try{let{b}=GU(),y=$.fn.checked,t=J.parse($.ji.value),fs=AF(t,0,0);if(!fs.length&&!y)throw new Error('No files.');S(`Found ${fs.length} files...`);let bs=$.fbc.checked?+($.fbi.value)||100:fs.length;if(bs<1)bs=1;for(let i=0;i<fs.length;i+=bs){await Promise.all(fs.slice(i,i+bs).map(async(x,j)=>{let I=i+j,N=x.n,u=b+N.path,lg=m=>S(`[${I+1}/${fs.length}] ${m}: ${N.path}`);try{lg('DL');let r=await fetch(u);if(!r.ok)throw new Error(cL(r,'RL/Auth'));let B=await r.arrayBuffer();N._s=B.byteLength;N.content=(!y&&new Uint8Array(B,0,Math.min(B.byteLength,8e3)).some(v=>!v))?\"NOTE: Excluded (Binary)\":new TextDecoder().decode(B);lg('Done')}catch(e){N.content=`ERR: ${e.message}`;lg('Fail')}}))}t.forEach(n=>CS(n));S(`Fetched ${fs.length} files.`,'var(--ok)');let o=J.stringify(t,0,2);$.jo.value=o;$.sd.innerHTML=`<strong>Size:</strong> ${o.length.toLocaleString()} chars`;$.db.disabled=0;if(!$.fi.placeholder||$.fi.placeholder=='untitled.txt')upd()}catch(e){S(e.message,'var(--err)')}finally{$.pb.disabled=0}};\n$.db.onclick=()=>{if(!$.jo.value)return;let a=D.createElement(\"a\");a.href=URL.createObjectURL(new Blob([$.jo.value]));a.download=$.fi.value.trim()||$.fi.placeholder||'untitled.txt';D.body.append(a);a.click();a.remove()};\n['ji','jo'].forEach(i=>{let t=$[i],w=D.createElement('div'),b=D.createElement('div');t.replaceWith(w);w.className='wp';w.append(t,b);b.className='tb';b.innerHTML='<span title=Lock>🔒</span><span title=Full>⛶</span><span title=Copy>📋</span>';let[l,f,c]=b.children;l.onclick=()=>l.innerText=t.classList.toggle('au')?'🔓':'🔒';f.onclick=e=>{e.stopPropagation();w.classList.toggle('fs')};c.onclick=()=>{navigator.clipboard.writeText(t.value);c.innerText='✅';setTimeout(()=>c.innerText='📋',600)}});D.onclick=e=>!e.target.closest('.fs')&&D.querySelector('.fs')?.classList.remove('fs');upd();\n</script></body></html>\n"
  },
  {
    "name": "scratchpad",
    "type": "folder",
    "size": "101,562 bytes",
    "path": "scratchpad",
    "children": [
      {
        "name": "1.js",
        "type": "file",
        "size": "4,438 bytes",
        "path": "scratchpad/1.js",
        "content": "var configuration={dataset_text:\"emma\\nolivia\\nava\\nisabella\\nsophia\\ncharlotte\\nmia\\namelia\\nharper\\nevelyn\\nabigail\\nemily\\nella\\nelizabeth\\ncamila\\nluna\\nsofia\\navery\\nmila\\naria\",embedding_dim:16,num_heads:4,num_layers:1,block_size:8,max_steps:500,learning_rate:1e-2,temperature:0.5,linearly_separated_step_samples:10,logarithmically_separated_step_samples:10,output_head_of_all_steps:10,output_tail_of_all_steps:5,print_me_after_run_loss_graph_array:[]};((C)=>{let G=C.print_me_after_run_loss_graph_array;G.push([]);let LH=G[G.length-1];let LG=new Set();for(let i=0;i<C.output_head_of_all_steps;i++)LG.add(i);for(let i=0;i<C.output_tail_of_all_steps;i++)LG.add(C.max_steps-1-i);for(let i=0;i<C.linearly_separated_step_samples;i++)LG.add(Math.floor(i*C.max_steps/C.linearly_separated_step_samples));for(let i=0;i<C.logarithmically_separated_step_samples;i++)LG.add(Math.floor(Math.pow(C.max_steps,i/(C.logarithmically_separated_step_samples-1)))-1);let RN=()=>Math.sqrt(-2*Math.log(Math.random()))*Math.cos(2*Math.PI*Math.random()),docs=C.dataset_text.trim().split('\\n').map(x=>x.trim()).filter(x=>x);for(let i=docs.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[docs[i],docs[j]]=[docs[j],docs[i]]}console.log(`num docs: ${docs.length}`);let U=[...new Set(docs.join(''))].sort(),ST=c=>U.indexOf(c),IT=i=>U[i],VS=U.length+1,BOS=VS-1;console.log(`vocab size: ${VS}`);let V=(d,c=[])=>{let n={d,g:0,c,op:()=>{},mt:0,vt:0};n.a=o=>{o=o.d!=null?o:V(o);let r=V(n.d+o.d,[n,o]);r.op=()=>{n.g+=r.g;o.g+=r.g};return r};n.m=o=>{o=o.d!=null?o:V(o);let r=V(n.d*o.d,[n,o]);r.op=()=>{n.g+=o.d*r.g;o.g+=n.d*r.g};return r};n.p=e=>{let r=V(n.d**e,[n]);r.op=()=>{n.g+=e*n.d**(e-1)*r.g};return r};n.l=()=>{let r=V(Math.log(n.d),[n]);r.op=()=>{n.g+=r.g/n.d};return r};n.e=()=>{let r=V(Math.exp(n.d),[n]);r.op=()=>{n.g+=r.d*r.g};return r};n.r=()=>{let r=V(n.d<0?0:n.d,[n]);r.op=()=>{n.g+=(n.d>0)*r.g};return r};return n},P=[],M=(r,c,s=0.02)=>Array(r).fill().map(()=>Array(c).fill().map(()=>(P.push(v=V(s?RN()*s:0))&&v))),DT=(x,w)=>w.map(r=>r.reduce((a,b,i)=>a.a(b.m(x[i])),V(0))),RM=x=>x.map(v=>v.m(x.reduce((a,b)=>a.a(b.p(2)),V(0)).m(x.length**-1).a(1e-5).p(-.5))),SM=x=>{let m=x.reduce((a,b)=>a>b.d?a:b.d,-1e9),e=x.map(v=>v.a(-m).e()),s=e.reduce((a,b)=>a.a(b),V(0));return e.map(v=>v.m(s.p(-1)))},W={te:M(VS,C.embedding_dim),pe:M(C.block_size,C.embedding_dim),lm:M(VS,C.embedding_dim),l:[]};for(let i=0;i<C.num_layers;i++)W.l.push({q:M(C.embedding_dim,C.embedding_dim),k:M(C.embedding_dim,C.embedding_dim),v:M(C.embedding_dim,C.embedding_dim),o:M(C.embedding_dim,C.embedding_dim,0),f1:M(4*C.embedding_dim,C.embedding_dim),f2:M(C.embedding_dim,4*C.embedding_dim,0)});console.log(`num params: ${P.length}`);let GPT=(t,p,k,v)=>{let x=RM(W.te[t].map((z,i)=>z.a(W.pe[p][i])));for(let i=0;i<C.num_layers;i++){let L=W.l[i],r1=x;x=RM(x);let q=DT(x,L.q),K=DT(x,L.k),Val=DT(x,L.v),hd=C.embedding_dim/C.num_heads,att=[];k[i].push(K);v[i].push(Val);for(let h=0;h<C.num_heads;h++){let s=h*hd,sc=k[i].map(kp=>kp.slice(s,s+hd).reduce((a,b,j)=>a.a(b.m(q[s+j])),V(0)).m(hd**-.5));SM(sc).map((w,idx)=>v[i][idx].slice(s,s+hd).map((u,j)=>att[s+j]=(att[s+j]||V(0)).a(u.m(w))))}x=DT(att,L.o).map((u,j)=>u.a(r1[j]));r1=x;x=RM(x);x=DT(DT(x,L.f1).map(u=>u.r().p(2)),L.f2).map((u,j)=>u.a(r1[j]))}return DT(x,W.lm)};for(let s=0;s<C.max_steps;s++){let doc=docs[s%docs.length],tok=[BOS,...doc.split('').map(ST),BOS],n=Math.min(C.block_size,tok.length-1),ks=W.l.map(()=>[]),vs=W.l.map(()=>[]),loss=V(0);for(let i=0;i<n;i++)loss=loss.a(SM(GPT(tok[i],i,ks,vs))[tok[i+1]].l().m(-1));let avg=loss.m(1/n);LH.push(avg.d);let BK=n=>{let o=[],s=new Set(),f=x=>{if(!s.has(x)){s.add(x);(x.c||[]).map(f);o.push(x)}};f(n);n.g=1;o.reverse().map(x=>x.op())};P.map(p=>p.g=0);BK(avg);let lr=C.learning_rate*0.5*(1+Math.cos(Math.PI*s/C.max_steps));P.map(p=>{p.mt=.9*p.mt+.1*p.g;p.vt=.95*p.vt+.05*p.g**2;let mh=p.mt/(1-.9**(s+1)),vh=p.vt/(1-.95**(s+1));p.d-=lr*mh/(Math.sqrt(vh)+1e-8)});if(LG.has(s))console.log(`step ${String(s+1).padStart(4)} / ${String(C.max_steps).padStart(4)} | loss ${avg.d.toFixed(4)}`)}console.log(\"\\n--- inference ---\");for(let i=0;i<20;i++){let ks=W.l.map(()=>[]),vs=W.l.map(()=>[]),t=BOS,out=\"\";for(let j=0;j<C.block_size;j++){let lg=GPT(t,j,ks,vs).map(x=>x.m(1/C.temperature)),pr=SM(lg),r=Math.random(),acc=0;for(let z=0;z<VS;z++)if((acc+=pr[z].d)>=r){t=z;break}if(t==BOS)break;out+=IT(t)}console.log(`sample ${String(i+1).padStart(2)}: ${out}`)}})(configuration);\n"
      },
      {
        "name": "temp",
        "type": "folder",
        "size": "97,124 bytes",
        "path": "scratchpad/temp",
        "children": [
          {
            "name": "out",
            "type": "folder",
            "size": "97,124 bytes",
            "path": "scratchpad/temp/out",
            "children": [
              {
                "name": "html",
                "type": "folder",
                "size": "97,124 bytes",
                "path": "scratchpad/temp/out/html",
                "children": [
                  {
                    "name": "0079.html",
                    "type": "file",
                    "size": "54,082 bytes",
                    "path": "scratchpad/temp/out/html/0079.html",
                    "content": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><link rel=icon href=\"data:image/bmp;base64,Qk0dAAAAAAAAABoAAAAMAAAAAQABAAEAGAAAAP8A/wA=\"><script src=\"https://cdn.plot.ly/plotly-2.18.2.min.js\"></script></head><body>\n\n<script>\n log(1,2);\n/* BLOCK_1: beginning of creation of html&css data&function */\nlog(1,3);\nfunction htmlmaker_temporary(){log(2,1);!htmlmaker_temporary[-2]&&(log(2,2),document.head.appendChild(document.createElement('style')).innerHTML=htmlmaker_temporary[-1]=`body{background:#222;color:#eee;font-family:sans-serif;margin:0;padding:2px;}\n.container{margin:2px 0;display:flex;align-items:center;flex-wrap:wrap;}\nlabel{white-space:nowrap;}\n\n.container input:is([type=number],[type=text]){field-sizing:content;min-width:10px;max-width:100px;padding-right:6px;}@supports not(field-sizing:content){.container input:is([type=number],[type=text]){width:45px;}#nnParams{width:150px;}}\n.input-group{display:flex;align-items:center;margin-right:10px;margin-bottom:2px;}\n.input-group label{margin-right:2px;}\n.input-group input,.input-group select{margin-left:2px;}\n.checkbox-group{display:flex;align-items:center;margin-right:10px;margin-bottom:2px;}\n.checkbox-group input[type=\"checkbox\"]{margin-left:5px;margin-right:0;margin-top:0;margin-bottom:0;}\ninput:disabled{background-color:#555;color:#999;cursor:not-allowed;}\n.dynamic-textarea{background-color:#444;color:#eee;resize:vertical;overflow-y:auto;max-height:50vh;box-sizing:border-box;max-width:800px;}\ntextarea#importData{flex-grow:1;min-height:40px;}\ntextarea#readExprOutput{width:100%;min-height:24px;}\n\n#plot{width:100%;height:500px;margin-top:3px;margin-bottom:3px;}\ntable{border-collapse:collapse;width:100%;margin-top:10px;table-layout:fixed;}\nth,td{border:1px solid #555;padding:5px;text-align:left;overflow:hidden;white-space:nowrap;}\nth{background:#333;}\n#stats-table td:nth-child(2),#stats-table td:nth-child(3),#stats-table td:nth-child(4),#stats-table td:nth-child(5){text-align:right;padding-right:10px;}\n\n.ci{background:none;border:none;color:inherit;font:inherit;padding:0;width:50px;text-align:center;}\n.ci:focus{outline:none;background-color:#fff;color:#000;}\n.ci:disabled{background:#444;color:#888;cursor:not-allowed;}\n#r,#fc{margin-top:3px;}\n#fc table{margin-top:3px;}\n.move-controls{display:flex;align-items:center;gap:5px;margin-bottom:2px;}\n#targetFpsWarn{color:#f99;font-size:smaller;margin-left:1px;}\n.button-group{display:flex;flex-direction:column;gap:2px;margin-left:5px;}\n.button-group button{flex-basis:auto;padding:3px 6px;font-size:0.9em;}\n.io-controls button{padding:3px 6px;font-size:0.9em;margin-left:5px;}`,\n\n\n\n\n\nlog(2,3),document.body.innerHTML=htmlmaker_temporary[-2]=`<div class=\"container\"><div class=\"input-group\"><label for=\"T.0.0.5\">N:</label><input type=\"number\" id=\"T.0.0.5\"></div><div class=\"input-group\"><label for=\"T.0.0.6\">a:</label><input type=\"number\" id=\"T.0.0.6\"></div><div class=\"input-group\"><label for=\"T.0.0.7\">w:</label><input type=\"number\" id=\"T.0.0.7\"></div><div class=\"input-group\"><label for=\"T.0.0.8\">Rays:</label><input type=\"number\" id=\"T.0.0.8\"></div><div class=\"input-group\"><label for=\"T.0.0.13\">Ray Color:</label><input type=\"color\" id=\"T.0.0.13\"></div></div>\n\n<div class=\"container\"><div class=\"input-group\"><label for=\"d\">θ:</label><input type=\"number\" id=\"d\" step=\"any\"></div><div class=\"input-group\"><label for=\"xO\">X:</label><input type=\"number\" id=\"xO\" step=\"any\"></div><div class=\"input-group\"><label for=\"yO\">Y:</label><input type=\"number\" id=\"yO\" step=\"any\"></div></div>\n\n<div class=\"container\"><div class=\"input-group\"><label for=\"T.0.0.11\">Δθ:</label><input type=\"number\" id=\"T.0.0.11\" step=\"any\"></div><div class=\"input-group\"><label for=\"T.0.0.12\">ΔMove:</label><input type=\"number\" id=\"T.0.0.12\" min=\"0\" step=\"any\"></div><div class=\"move-controls\"><button id=\"applyMovementOnceBtn\">Apply Movement Once</button><button id=\"toggleAutoDriveBtn\">AI Driver: OFF</button><button id=\"toggleTesterBtn\">Tester: OFF</button><div class=\"checkbox-group\" style=\"margin-left: 5px;\"><label for=\"T.0.0.130\">Parallelization:</label><input type=\"checkbox\" id=\"T.0.0.130\"></div></div></div>\n\n<div class=\"container\"><div class=\"input-group\"><label for=\"T.0.0.9\">Loop Freq (CPS):</label><input type=\"number\" id=\"T.0.0.9\" min=\"1\"></div><div class=\"checkbox-group\"><label for=\"T.0.0.14\">Loop:</label><input type=\"checkbox\" id=\"T.0.0.14\"></div><div class=\"input-group\"><label for=\"T.0.0.10\">FPS<span id=\"targetFpsWarn\"></span>:</label><input type=\"number\" id=\"T.0.0.10\" min=\"1\"></div><button id=\"toggleMaxFpsBtn\">Max FPS: ON</button><div class=\"checkbox-group\"><label for=\"T.0.0.26\">Max=Move FPS:</label><input type=\"checkbox\" id=\"T.0.0.26\"></div><button id=\"accuracyModeBtn\">Accuracy: Per Frame</button></div>\n\n<div class=\"container\"><div class=\"input-group\"><label for=\"nnParams\">NN Parameters:</label><input type=\"text\" id=\"nnParams\" style=\"max-width:500px;\"/></div></div>\n\n<div class=\"container\"><label for=\"cI\">Active Car:</label><select id=\"cI\"></select><button id=\"addCarBtn\">Add Car</button><button id=\"resetBtn\">Reset Stats</button><button id=\"stopCycleBtn\">Revive Crashed Cars</button><button id=\"deathRayBtn\">Show Dead Rays: ON</button><button id=\"staticViewBtn\">Static View: OFF</button><button id=\"toggleFreezeSizesBtn\" style=\"margin-left:10px;padding:3px 6px;font-size:0.9em;\">Freeze Sizes: OFF</button></div>\n\n<div class=\"container\" style=\"align-items:flex-start;flex-wrap:wrap;\"><label for=\"importData\" style=\"margin-top:2px;margin-right:5px;white-space:nowrap;\">Import Data:</label><textarea id=\"importData\" class=\"dynamic-textarea\" rows=\"2\"></textarea><div class=\"button-group\" style=\"margin-left:5px;\"><button id=\"loadFromFileBtn\">Load File</button><button id=\"importBtn\">Apply Import</button></div></div>\n\n<div class=\"container\" style=\"align-items:flex-start;\"><div class=\"input-group\" style=\"flex-basis:200px;\"><label for=\"readExprInput\" style=\"margin-top:2px;\">Read State:</label><input type=\"text\" id=\"readExprInput\" placeholder=\"e.g., T, D, T[0][0][8]\" style=\"width:150px;\"></div><div class=\"io-controls\" style=\"margin-bottom:2px;display:flex;flex-wrap:wrap;align-items:center;\"><button id=\"readExprBtn\">Read</button><button id=\"copyReadOutputBtn\">Copy</button><button id=\"downloadReadOutputBtn\">Download .txt</button><button id=\"sendToImportAreaBtn\">To Import Area</button><button id=\"exportAllClipboardBtn\">Exp All (Clip)</button><button id=\"exportTTextareaBtn\">Exp T</button><button id=\"exportDTextareaBtn\">Exp D</button><button id=\"exportLogsTextareaBtn\">Exp Logs</button></div><div class=\"input-group\" style=\"margin-left:0;flex-grow:1;width:100%;\"><label for=\"readExprOutput\" style=\"margin-top:2px;\">Value:</label><textarea id=\"readExprOutput\" class=\"dynamic-textarea\" rows=\"1\"></textarea></div></div>\n\n<input type=\"file\" id=\"fileImporter\" accept=\".txt,.js,.json,text/plain\" style=\"display:none;\">\n\n\n\n\n\n<div id=\"plot\"></div>\n\n<div class=\"container\" style=\"justify-content: center; margin-bottom: 5px;\"><button id=\"toggleLeaderboardBtn\">Leaderboard: ON</button></div>\n\n<div id=\"leaderboard-table-container\" style=\"margin-bottom:10px; margin-top: 5px;\"></div>\n\n<div id=\"r\"></div>\n\n<div id=\"fc\"></div>`,log(2,4));log(2,5);}\nhtmlmaker_temporary();\nlog(1,4);\n/* BLOCK_1: ending of creation of html&css data&function */\n\n\n\n\n\n/* BLOCK_2: beginning of aliases, constants, and global state */\nlog(1,5);\nvar T=[],D=[],Ds=[],debuglogs,magicdata,tested=[[]],cachedRoadGeometry=null,cachedRoadTrace=null,LARGE_NUM_FOR_INFINITY=1e6;\nconst $=id=>document.getElementById(id),\nP=performance,M=Math,RAD=M.PI/180,COS=M.cos,SIN=M.sin,SQRT=M.sqrt,ABS=M.abs,MAX=M.max,MIN=M.min,FLOOR=M.floor,CARPROP_VALIDATORS={xO:x=>+x,yO:x=>+x,d:x=>+x%360},\nactivations={identity:x=>x,relu:x=>MAX(0,x),tanh:x=>M.tanh(x),sigmoid:x=>1/(1+M.exp(-x))},validActivationNames=Object.keys(activations),\ntraceCfgs={road:{type:\"scatter\",mode:\"lines\",line:{color:\"#aaa\",width:1.5},name:\"Road\",legendgroup:\"road\",showlegend:!0,hoverinfo:\"skip\"},ray:{type:\"scatter\",mode:\"lines\",line:{width:1},showlegend:!1,hoverinfo:\"skip\"},car:{type:\"scatter\",mode:\"markers\",marker:{size:8,symbol:\"circle\"},showlegend:!0,hoverinfo:\"name+x+y\"}};\nlog(1,6);\n/* BLOCK_2: ending of aliases, constants, and global state */\n\n\n\n\n\n/* BLOCK_3: beginning of logging and utilities */\nlog(1,7);\nfunction log(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs||!debuglogs[\"-1\"])&&(s=2,debuglogs=Array(1997).fill().map(()=>[]),debuglogs[\"-1\"]=[2],debuglogs[\"-2\"]=[],debuglogs[0]=[0],debuglogs[999]=[0],[63,5,...Array(98).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs[0][0]+=v,debuglogs[i+1]=[v,...Array(v).fill(0)],debuglogs[1001+i]=[0],debuglogs[999].push(0),s+=v,debuglogs[\"-1\"].push(s)}),debuglogs[998]=[0,1,...Array(debuglogs[0][0]).fill(1)],debuglogs[998][0]=debuglogs[998].filter(x=>!x).length-1,debuglogs[1000]=[0],log(1,1));if(debuglogs[998][1]&&(s=debuglogs[\"-1\"][f-1]+c-1,debuglogs[998][0]==0||debuglogs[998][s])){debuglogs[\"-2\"][s]||(debuglogs[\"-2\"][s]=f+'.'+c,debuglogs[0].push(s),(debuglogs[0].length>debuglogs[0][0]+3||debuglogs[1000].length>1003||debuglogs[1000+f].length>103)&&[[0,'Sequential',debuglogs[0][0]],[1000,'Recent',1000],[1000+f,`Function ${f}`,100]].forEach(([a,t,l])=>debuglogs[a].length>l+3&&alert(`${t} overflow: ${debuglogs[a].length}, limit: ${l+3}`)));debuglogs[f][c]++;debuglogs[999][f]=++debuglogs[1000+f][0];debuglogs[1000][0]=++debuglogs[999][0];debuglogs[1000][(debuglogs[1000][0]%1000)+1]=debuglogs[\"-2\"][s];debuglogs[1000+f][(debuglogs[1000+f][0]%100)+1]=c}};log(1,8);\n\nfunction resizeTextareaIfUnlocked(textareaElement){if(!T[0]?.[0]?.[102]){textareaElement.style.height=\"auto\";textareaElement.style.height=textareaElement.scrollHeight+\"px\"}};\nlog(1,9);\n/* BLOCK_3: ending of logging and utilities */\n\n\nlog(1,10);\n\n\n/* BLOCK_4: beginning of state import/export functions */\nlog(1,11);\nfunction exportAllToClipboard(){try{const tJson=JSON.stringify(T);const dJson=JSON.stringify(D);const logsJson=JSON.stringify(debuglogs);const exportString=`T=${tJson};D=${dJson};debuglogs=${logsJson};tested=${JSON.stringify(tested)};`;navigator.clipboard.writeText(exportString).then(()=>{alert(\"All state (T, D, debuglogs, tested) copied to clipboard.\")}).catch(err=>{console.error(\"Failed to copy state to clipboard:\",err);prompt(\"Cannot auto-copy. Please copy manually:\",exportString)});log(101,1)}catch(error){console.error(\"Export All to Clipboard failed:\",error);log(101,2);alert(`Export All Error: ${error}`)}\n};log(1,12);\n\nfunction exportToTextarea(dataType){const targetTextArea=$(\"readExprOutput\");let exportString=\"\";let dataToExport;let varName=\"\";try{switch(dataType){case\"T\":dataToExport=T;varName=\"T\";break;case\"D\":dataToExport=D;varName=\"D\";break;case\"debuglogs\":dataToExport=debuglogs;varName=\"debuglogs\";break;case\"tested\":dataToExport=tested;varName=\"tested\";break;default:alert(\"Unknown data type for export.\");return}\nexportString=`${varName}=${JSON.stringify(dataToExport,null,2)};`;targetTextArea.value=exportString;resizeTextareaIfUnlocked(targetTextArea);targetTextArea.focus();log(102,1);navigator.clipboard.writeText(exportString).then(()=>{console.log(`${dataType} data populated to 'Value' area and copied to clipboard.`)}).catch(err=>{console.warn(`Note: Could not auto-copy ${dataType} to clipboard. It is in the 'Value' area.`,err)})}catch(error){console.error(`Export ${dataType} to 'Value' area failed:`,error);targetTextArea.value=`Error exporting ${dataType}: ${error.message}`;log(102,2);alert(`Export ${dataType} Error: ${error}`)}\n};log(1,13);\n\nfunction importState(){const importString=$(\"importData\").value;if(!importString){alert(\"Import field is empty.\");return}\ntry{const assignments={};const regex=/\\b(T|D|debuglogs|tested|eval)\\s*=\\s*([\\s\\S]*);/g;let match;while((match=regex.exec(importString))!==null)assignments[match[1]]=match[2];const attempted_T=!!assignments[\"T\"],attempted_D=!!assignments[\"D\"],attempted_Logs=!!assignments[\"debuglogs\"],attempted_tested=!!assignments[\"tested\"],attempted_eval=!!assignments[\"eval\"];log(103,1);let T_parsed_data=null,D_parsed_data=null,Logs_parsed_data=null,tested_parsed_data=null;let T_successfully_parsed=!1,D_successfully_parsed=!1,Logs_successfully_parsed=!1,tested_successfully_parsed=!1;let num_rays_for_validation=T[0]?.[0]?.[8];if(attempted_T){T_parsed_data=JSON.parse(assignments[\"T\"]);if(!T_parsed_data||!T_parsed_data[0]?.[0]||typeof T_parsed_data[0][0][8]!==\"number\")throw new Error(\"Imported T structure invalid.\");num_rays_for_validation=T_parsed_data[0][0][8];T_successfully_parsed=!0;log(103,2)}\nif(attempted_D){D_parsed_data=JSON.parse(assignments[\"D\"]);if(!D_parsed_data[0]?.[0]?.inputSize||!Array.isArray(D_parsed_data[1]))throw new Error(\"Imported D structure invalid (missing inputSize or weights array).\");if(num_rays_for_validation===undefined)throw new Error(\"Cannot validate D: Number of rays (from current or imported T) is unavailable.\");const expectedInputSize=num_rays_for_validation+10;if(D_parsed_data[0][0].inputSize!==expectedInputSize)throw new Error(`D input size (${D_parsed_data[0][0].inputSize}) mismatch with T rays (${num_rays_for_validation}). Expected ${expectedInputSize}.`);D_successfully_parsed=!0;log(103,3)}\nif(attempted_Logs){Logs_parsed_data=JSON.parse(assignments[\"debuglogs\"]);if(Logs_parsed_data&&!Array.isArray(Logs_parsed_data[0]))throw new Error(\"Imported debuglogs structure invalid (expected array at index 0).\");Logs_successfully_parsed=!0;log(103,4)}\nif(attempted_tested){tested_parsed_data=JSON.parse(assignments[\"tested\"]);if(!tested_parsed_data||!Array.isArray(tested_parsed_data[0])||!Array.isArray(tested_parsed_data[0][0]))throw new Error(\"Imported tested structure invalid (expected tested[0][0] to be an array).\");tested_successfully_parsed=!0;log(103,5)}\nif(!T_successfully_parsed&&!D_successfully_parsed&&!Logs_successfully_parsed&&!tested_successfully_parsed&&!attempted_eval){alert(\"No valid T, D, debuglogs, or tested data parsed, and no eval code found in import string.\");log(103,6);return}\nif(T_successfully_parsed)T=T_parsed_data;if(D_successfully_parsed)D=D_parsed_data;if(Logs_successfully_parsed)debuglogs=Logs_parsed_data?Logs_parsed_data:[[]];if(tested_successfully_parsed)tested=tested_parsed_data;let requiresRedraw=!1,requiresTableRebuild=!1;if(T_successfully_parsed){const nnParamString=T[0][0][100]??\"20,10,10,2\";$(\"nnParams\").value=nnParamString;if(!setupNNFromParams(nnParamString))log(103,7);[5,6,7,8,9,10,11,12,13,14,26].forEach(idx=>{const el=$(`T.0.0.${idx}`),val=T[0][0][idx];if(el&&val!==undefined&&val!==null){el.type===\"checkbox\"?el.checked=!!val:el.value=val}});cachedRoadGeometry=null;cachedRoadTrace=null;for(val of[27,34,52,67,74])for(j=0;j<7;j++)T[0][0][val+j]=0;T[0][0][18]=0;T[0][0][59]=P.now();T[0][0][86]=0;requiresRedraw=!0;requiresTableRebuild=!0;T[0][0][89]=1}else if(D_successfully_parsed){resizeCarRayData(T[0][0][8]);log(103,8);requiresRedraw=!0;requiresTableRebuild=!0}\nif(tested_successfully_parsed)T[0][0][114]=1;if(attempted_eval){const masterSwitchSourceT=T_successfully_parsed?T_parsed_data:T;if(masterSwitchSourceT[0]?.[0]?.[101]){log(103,9);alert(\"Warning: Master switch is set to KILL. The 'eval=' part of the import was skipped.\")}else{try{eval(assignments[\"eval\"]);log(103,10);requiresRedraw=!0;requiresTableRebuild=!0}catch(e){log(103,11);console.error(\"Error during eval execution:\",e);throw new Error(`Eval execution failed: ${e.message}`)}}}\nif(T_successfully_parsed||D_successfully_parsed||Logs_successfully_parsed||tested_successfully_parsed||attempted_eval){updateCarSelect();updateUIInputs();updateButtonStates();if(requiresRedraw)T[0][0][88]=1;if(requiresTableRebuild)T[0][0][89]=1;RRIF();alert(\"Import operation completed. Check console for details if errors occurred.\")}\nlog(103,12)}catch(error){console.error(\"Import failed:\",error);log(103,13);alert(`Import Error: ${error.message||error}`)}\n};log(1,14);\n\nfunction readExpression(){const exprRaw=$(\"readExprInput\").value.trim();const outputField=$(\"readExprOutput\");outputField.value=\"\";if(!exprRaw){outputField.value=\"[Empty Expression]\";return}const expr=exprRaw.toUpperCase();try{let currentValue;if(expr===\"T\"){currentValue=T}else if(expr===\"D\"){currentValue=D}else if(expr===\"DEBUGLOGS\"){currentValue=debuglogs}else if(expr===\"TESTED\"){currentValue=tested}else{const match=exprRaw.match(/^([TD]|DEBUGLOGS|TESTED)(\\[.+\\])$/i);if(!match){outputField.value=\"[Invalid Format: Use T, D, debuglogs, tested, or Var[...]]\";return}const baseVarName=match[1];const indicesStr=match[2];const indexMatches=indicesStr.match(/\\[([\\w.]+)\\]/g);if(!indexMatches){outputField.value=\"[Invalid Format: Cannot parse indices]\";return}const indices=indexMatches.map(idxStr=>{const content=idxStr.substring(1,idxStr.length-1);const num=Number(content);return isNaN(num)?content:num});switch(baseVarName.toUpperCase()){case\"T\":currentValue=T;break;case\"D\":currentValue=D;break;case\"DEBUGLOGS\":currentValue=debuglogs;break;case\"TESTED\":currentValue=tested;break;default:throw new Error(`Unknown base variable ${baseVarName}`)}for(const index of indices){if(currentValue===undefined||currentValue===null){throw new Error(`Cannot read index [${index}] from undefined/null`)}if(typeof index===\"number\"&&index<0){throw new Error(`Negative index [${index}] not allowed`)}if(currentValue[index]===undefined){throw new Error(`Index [${index}] is out of bounds or key does not exist.`)}currentValue=currentValue[index]}}\nif(typeof currentValue===\"object\"&&currentValue!==null){outputField.value=JSON.stringify(currentValue,null,2)}else if(currentValue===undefined){outputField.value=\"[undefined]\"}else if(currentValue===null){outputField.value=\"[null]\"}else{outputField.value=String(currentValue)}resizeTextareaIfUnlocked(outputField)}catch(error){outputField.value=`[Error: ${error.message||error}]`;console.error(\"Read Expression Error:\",error);log(104,1)}};\nlog(1,15);\n/* BLOCK_4: ending of state import/export functions */\n\n\n\n\n\n/* BLOCK_5: beginning of initialization and entity creation */\nlog(1,16);\nfunction RRIF(){if(T[0][0][87]||T[0][0][88])requestAnimationFrame(renderFrame)};log(1,17);\n\nfunction initT(nR,isG=!1){let cE=[];const requiredLength=150;if(isG){cE[0]=Array(requiredLength).fill(0);Object.assign(cE[0],{0:0,1:0,2:0,3:0,4:\"#888\",5:10,6:10,7:5,9:100,10:30,11:1,12:0,13:\"#00ffff\",14:0,15:1,16:1,17:null,18:0,19:1,20:0,21:null,22:null,23:1,24:null,25:null,26:1,41:\"roadGen\",42:\"intersect\",43:\"castRays\",44:\"renderFrame\",45:\"move\",46:\"aiDriverCompute\",47:\"input\",48:0,49:2,50:3,51:4,60:100,61:\"xO\",62:\"yO\",63:\"d\",64:0,65:1,66:2,82:1,83:1,84:1,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,96:0,97:0,98:0,99:0,100:\"20,10,10,2\",101:0,102:0,103:0,104:500,105:0,106:0,107:0,110:3,113:1,114:0,115:10,116:0,117:0,118:0,119:0,129:0,130:0});cE[0][8]=nR}else{cE[0]=[0,0,0,1,\"#fff\",...Array(requiredLength-5).fill(null)];while(cE[0].length<requiredLength)cE[0].push(0)}const dRC=T[0]?.[0]?.[13]??\"#00ffff\",pClr=isG?\"#f008\":\"#f00\";for(let r=1;r<=nR;r++){cE[r]=[null,null,Infinity,0,r===1?pClr:dRC]}return cE};log(1,18);\n\nT.push(initT(10,!0));\nT.push(initT(T[0][0][8],!1));\ntested=[[]];\ntested[0][0]=Array((T[0]?.[0]?.[115]||10)+1).fill(0);\nT[0][0][114]=1;\nT[0][0][59]=P.now();\nfor(let i=0;i<7;i++)T[0][0][52+i]=T[0][0][27+i];\nT[0][0][84]=P.now();\nT[0][0][85]=P.now();\nT[0][0][86]=0;log(1,19);\n\nfunction createCar(srcIdx=0){if(!T[srcIdx])return null;const nCD=JSON.parse(JSON.stringify(T[srcIdx]));const nR=T[srcIdx].length-1;const dRC=T[0][0][13];Object.assign(nCD[0],{0:0,1:0,2:0,3:1,4:'#fff',22:null,91:0,92:0});for(let r=1;r<=nR;r++){if(!nCD[r])nCD[r]=[];Object.assign(nCD[r],{0:null,1:null,2:Infinity,3:0,4:r===1?'#f00':(T[0][r]?.['4']||dRC)})}nCD.length=1+nR;T.push(nCD);T[0][0][88]=1;T[0][0][89]=1;return T.length-1};\nlog(1,20);\n/* BLOCK_5: ending of initialization and entity creation */\n\n\n\n\n/* BLOCK_6: beginning of physics and raycasting */\nlog(1,21);\nfunction generateAndCacheRoad(){const t0=P.now(),N=T[0][0][5],a=T[0][0][6],w=T[0][0][7];const pointCount=2*N+10,segs=new Array(pointCount-1),xC=new Array(pointCount),yC=new Array(pointCount);let i=0;for(let j=0;j<=N+1;j++){let bx,by;if(j===0)bx=0,by=0;else if(j===N+1)bx=2*N*a,by=0;else bx=(2*(j-1)+1)*a,by=a*(-1)**(j-1);xC[i]=bx;yC[i++]=by+w}xC[i]=2*N*a+w;yC[i++]=w;xC[i]=2*N*a+w;yC[i++]=-w;xC[i]=2*N*a;yC[i++]=-w;for(let j=N+1;j>=0;j--){let bx,by;if(j===0)bx=0,by=0;else if(j===N+1)bx=2*N*a,by=0;else bx=(2*(j-1)+1)*a,by=a*(-1)**(j-1);xC[i]=bx;yC[i++]=by-w}xC[i]=-w;yC[i++]=-w;xC[i]=-w;yC[i++]=w;xC[i]=0;yC[i++]=w;for(let j=0;j<pointCount-1;j++)segs[j]=[xC[j],yC[j],xC[j+1],yC[j+1]];LARGE_NUM_FOR_INFINITY=4*((N+1)*a+w);cachedRoadGeometry={segments:segs,x:xC,y:yC};cachedRoadTrace=null;if(castRays.ls)castRays.ls={};T[0][0][87]=1;T[0][0][27]++;T[0][0][34]+=P.now()-t0};log(1,22);\n\nfunction intersect(l,m){T[0][0][28]++;const p=castRays.ip;p.x1=l[0];p.y1=l[1];p.x2=l[2];p.y2=l[3];p.x3=m[0];p.y3=m[1];p.x4=m[2];p.y4=m[3];p.d=(p.x1-p.x2)*(p.y3-p.y4)-(p.y1-p.y2)*(p.x3-p.x4);if(ABS(p.d)<1e-6)return null;p.t=((p.x1-p.x3)*(p.y3-p.y4)-(p.y1-p.y3)*(p.x3-p.x4))/p.d;p.u=-((p.x1-p.x2)*(p.y1-p.y3)-(p.y1-p.y2)*(p.x1-p.x3))/p.d;if(p.t>0&&p.t<=1&&p.u>=0&&p.u<=1)return[p.x1+p.t*(p.x2-p.x1),p.y1+p.t*(p.y2-p.y1)];return null};log(1,23);\n\nfunction findClosestHit(rL,s,cx,cy){let mD=Infinity,h=null;if(!s)return{hit:null,distSq:Infinity};const t0=P.now();for(const seg of s){const hit=intersect(rL,seg);if(hit){const dx=hit[0]-cx,dy=hit[1]-cy,dS=dx*dx+dy*dy;if(dS<mD){mD=dS;h=hit}}}T[0][0][35]+=P.now()-t0;return{hit:h,distSq:mD}};log(1,24);\n\nfunction castRays(){const a=T[0][0][6],w=T[0][0][7];if(!castRays.ip){castRays.ip={x1:0,y1:0,x2:0,y2:0,x3:0,y3:0,x4:0,y4:0,d:0,t:0,u:0};castRays.rp={cx:0,cy:0,ca:0};castRays.ls={};castRays.q={p:(a+w)/1000||.01,a:1/1000}}if(T[0]?.[0]?.[96])return;const t0=P.now();if(!cachedRoadGeometry)generateAndCacheRoad();if(!cachedRoadGeometry)return;const s=cachedRoadGeometry.segments,sD=T[0][0][16];const ml=MAX(1,2*(T[0][0][5]*a+w));let rCh=!1;const{rp,ls,q}=castRays;for(let c=1;c<T.length;c++){const C=T[c];if(!C||(C[0][3]!==1&&!sD))continue;[rp.cx,rp.cy,rp.ca]=C[0];const qx=FLOOR(rp.cx/q.p),qy=FLOOR(rp.cy/q.p),qa=FLOOR(rp.ca/q.a);if(ls[c]&&ls[c].qx===qx&&ls[c].qy===qy&&ls[c].qa===qa)continue;const nR=C.length-1;if(nR<=0)continue;const aS=360/nR;for(let r=1;r<=nR;r++){const R=C[r];const rA=(r-1)*aS;let aA=(rp.ca+rA)%360;aA<0&&(aA+=360);const aR=aA*RAD;rp.dx=ml*COS(aR);rp.dy=ml*SIN(aR);const rL=[rp.cx,rp.cy,rp.cx+rp.dx,rp.cy+rp.dy];const{hit:h,distSq:dS}=findClosestHit(rL,s,rp.cx,rp.cy);let nX=null,nY=null,nD=Infinity;if(h){nD=SQRT(dS);[nX,nY]=h}R[0]=nX;R[1]=nY;R[2]=nD;R[3]=aA}ls[c]={qx:qx,qy:qy,qa:qa};rCh=!0}rCh&&(T[0][0][88]=1);log(105,1);T[0][0][29]++;T[0][0][36]+=P.now()-t0};\nlog(1,25);\n/* BLOCK_6: ending of physics and raycasting */\n\n\n\n\n/* BLOCK_7: beginning of AI core logic */\nlog(1,26);\nconst mm=(...a)=>a[1]?a.slice(1).reduce(mm.classic,a[0]):!a[0]?.map?(...b)=>b.slice(1).reduce([,,mm.bias,mm.pass][a[0]]||mm.classic,b[0]):a[0];\nmm.classic=(A,B,u=!A.map,v=!B[0]?.map??!B.map)=>{u?A=[[A]]:!A[0]?.map&&(A=[A]);v&&(B=B.map?B.map(z=>[z]):[B]);let I=A.length,J=B[0]?.length||0,K=A[0].length,r=new Array(I);for(let i=0;i<I;i++){r[i]=new Array(J);for(let j=0;j<J;j++){let s=0;for(let k=0;k<K;k++)s+=A[i][k]*B[k][j];r[i][j]=s}}return u&v?r[0][0]:v?r.flat():r};\nmm.bias=(A,B)=>{let I=A.length,K=A[0].length,r=new Array(I);for(let i=0;i<I;i++){let s=A[i][0]||0;for(let k=1;k<K;k++)s+=A[i][k]*(B[k-1]||0);r[i]=s}return r};\nmm.pass=(A,B)=>{let I=A.length,K=A[0].length,r=new Array(I+1);r[0]=B[0];for(let i=0;i<I;i++){let s=0;for(let k=0;k<K;k++)s+=A[i][k]*(B[k]||0);r[i+1]=s}return r};log(1,27);\n\nfunction aa(vov,nS){const fn=activations[nS]||activations.identity;if(Array.isArray(vov)){if(!vov[0]?.[0]){for(let i=T[0]?.[0]?.[110]===3,e=vov.length;i<e;i++)vov[i]=fn(vov[i]);return vov}return vov.map(r=>r.map(fn))}return fn(vov)};log(1,28);\n\nfunction ff(inputVector,arg){const cI=+arg>=0?+arg:T[0][0][130]&&T[0][0][129]||0;ff.t=ff.t||[];var t0=ff.t;t0[0]=P.now();if(T[0]?.[0]?.[98]){log(106,1);t0[1]=P.now();T[0][0][39]+=t0[1]-t0[0];if(T[cI]?.[0]){T[cI][0][11]=0;T[cI][0][12]=0}return}\nT[0][0][32]++;if(!D||!D[0]?.[0]?.numLayers||!inputVector){log(106,2);t0[1]=P.now();T[0][0][39]+=t0[1]-t0[0];if(T[cI]?.[0]){T[cI][0][11]=0;T[cI][0][12]=0}return}\nconst config=D[0][0];const numLayers=config.numLayers;if(config.inputSize!==inputVector.length){log(106,3);t0[1]=P.now();T[0][0][39]+=t0[1]-t0[0];if(T[cI]?.[0]){T[cI][0][11]=0;T[cI][0][12]=0}return}\nlet currentVector=inputVector;try{for(let layerIdx=1;layerIdx<=numLayers;layerIdx++){const weights=D[layerIdx];const activationFuncName=D[0]?.[layerIdx];if(!weights||!activationFuncName||!activations[activationFuncName]){log(106,4);throw new Error(`AI Driver definition incomplete for layer ${layerIdx}.`)}\ncurrentVector=mm(T[0]?.[0]?.[110] || 0)(weights,currentVector);currentVector=aa(currentVector,activationFuncName)}}catch(error){log(106,5);console.error(\"AI Compute (ff) Error:\",error);t0[1]=P.now();T[0][0][39]+=t0[1]-t0[0];if(T[cI]?.[0]){T[cI][0][11]=0;T[cI][0][12]=0}return}\nt0[1]=P.now();T[0][0][39]+=t0[1]-t0[0];\nconst output=currentVector.slice(i=T[0][0][110]===3,i+2).map(v=>v||0);if(T[cI]?.[0]){T[cI][0][11]=output[0];T[cI][0][12]=output[1]}\nlog(106,6)};log(1,29);\n\nfunction buildAIInputVector(arg){const cI=+arg>=0?+arg:T[0][0][130]&&T[0][0][129]||T[0][0][21]||1;const C=T[cI];if(!C||!C[0])return null;const S=C[0],nr=C.length-1,pad=S[91]??0,pmd=S[92]??0,x=S[0],y=S[1],ar=S[2]*RAD,sa=SIN(ar),ca=COS(ar),abr=(S[2]-pad)*RAD,vx=pmd*COS(abr),vy=pmd*SIN(abr);const fi=[1,pad,pmd,x,y,sa,ca,vx,vy,0],ri=[];for(let r=1;r<=nr;r++){let d=C[r]?.[2];ri.push(d==null||!Number.isFinite(d)?LARGE_NUM_FOR_INFINITY:d)}\nconst el=10+nr;if(fi.length+ri.length!==el)return Array(el).fill(0);return[...fi,...ri]};\nlog(1,30);\n/* BLOCK_7: ending of AI core logic */\n\n\n\n\n/* BLOCK_8: beginning of UI update and display logic */\nlog(1,31);\nfunction move(arg){const cI=+arg>=0?+arg:T[0][0][130]&&T[0][0][129]||T[0][0][21]||1;if(!T[cI])return;const t0=P.now(),cState=T[cI][0];let stateChanged=0;const angleDelta=T[cI][0][11]??0,moveDelta=T[cI][0][12]??0;if(angleDelta){cState[2]=(cState[2]+angleDelta+360)%360;stateChanged=1}if(cState[3]&&moveDelta){if(!cachedRoadGeometry)generateAndCacheRoad();const dx=moveDelta*COS(cState[2]*RAD),dy=moveDelta*SIN(cState[2]*RAD);const{hit,distSq:actualDistToCollisionSq}=findClosestHit([cState[0],cState[1],cState[0]+dx,cState[1]+dy],cachedRoadGeometry.segments,cState[0],cState[1]);if(hit){cState[3]=0;cState[22]=P.now();stateChanged=1;log(107,1)}else{cState[0]+=dx;cState[1]+=dy;stateChanged=1;log(107,2)}}if(stateChanged){T[0][0][88]=1;updateUIInputs();if(!cState[3])updateCarSelect()}T[0][0][31]++;T[0][0][38]+=P.now()-t0};log(1,32);\n\nfunction prepareRoadTraceData(){if(!cachedRoadGeometry)generateAndCacheRoad();return cachedRoadTrace??(cachedRoadGeometry?cachedRoadTrace={...traceCfgs.road,x:cachedRoadGeometry.x,y:cachedRoadGeometry.y}:null)};log(1,33);\n\nfunction prepareCarsAndRaysTraceData(){const t=[],s=T[0][0][16],d=T[0][0][13],n=P.now();for(let c=1;c<T.length;c++){const C=T[c];if(!C)continue;const[x,y,,ia,clr]=C[0];let cc=clr;if(!ia&&C[0][22]){const e=n-C[0][22],p=e%1e3;cc=p<333?\"#f00\":p<667?\"#0f0\":\"#00f\";T[0][0][88]=1}t.push({...traceCfgs.car,x:[x],y:[y],marker:{...traceCfgs.car.marker,color:cc},name:`Car ${c}${ia?\"\":\"(D)\"}`,legendgroup:`car${c}`});if(ia||s){const nr=C.length-1;for(let r=1;r<=nr;r++){const R=C[r];if(R&&R[0]!==null)t.push({...traceCfgs.ray,x:[x,R[0]],y:[y,R[1]],line:{color:R[4]??d,width:1},name:`C${c}R${r}`,legendgroup:`car${c}`})}}}return t};log(1,34);\n\nfunction renderFrame(){if(T[0]?.[0]?.[99]){return}const t0=P.now();if(!T[0][0][87]&&!T[0][0][88])return;const plotDiv=$(\"plot\");if(!plotDiv)return;let traces=[];const roadTrace=prepareRoadTraceData();if(roadTrace)traces.push(roadTrace);traces.push(...prepareCarsAndRaysTraceData());const ax={color:\"#eee\",gridcolor:\"#555\",zerolinecolor:\"#777\"},fnt={color:\"#aaa\"},layout={paper_bgcolor:\"#222\",plot_bgcolor:\"#333\",xaxis:{...ax,scaleanchor:\"y\",scaleratio:1,title:{text:\"X\",font:fnt}},yaxis:{...ax,title:{text:\"Y\",font:fnt}},title:{text:\"\",font:{color:\"#eee\"}},showlegend:!0,legend:{font:{color:\"#eee\"}},hovermode:\"closest\",margin:{l:35,r:10,b:30,t:10,pad:4}};if(T[0][0][23]&&T[0][0][24]&&T[0][0][25]){layout.xaxis.range=T[0][0][24];layout.yaxis.range=T[0][0][25]}else{if(plotDiv.layout&&!T[0][0][23]){T[0][0][24]=plotDiv.layout.xaxis.range;T[0][0][25]=plotDiv.layout.yaxis.range}};try{Plotly.react(plotDiv,traces,layout).then(()=>{T[0][0][87]=0;T[0][0][88]=0})}catch(e){!debuglogs[108][2]&&alert('Plotly still not downloaded as source, reload the page in few seconds unless road is generated. Error: '+e);log(108,2)};log(108,1);T[0][0][30]++;T[0][0][37]+=P.now()-t0};log(1,35);\n\nconst fmt=n=>Number.isFinite(n)?Number.isInteger(n)?n:n.toFixed(3).replace(/\\.?0+$/,\"\"):\"---\";log(1,36);\n\nfunction buildTableStructure(id,nc){const H=[\"Ray\",\"Dist\",\"Angle\",\"Color\",\"X Start\",\"X End\",\"Y Start\",\"Y End\"];$(id).innerHTML=Array.from({length:nc},(_,c_idx)=>{const c=c_idx+1,C=T[c],nr=C?C.length-1:0;return`<div id=\"car-${c}-info\"><h3>Car ${c}</h3><table id=\"car-${c}-table\"><thead><tr>${H.map(h=>`<th>${h}</th>`).join(\"\")}</tr></thead><tbody>${Array.from({length:nr},(_,r_idx)=>{const r=r_idx+1;return`<tr id=\"row-${c}-${r}\" data-car=\"${c}\" data-ray=\"${r}\"><td data-col=\"0\">${r}</td><td data-col=\"1\"></td><td data-col=\"2\"></td><td data-col=\"3\"><input type=\"text\" class=\"ci\" data-car=\"${c}\" data-ray=\"${r}\"></td><td data-col=\"4\"></td><td data-col=\"5\"></td><td data-col=\"6\"></td><td data-col=\"7\"></td></tr>`}).join('')}</tbody></table></div>`}).join('');document.querySelectorAll(\".ci\").forEach(i=>{i.onkeydown=e=>{if(e.key===\"Enter\"){e.preventDefault();i.blur()}};i.onblur=()=>handleColorInputBlur(i)});T[0][0][89]=0};log(1,37);\n\nfunction updateInfoDisplay(force=!1){const n=P.now(),iv=T[0][0][60];if(!force&&n-T[0][0][86]<iv){if(!T[0][0][90]){T[0][0][90]=1;setTimeout(()=>{T[0][0][90]=0;updateInfoDisplay(!0)},iv-(n-T[0][0][86]))}}else{T[0][0][86]=n;T[0][0][90]=0;const l=$(\"leaderboard-table-container\");if(l){if(T[0][0][113]){if(T[0][0][114]||force||!$(\"leaderboard-display-table\")){if(!tested[0])tested[0]=[];if(!tested[0][0])tested[0][0]=[0];while(tested[0][0].length<=(T[0][0][115]||10))tested[0][0].push(0);const th=s=>`<th style=\"border:1px solid #555;padding:3px 5px;text-align:center;background:#333;\">${s}</th>`,td=s=>`<td style=\"border:1px solid #555;padding:3px 5px;text-align:right;\">${s}</td>`,h=`<tr>${th(\"Slot:\")}${Array.from({length:T[0][0][115]||10},(_,i)=>th(i+1)).join(\"\")}</tr>`,sc=`<tr><td style=\"border:1px solid #555;padding:3px 5px;text-align:center;background:#333;\">Score:</td>${Array.from({length:T[0][0][115]||10},(_,i)=>td(fmt(tested[0][0][i+1]))).join(\"\")}</tr>`;l.innerHTML=`<h3>Leaderboard</h3><table id=\"leaderboard-display-table\" style=\"width:auto;margin:auto;border-collapse:collapse;\"><thead>${h}</thead><tbody>${sc}</tbody></table>`;if(T[0][0][114])T[0][0][114]=0}}else{if(l.innerHTML)l.innerHTML=\"\"}}\nconst dr=T[0][0][13],nc=T.length-1;if(T[0][0][89]||!$(\"car-1-info\")||nc!==document.querySelectorAll(\"[id^=car-][id$=-info]\").length)buildTableStructure(\"r\",nc);for(let c=1;c<=nc;c++){const C=T[c];if(!C)continue;const S=C[0],ia=S[3]===1,ci=$(`car-${c}-info`);if(ci)ci.querySelector(\"h3\").textContent=`Car ${c} ${ia?\"\":\"(D)\"}`;const tb=$(`car-${c}-table`)?.tBodies[0];if(!tb)continue;const nr=C.length-1;if(tb.rows.length!==nr){buildTableStructure(\"r\",nc);continue}\nfor(let r=1;r<=nr;r++){const R=C[r],rw=tb.rows[r-1];if(!rw||!R)continue;const ce=rw.cells,nh=R[0]===null,rc=R[4]??dr;ce[1].textContent=nh?\"---\":fmt(R[2]);ce[2].textContent=fmt(R[3]);const ip=ce[3].querySelector(\"input\");if(ip){ip.value=rc.substring(1);ip.disabled=!1}\nce[4].textContent=nh?\"---\":fmt(S[0]);ce[5].textContent=nh?\"---\":fmt(R[0]);ce[6].textContent=nh?\"---\":fmt(S[1]);ce[7].textContent=nh?\"---\":fmt(R[1]);rw.style.color=nh?\"#777\":ia?rc:\"#ccc\"}}\nconst st=$(\"fc\");if(st){st.innerHTML=`<h3>Stats: (Load: ${(T[0][0][139]>0?(T[0][0][138]||0)/T[0][0][139]*1e3:0).toFixed(2)} ms/s | AI Resets: ${T[0][0][118]||0} | AI Resets/s: ${(T[0][0][140]||0).toFixed(2)})</h3><table id=\"stats-table\"><thead><tr><th>Function</th><th>Count</th><th>Rate (/s)</th><th>Avg (µs)</th><th>Load (ms/s)</th></tr></thead><tbody>${[0,1,2,3,4,5,6].map(i=>{const nm=T[0][0][41+i],ct=T[0][0][27+i],rt=T[0][0][67+i],am=T[0][0][74+i],dt=T[0][0][131+i]||0,fl=T[0][0][139]>0?dt/(T[0][0][139]/1e3):0;return`<tr><td>${nm}</td><td>${ct}</td><td>${rt.toFixed(1)}</td><td>${(am*1e3).toFixed(3)}</td><td>${fl.toFixed(3)}</td></tr>`}).join(\"\")}</tbody></table>`}}\n};log(1,38);\n\nfunction attachRelayoutListeners(){const plotDiv=$(\"plot\");if(plotDiv&&!plotDiv._relayoutAttached){plotDiv._relayoutAttached=1;plotDiv.on(\"plotly_relayout\",e=>{if(e[\"xaxis.range[0]\"])T[0][0][24]=[e[\"xaxis.range[0]\"],e[\"xaxis.range[1]\"]];if(e[\"yaxis.range[0]\"])T[0][0][25]=[e[\"yaxis.range[0]\"],e[\"yaxis.range[1]\"]]});plotDiv.on(\"plotly_doubleclick\",()=>{T[0][0][24]=null;T[0][0][25]=null;T[0][0][23]=0;updateButtonStates();T[0][0][87]=1;T[0][0][88]=1;RRIF();return!1})}};\nlog(1,39);\n/* BLOCK_8: ending of UI update and display logic */\n\n\n\n\n/* BLOCK_9: beginning of UI interactivity helpers */\nlog(1,40);\nfunction updateCarSelect(){const sel=$(\"cI\"),curV=sel.value;sel.innerHTML=T.slice(1).map((cD,i)=>{const c=i+1,isA=cD?.[0]?.[3]===1;return`<option value=\"${c}\">Car ${c} ${isA?\"\":\"(D)\"}</option>`}).join(\"\");let selectedIndexIsValid=!1;for(let i=0;i<sel.options.length;i++){if(sel.options[i].value===curV){selectedIndexIsValid=!0;break}}\nif(selectedIndexIsValid){sel.value=curV;T[0][0][21]=+curV}else{const firstCar=T.length>1?1:0;T[0][0][21]=firstCar;sel.value=firstCar||\"\"}\nif(!T[0][0][21]){sel.innerHTML='<option value=\"0\" disabled>No Cars</option>'}else{const activeCar=T[T[0][0][21]];if(activeCar){const rayCount=activeCar.length-1;const currentNNParamStr=T[0][0][100]||\"\";const parts=currentNNParamStr.split(',');const currentInputSize=parseInt(parts[0],10);const expectedInputSize=rayCount+10;if(isNaN(currentInputSize)||currentInputSize!==expectedInputSize){parts[0]=expectedInputSize.toString();const newNNParamStr=parts.join(',');T[0][0][100]=newNNParamStr;$(\"nnParams\").value=newNNParamStr;setupNNFromParams(newNNParamStr)}}}\nupdateUIInputs();updateButtonStates()};log(1,41);\n\nfunction updateButtonStates(){const cIdx=T[0][0][21],cData=T[cIdx],isAlive=cIdx>0&&cData?.[0]?.[3]===1;const baseTexts=[[\"Max FPS: OFF\",\"Max FPS: ON\"],[\"Show Dead Rays: OFF\",\"Show Dead Rays: ON\"],[\"AI Driver: OFF\",\"AI Driver: ON\"],[\"Static View: OFF\",\"Static View: ON\"],[\"Accuracy: Per Frame\",\"Accuracy: Per Move\"],[\"Freeze Sizes: OFF\",\"Freeze Sizes: ON\"],[\"Leaderboard: OFF\",\"Leaderboard: ON\"]],indices=[15,16,20,23,19,102,113],ids=[\"toggleMaxFpsBtn\",\"deathRayBtn\",\"toggleAutoDriveBtn\",\"staticViewBtn\",\"accuracyModeBtn\",\"toggleFreezeSizesBtn\",\"toggleLeaderboardBtn\"];ids.forEach((id,i)=>{const idx=indices[i];let text=baseTexts[i][T[0][0][idx]];if(id===\"toggleAutoDriveBtn\"&&T[0][0][20]&&!isAlive)text+=\" (X)\";const btn=$(id);if(btn)btn.textContent=text});const warnEl=$(\"targetFpsWarn\");if(warnEl)warnEl.textContent=T[0][0][15]&&!T[0][0][26]?\" (X)\":\"\";const tb=$(\"toggleTesterBtn\");if(tb){const iTO=T[0][0][103],iLO=T[0][0][14];let t=iTO?\"Tester: ON\":\"Tester: OFF\";if(iTO&&!iLO)t+=\" (Paused)\";tb.textContent=t}};log(1,42);\n\nconst updateUIInputs=()=>{const cIdx=T[0][0][21],cData=T[cIdx],xO=$(\"xO\"),yO=$(\"yO\"),d=$(\"d\"),rayInput=$(\"T.0.0.8\"),nnInput=$(\"nnParams\"),dThetaInput=$(\"T.0.0.11\"),dMoveInput=$(\"T.0.0.12\");const isCarValid=cIdx>0&&cData?.[0],isAlive=isCarValid&&cData[0][3]===1;if(isCarValid){const cS=cData[0];xO.value=cS[0].toFixed(3);yO.value=cS[1].toFixed(3);d.value=cS[2].toFixed(2);dThetaInput.value=(cS[11]||0).toFixed(4);dMoveInput.value=(cS[12]||0).toFixed(4);const rayCount=cData.length-1;T[0][0][8]=rayCount;rayInput.value=rayCount;const expectedInputSize=rayCount+10;const currentNNParamStr=T[0][0][100]||\"\";const parts=currentNNParamStr.split(',');const currentInputSize=parseInt(parts[0],10);if(isNaN(currentInputSize)||currentInputSize!==expectedInputSize){parts[0]=expectedInputSize.toString();const newNNParamStr=parts.join(',');T[0][0][100]=newNNParamStr;nnInput.value=newNNParamStr}}else{[xO,yO,d,rayInput,nnInput].forEach(el=>el.value=\"\")}[xO,yO,d].forEach(el=>el.disabled=!isCarValid);$(\"applyMovementOnceBtn\").disabled=!isCarValid;$(\"toggleAutoDriveBtn\").disabled=!isCarValid;const sel=$(\"cI\"),opt=sel.options[sel.selectedIndex];if(opt&&opt.value==cIdx&&isCarValid){const txt=`Car ${cIdx} ${isAlive?\"\":\"(D)\"}`;if(opt.text!==txt)opt.text=txt}};log(1,43);\n\nconst toggle=idx=>{T[0][0][idx]^=1;updateButtonStates();return T[0][0][idx]};\nlog(1,44);\n/* BLOCK_9: ending of UI interactivity helpers */\n\n\n\n\n/* BLOCK_10: beginning of neural network setup and modification */\nlog(1,45);\nfunction parseNNParams(P){if(!P||typeof P!==\"string\"){return{error:\"Invalid input string\"}}\nconst parts=P.replace(/(\\d+)\\s*([a-zA-Z]+)/g,\"$1,$2\").split(\",\").map(p=>p.trim()).filter(p=>p!==\"\");if(parts.length===0)return{error:\"Empty parameters\"};const lS=[],aN=[];let lastPartWasNumber=!1;for(const part of parts){const num=parseInt(part,10);if(!isNaN(num)&&num>0&&String(num)===part){lS.push(num);lastPartWasNumber=!0}else if(validActivationNames.includes(part)){if(!lastPartWasNumber)return{error:`Activation '${part}' must follow a layer size.`};if(aN.length>=lS.length-1)return{error:`Duplicate or misplaced activation: '${part}'.`};while(aN.length<lS.length-2)aN.push(null);aN.push(part);lastPartWasNumber=!1}else{return{error:`Invalid part: '${part}'`}}}\nif(lS.length<2)return{error:\"Requires at least Input and Output layer sizes.\"};if(lS[lS.length-1]!==2)return{error:`Output layer size must be 2, got ${lS[lS.length-1]}.`};while(aN.length<lS.length-1)aN.push(null);const defaultHiddenActivation=\"relu\",defaultOutputActivation=\"tanh\";for(let i=0;i<aN.length;i++)if(aN[i]===null)aN[i]=i===aN.length-1?defaultOutputActivation:defaultHiddenActivation;const pNR=lS[0]-10;if(pNR<=0)return{error:`Input layer size (${lS[0]}) must be > 10 to accommodate fixed inputs + rays.`};return{layerSizes:lS,activations:aN,numRays:pNR,error:null}};log(1,46);\n\nfunction initializeWeights(r,c){const matrix=[];const range=.5;for(let i=0;i<r;i++){matrix[i]=[];for(let j=0;j<c;j++){matrix[i][j]=(M.random()-.5)*range}}return matrix};log(1,47);\n\nfunction resizeWeightMatrixColumns(matrix,newCols){if(!matrix||matrix.length===0)return initializeWeights(0,newCols);const rows=matrix.length;const oldCols=matrix[0]?.length||0;const range=.5;if(oldCols===newCols)return matrix;const newMatrix=[];for(let i=0;i<rows;i++){newMatrix[i]=Array(newCols).fill(0);const colsToCopy=MIN(oldCols,newCols);const sourceRow=matrix[i]||[];for(let j=0;j<colsToCopy;j++){newMatrix[i][j]=sourceRow[j]||0}if(newCols>oldCols){for(let j=oldCols;j<newCols;j++){newMatrix[i][j]=(M.random()-.5)*range}}}return newMatrix};log(1,48);\n\nfunction resizeCarRayData(R){T[0][0][8]=R;for(let c=0;c<T.length;c++){if(T[c]){if(T[c].length!==1+R){while(T[c].length<1+R){T[c].push([null,null,Infinity,0,T[c].length===1?\"#f00\":(T[0]?.[0]?.[13]??\"#00ffff\")])}\nT[c].length=1+R}}}};log(1,49);\n\nfunction setupNNFromParams(P,A){const cI=+A>=0?+A:T[0][0][130]&&T[0][0][129]||T[0][0][21]||1;const prs=parseNNParams(P);if(prs.error){console.error(\"NN Initialization failed:\",prs.error);log(109,1);$(\"nnParams\").style.border=\"2px solid red\";return!1}const{layerSizes:lS,activations:aN,numRays:pNR}=prs;let aNR=T[cI]?T[cI].length-1:pNR;if(pNR!==aNR){lS[0]=aNR+10;log(109,2)}\nif(T[0][0][8]!==aNR){resizeCarRayData(aNR)};\nD=[];D[0]=[];D[0][0]={numLayers:lS.length-1,layerSizes:[...lS],inputSize:lS[0],outputSize:lS[lS.length-1]};for(let i=0;i<lS.length-1;i++){D[0][i+1]=aN[i]}for(let i=0;i<lS.length-1;i++){const r=lS[i+1];\nconst c=lS[i]+(i>0&&T[0][0][110]===3);\nD[i+1]=initializeWeights(r,c)}$(\"nnParams\").style.border=\"\";T[0][0][100]=P;log(109,3);T[0][0][87]=1;T[0][0][88]=1;T[0][0][89]=1;RRIF();return!0};log(1,50);\n\nfunction updateNNForRayChange(R){if(isNaN(R)||R<=0){console.error(\"Invalid number of rays for update:\",R);$(\"T.0.0.8\").style.border=\"2px solid red\";return!1}$(\"T.0.0.8\").style.border=\"\";resizeCarRayData(R);\nlet cNPS=$(\"nnParams\").value||`${R+10},10,10,2`,p=cNPS.split(\",\"),fNI=p.findIndex(s=>/^\\d+$/.test(s.trim()));if(fNI!==-1){p[fNI]=String(R+10);$(\"nnParams\").value=p.join(\",\")}else{$(\"nnParams\").value=`${R+10},${cNPS}`}\nT[0][0][100]=$(\"nnParams\").value;\nif(!D||!D[0]||!D[0][0]){log(110,1);return setupNNFromParams($(\"nnParams\").value)}else{D[0][0].inputSize=R+10;D[0][0].layerSizes[0]=R+10;if(D[1]){D[1]=resizeWeightMatrixColumns(D[1],R+10)}else{D[1]=initializeWeights(D[0][0].layerSizes[1],R+10)}log(110,2);T[0][0][87]=1;T[0][0][88]=1;T[0][0][89]=1;RRIF();return!0}};log(1,51);\n\nfunction tester(arg){const cI=+arg>=0?+arg:T[0][0][130]&&T[0][0][129]||T[0][0][21]||1;T[0][0][107]++;if(cI&&T[cI]?.[0]&&T[cI]?.[0]?.[3]!==1||T[0][0][107]>=(MAX(0,T[cI][0][0])*100+(T[cI][0][0]<1?100:500)+(T[cI][0][0]>T[0][0][116]?1e4:0)+(T[cI][0][0]>T[0][0][117]?1e5:0))){if(!cI||!T[cI]?.[0]){log(112,1);T[0][0][103]&&(T[0][0][103]=0,updateButtonStates())}else{if(T[cI][0][0]!==undefined&&(T[0]?.[0]?.[115]||10)>0){if(!tested[0])tested[0]=[];if(!tested[0][0])tested[0][0]=[0];const leaderboardSize=T[0]?.[0]?.[115]||10;while(tested[0][0].length<=leaderboardSize)tested[0][0].push(0);if(T[cI][0][0]>T[0][0][116]){let slotToReplace=-1;for(let i=1;i<=leaderboardSize;i++)if(Number(tested[0][0][i])===T[0][0][116]){slotToReplace=i;break}if(slotToReplace!==-1){log(112,2);tested[0][0][slotToReplace]=T[cI][0][0];if(!tested[0][slotToReplace])tested[0][slotToReplace]={};tested[0][slotToReplace]=JSON.parse(JSON.stringify(Ds?.[cI]??D));T[0][0][114]=1;(()=>{const s=tested[0][0].slice(1,leaderboardSize+1).map(n=>Number(n)).filter(n=>!isNaN(n));s.length>0?(T[0][0][116]=Math.min(...s),T[0][0][117]=Math.max(...s)):(T[0][0][116]=0,T[0][0][117]=0)})()}}}T[cI][0].splice(0,5,0,0,0,1,\"#fff\");if(T[cI][0].length>92){T[cI][0][22]=null;T[cI][0][91]=0;T[cI][0][92]=0}setupNNFromParams(T[0][0][100],cI);castRays();T[0][0][88]=1;RRIF()}T[0][0][118]++;T[0][0][106]=0;T[0][0][107]=0}};log(1,52);\n\nfunction evolver(...args){};\n\nfunction magic(...args){if(magicdata[-2]){magicdata=magicdata||[];magicdata[1]='placeholder ';magic.inject='placeholder';magicdata[-2]=1}magic.t=magic.t||[]};\n\n/* BLOCK_10: ending of neural network setup and modification */\n\n\n\n\n/* BLOCK_11: beginning of event handlers and main simulation loop */\nlog(1,53);\nfunction handleInput(e){handleInput.t=handleInput.t||[];var t0=handleInput.t;t0[0]=P.now();const t=e.target,id=t.id,v=t.type===\"checkbox\"?+t.checked:t.type===\"color\"?t.value:t.value===\"\"?0:t.value;T[0][0][33]++;log(111,1);let requiresRedraw=!1,requiresRayUpdate=!1,requiresTableRebuild=!1,requiresUIUpdate=!1;if(id===\"nnParams\"){T[0][0][100]=String(v);setupNNFromParams(String(v));t0[1]=P.now();T[0][0][40]+=t0[1]-t0[0];return}\nif(id.startsWith(\"T.0.0.\")){const idx=parseInt(id.split(\".\")[3],10);if(isNaN(idx)){t0[1]=P.now();T[0][0][40]+=t0[1]-t0[0];return}\nlet nV;switch(idx){case 5:case 6:case 7:nV=MAX(1,+v);if(T[0][0][idx]!==nV){requiresRayUpdate=1;cachedRoadGeometry=null}break;case 8:nV=MAX(1,+v);if(T[0][0][idx]!==nV){updateNNForRayChange(nV);requiresRedraw=!0;requiresTableRebuild=!0}\nT[0][0][idx]=nV;t0[1]=P.now();T[0][0][40]+=t0[1]-t0[0];return;case 9:nV=MAX(1,+v);if(T[0][0][idx]!==nV)T[0][0][18]=0;break;case 14:nV=+v;if(T[0][0][idx]!==nV)T[0][0][18]=0;updateButtonStates();break;case 10:case 11:case 12:const cI=T[0][0][21];if(T[cI]?.[0]){T[cI][0][idx]=+v}nV=+v;break;case 13:nV=v;if(T[0][0][idx]!==nV)requiresRedraw=1;break;case 26:nV=+v;break;default:nV=+v;break}\nif(T[0][0][idx]!==nV){T[0][0][idx]=nV}}else{let carPropMapIndex=-1;for(let k=61;k<=63;k++){if(T[0][0][k]===id){carPropMapIndex=k-61;break}}\nif(carPropMapIndex!==-1){const validator=CARPROP_VALIDATORS[id];const nVal=validator(v);if(T[0][0][130]){for(let c=1;c<T.length;c++){if(T[c]?.[0]){const propIdx=T[0][0][64+carPropMapIndex];T[c][0][propIdx]=nVal}}T[0][0][88]=1}else{const cIdx=T[0][0][21];if(cIdx>0&&T[cIdx]?.[0]){const propIdx=T[0][0][64+carPropMapIndex];if(T[cIdx][0][propIdx]!==nVal){T[cIdx][0][propIdx]=nVal;T[0][0][88]=1}}}}}\nT[0][0][87]|=requiresRayUpdate;T[0][0][88]|=requiresRedraw;T[0][0][89]|=requiresTableRebuild;updateButtonStates();if(requiresUIUpdate)updateUIInputs();if(requiresRayUpdate||requiresRedraw)RRIF();t0[1]=P.now();T[0][0][40]+=t0[1]-t0[0]};log(1,54);\n\nfunction handleColorInputBlur(inp){const v=inp.value.trim(),cIdx=+inp.dataset.car,rIdx=+inp.dataset.ray,rData=T[cIdx]?.[rIdx];if(rData){let nClr=/^[0-9a-fA-F]{3,6}$/i.test(v)?\"#\"+v:v===\"\"?(rIdx===1?\"#f00\":T[0][0][13]):null;if(nClr&&rData[4]!==nClr){if(T[0][0][130]){for(let c=1;c<T.length;c++){if(T[c]?.[rIdx])T[c][rIdx][4]=nClr}}else{rData[4]=nClr}\nif(rIdx>1){const ghostRayData=T[0]?.[rIdx];if(ghostRayData)ghostRayData[4]=nClr}T[0][0][88]=1;RRIF()}else if(!nClr){const currentValidColor=rData[4]||(rIdx===1?\"#f00\":T[0][0][13]);inp.value=currentValidColor.substring(1)}}};log(1,55);\n\nconst evts={addCarBtn:()=>{const nCI=createCar();if(nCI!==null){T[0][0][21]=nCI;updateCarSelect();RRIF()}},resetBtn:()=>{for(val of[27,34,52,67,74,120,131])for(j=0;j<7;j++)T[0][0][val+j]=0;for(val of[18,86,105,106,107,116,117,118,119,138,139])T[0][0][val]=0;T[0][0][59]=P.now();debuglogs=[[]];tested=[[]];for(let c=1;c<T.length;c++){if(T[c]?.[0]){T[c][0].splice(0,5,0,0,0,1,\"#fff\");T[c][0][22]=null;if(T[c][0].length>92){T[c][0][91]=0;T[c][0][92]=0}}}\nT[0][0][88]=1;T[0][0][89]=1;T[0][0][114]=1;castRays();updateInfoDisplay(!0);updateCarSelect();RRIF();log(113,1)},stopCycleBtn:()=>{let revived=0;for(let c=1;c<T.length;c++)if(T[c]?.[0]?.[3]===0){T[c][0][3]=1;T[c][0][4]=\"#fff\";T[c][0][22]=null;revived=1;log(114,1)}if(revived){updateCarSelect();T[0][0][88]=1;RRIF()}},staticViewBtn:()=>{toggle(23);if(T[0][0][23]&&(!T[0][0][24]||!T[0][0][25])){if($(\"plot\")?.layout){T[0][0][24]=$(\"plot\").layout.xaxis.range;T[0][0][25]=$(\"plot\").layout.yaxis.range}else{T[0][0][23]=0;updateButtonStates();return}}T[0][0][87]=1;T[0][0][88]=1;RRIF()},toggleMaxFpsBtn:()=>{toggle(15);T[0][0][85]=0},deathRayBtn:()=>{toggle(16);T[0][0][88]=1;RRIF()},toggleAutoDriveBtn:()=>{toggle(20)},accuracyModeBtn:()=>{toggle(19)},applyMovementOnceBtn:()=>{const cIdx=T[0][0][21];if(!cIdx||!T[cIdx])return;const cState=T[cIdx][0];if(!cState||!cState[3])return;const accMode=T[0][0][19];const isAIActive=T[0][0][20];const castIfNeeded=()=>{if(!T[0]?.[0]?.[96])castRays()};if(isAIActive){if(accMode)castIfNeeded();const inputVec=buildAIInputVector(cIdx);if(inputVec){ff(inputVec,cIdx);$('T.0.0.11').value=cState[11].toFixed(4);$('T.0.0.12').value=cState[12].toFixed(4)}else{cState[11]=0;cState[12]=0}}\nif(accMode&&!isAIActive)castIfNeeded();move(cIdx);if(T[cIdx]?.[0]){T[cIdx][0][91]=cState[11]??0;T[cIdx][0][92]=cState[12]??0}\nupdateUIInputs();if(!accMode)castIfNeeded();T[0][0][88]=1;RRIF()},toggleFreezeSizesBtn:()=>{toggle(102)},toggleTesterBtn:()=>{toggle(103);if(!T[0][0][103]){T[0][0][107]=0;T[0][0][106]=0}},toggleLeaderboardBtn:()=>{toggle(113);updateInfoDisplay(!0)}};log(1,56);\n\nfor(const id in evts)$(id).onclick=evts[id];log(1,57);\n\nfunction parallelCars(){if(T[0][0][130]&&T.length>1){T[0][0][129]++;if(T[0][0][129]>=T.length)T[0][0][129]=1;const pdi=T[0][0][129],isAIActive=T[0][0][20];const currentCar=T[pdi],carIsAlive=currentCar?.[0]?.[3]===1;if(isAIActive&&carIsAlive){const inputVec=buildAIInputVector(pdi);if(inputVec)ff(inputVec,pdi)}move(pdi);if(T[0][0][103])tester(pdi)}};log(1,58);\n\nfunction gameLoop(ts){if(T[0]?.[0]?.[101]){return}if(!T[0][0][84])T[0][0][84]=ts;if(!T[0][0][85])T[0][0][85]=ts;const deltaT=ts-T[0][0][84],renderDeltaT=ts-T[0][0][85];T[0][0][84]=ts;let budgetMs=T[0][0][18]??0;let stepsTaken=0;let timePerStep=0;const loopActive=T[0][0][14];const loopFreq=T[0][0][9];const isAIActive=T[0][0][20];const selectedCarIndex=T[0][0][21];const accuracyMode=T[0][0][19];let canRunLoop=loopActive&&loopFreq>0;if(canRunLoop){budgetMs+=deltaT;timePerStep=1e3/loopFreq;if(timePerStep>0){const maxSteps=MAX(50,loopFreq*2);steps=FLOOR(budgetMs/timePerStep);steps=MIN(steps,maxSteps);if(steps>0){stepsTaken=steps;T[0][0][18]=steps===maxSteps?0:budgetMs%timePerStep}}else{T[0][0][18]=budgetMs}}else{T[0][0][18]=0}\nlet carMoved=!1;if(stepsTaken>0){if(!T[0][0][130]){const accuracyMode=T[0][0][19];if(accuracyMode===0)castRays();for(let i=0;i<stepsTaken;i++){const selectedCarIndex=T[0][0][21];const currentSelectedCar=T[selectedCarIndex];const carIsAlive=currentSelectedCar?.[0]?.[3]===1,isAIActive=T[0][0][20];if(isAIActive&&carIsAlive){if(accuracyMode===1)castRays();const inputVec=buildAIInputVector(selectedCarIndex);if(inputVec)ff(inputVec,selectedCarIndex)}else{if(accuracyMode===1&&carIsAlive)castRays()}\nmove(selectedCarIndex);carMoved=!0;if(currentSelectedCar){currentSelectedCar[0][91]=currentSelectedCar[0][11]||0;currentSelectedCar[0][92]=currentSelectedCar[0][12]||0}T[0][0][105]++;T[0][0][106]++;if(T[0][0][103])tester();if(T[selectedCarIndex]?.[0]?.[3]!==1){log(115,1);break}if(!T[0][0][14])break}}\nparallelCars();}\nconst isMaxFps=T[0][0][15];const isMoveFps=T[0][0][26];const targetFps=T[0][0][10];let shouldRender=!1;if(!isMaxFps){shouldRender=renderDeltaT>=1e3/targetFps}else{shouldRender=isMoveFps?carMoved||T[0][0][87]||T[0][0][88]:!0}\nif(shouldRender&&(T[0][0][87]||T[0][0][88]||carMoved)){if(accuracyMode===0&&stepsTaken===0)castRays();let somethingToDisplay=T[0][0][16];if(!somethingToDisplay){for(let c=1;c<T.length;c++)if(T[c]?.[0]?.[3]===1)somethingToDisplay=!0}if(somethingToDisplay){renderFrame();updateInfoDisplay();T[0][0][85]=ts}else{updateInfoDisplay(!0)}}else if(shouldRender){updateInfoDisplay();T[0][0][85]=ts}\nconst now=P.now(),statDeltaT=now-T[0][0][59];if(statDeltaT>=100){T[0][0][138]=0;const aiResetsThisInterval=T[0][0][118]-(T[0][0][119]||0);T[0][0][140]=aiResetsThisInterval*1e3/statDeltaT;T[0][0][119]=T[0][0][118];for(let i=0;i<7;i++){if(T[0][0][120+i]===undefined)T[0][0][120+i]=0;T[0][0][131+i]=(T[0][0][34+i]||0)-T[0][0][120+i];T[0][0][120+i]=T[0][0][34+i]||0;T[0][0][138]+=T[0][0][131+i];T[0][0][67+i]=((T[0][0][27+i]||0)-(T[0][0][52+i]||0))*1e3/statDeltaT;let isTimedForAvg=!1;for(let k=48;k<=51;k++){if(T[0][0][k]===i){isTimedForAvg=!0;break}}\nT[0][0][74+i]=isTimedForAvg?(T[0][0][34+i]||0)/(T[0][0][27+i]||1):0;T[0][0][52+i]=T[0][0][27+i]||0}\nT[0][0][139]=statDeltaT;T[0][0][59]=now}\nif(!T[0]?.[0]?.[101]){requestAnimationFrame(gameLoop)}else{log(115,2)}};log(1,59);\n\nfunction startSimulation(){if(!T[0]?.[0]?.[101]){log(116,1);T[0][0][84]=P.now();T[0][0][85]=P.now();requestAnimationFrame(gameLoop)}else{log(116,2)}};log(1,60);\n\ndocument.querySelectorAll(\"input[type=number],input[type=color],input[type=checkbox]\").forEach(el=>el.addEventListener(\"input\",handleInput));\n$(\"nnParams\").addEventListener(\"change\",handleInput);\n$(\"cI\").addEventListener(\"change\",e=>{T[0][0][21]=+e.target.value;updateUIInputs()});\n$(\"importBtn\").onclick=importState;\n$(\"exportAllClipboardBtn\").onclick=exportAllToClipboard;\n$(\"exportTTextareaBtn\").onclick=()=>exportToTextarea(\"T\");\n$(\"exportDTextareaBtn\").onclick=()=>exportToTextarea(\"D\");\n$(\"exportLogsTextareaBtn\").onclick=()=>exportToTextarea(\"debuglogs\");\n$(\"readExprBtn\").onclick=readExpression;\n$(\"readExprInput\").addEventListener(\"keydown\",e=>{if(e.key===\"Enter\"){e.preventDefault();readExpression()}});\n$(\"copyReadOutputBtn\").onclick=()=>{const c=$(\"readExprOutput\").value;navigator.clipboard.writeText(c).then(()=>alert(\"Copied to clipboard!\")).catch(e=>console.error(\"Copy failed\",e))};\n$(\"downloadReadOutputBtn\").onclick=()=>{const c=$(\"readExprOutput\").value,f=\"state_export.txt\",b=new Blob([c],{type:\"text/plain;charset=utf-8\"}),l=document.createElement(\"a\");l.href=URL.createObjectURL(b);l.download=f;document.body.appendChild(l);l.click();document.body.removeChild(l);URL.revokeObjectURL(l.href)};\n$(\"sendToImportAreaBtn\").onclick=()=>{const c=$(\"readExprOutput\").value,iTA=$(\"importData\");iTA.value=c;resizeTextareaIfUnlocked(iTA);iTA.focus()};\n$(\"loadFromFileBtn\").onclick=()=>$(\"fileImporter\").click();\n$(\"fileImporter\").addEventListener(\"change\",e=>{const f=e.target.files[0];if(f){const r=new FileReader;r.onload=ev=>{const iTA=$(\"importData\");iTA.value=ev.target.result;resizeTextareaIfUnlocked(iTA)};r.onerror=er=>alert(\"Error reading file: \"+er);r.readAsText(f)}e.target.value=null});\n[5,6,7,8,9,10,11,12,13,14,26].forEach(idx=>{const el=$(`T.0.0.${idx}`);if(el&&T[0][0][idx]!==undefined&&T[0][0][idx]!==null)el.type===\"checkbox\"?el.checked=!!T[0][0][idx]:el.value=T[0][0][idx]});\n$(\"nnParams\").value=T[0][0][100]??\"20,10,10,2\";log(1,61);\n\nsetupNNFromParams($(\"nnParams\").value);\nupdateButtonStates();\ngenerateAndCacheRoad();\nupdateCarSelect();\nT[0][0][88]=1;\ncastRays();\nrenderFrame();\nupdateInfoDisplay(!0);\nattachRelayoutListeners();\nstartSimulation();\nlog(1,62);\n/* BLOCK_11: ending of event handlers and main simulation loop */\nlog(1,63);\n</script><script>\n/* BLOCK_12: beginning of AI note */\nwindow.notetoai={rules:[\"1) no style changes unless necessary like syntax crash\",\"2) explicit orders shall be taken directly\",\"3) diff format is bla bla/*🟢*/new surgical code piece/*🟡old surgical code piece🔴*/bla bla\"],notes:[\"1) readability doesn't matter\",\"2) short code length is preferred\",\"3) inlines are preferred\",\"4) full code is not preferred unless high probability of that request\",\"5) surgical code changes are preferred unless explicit demand against that\",\"6) preserve blocks and spacings of inter/within blocks (2 newline within and 6 newline inter blocks, thus adding 1 and 5 empty lines), those are for easier modification and surgical update performance and also easier location within code\",\"7) when updating code and showing diff use format of bla bla/*🟢*/new code/*🟡old code🔴*/bla bla ; which is like let's say original is 5*(2+2)/4 and final is 5*(2*3)/4 then diff is 5*(2/*🟢*/*3/*🟡+2🔴*/)/4 or if D is replaced with Ds?.[cI]??D diff is /*🟢*/Ds?.[cI]??/*🟡🔴*/D  exactly replacing the changed part and not touches rest, so diffs are surgical like that and coloured\"]};\n/* BLOCK_12: ending of AI note */\n</script></body></html>\n"
                  },
                  {
                    "name": "communicationhelpertrversion.html",
                    "type": "file",
                    "size": "3,673 bytes",
                    "path": "scratchpad/temp/out/html/communicationhelpertrversion.html",
                    "content": "<!DOCTYPE html>\n<html lang=\"tr\">\n<head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>İletişim Yardımcısı</title></head>\n<body><script>let k,d='{\"Yemek\":{\"Çorba\":{\"Mercimek\":{},\"Kelle Paça\":{},\"Yayla\":{}},\"Sıvı\":{\"Su\":{},\"Çay\":{},\"Meyve Suyu\":{}},\"Katı\":{\"Et Yemeği\":{},\"Pilav\":{}},\"Tatlı\":{\"Sütlaç\":{},\"Baklava\":{}}},\"Sohbet\":{\"Selam\":{\"Merhaba\":{},\"Günaydın\":{}},\"Durum\":{\"Nasılsın?\":{},\"İyiyim\":{}},\"Hava\":{\"Hava nasıl?\":{},\"Sıcak\":{}}},\"Sağlık\":{\"Ağrım Var\":{\"Başım\":{},\"Karnım\":{},\"Dişim\":{}},\"İhtiyaç\":{\"İlaç\":{},\"Su\":{},\"Tuvalet\":{}},\"Pozisyon\":{\"Kaldır\":{},\"Yatır\":{},\"Yastığı düzelt\":{}},\"His\":{\"İyi değilim\":{},\"Üşüyorum\":{},\"Mide bulantım var\":{}}},\"Talep\":{\"Eşya\":{\"Televizyon\":{},\"Kumanda\":{},\"Kitap\":{}},\"Kişi\":{\"Ailem\":{},\"Hemşire\":{}},\"Aktivite\":{\"Dışarı çıkalım\":{},\"Müzik dinelim\":{}}}}',g=i=>document.getElementById(i);document.body.innerHTML='<style>body{font-family:system-ui,sans-serif;background:#121212;color:#e0e0e0;padding:16px;margin:0;user-select:none}h1{margin:0;font-size:2em;cursor:pointer}button{padding:20px;font-size:1.5em;font-weight:600;border:6px solid #444;background:#1e1e1e;color:#e0e0e0;border-radius:12px;flex-grow:1;cursor:pointer}button:hover{filter:brightness(.95)}button.sel{background:#0d6efd;color:#fff;border-color:#0d6efd;transform:scale(1.03)}button.leaf{border-color:#c92a2a}button.leaf.sel{background:#c92a2a;border-color:#c92a2a}.hdr{display:flex;justify-content:space-between;align-items:center;padding-bottom:15px;border-bottom:2px solid #3a3a3a;margin-bottom:20px}#e{padding:8px 16px;font-size:1em;font-weight:500;flex:0;border-width:2px}#c>div{display:flex;flex-wrap:wrap;gap:20px}#c>div:not(:empty){margin-top:20px;padding-top:20px;border-top:1px dashed #999}#o{margin-top:25px;background:#002b5c;color:#d4eaff;border-radius:12px;text-align:center;font-weight:700;min-height:120px;display:flex;align-items:center;justify-content:center;padding:10px}#m{position:fixed;inset:0;background:#000b;display:none;align-items:center;justify-content:center}#m>div{background:#1e1e1e;padding:20px;border-radius:10px;width:90%;max-width:600px}textarea{width:100%;height:40vh;box-sizing:border-box}</style><div class=hdr><h1 id=h>İletişim Yardımcısı</h1><button id=e>⚙️</button></div><div id=c></div><div id=o></div><div id=m><div><textarea id=j></textarea><div style=display:flex;justify-content:flex-end;gap:10px;margin-top:15px><button id=x>İptal</button><button id=s>Kaydet</button></div></div></div>';const c=g('c'),o=g('o'),m=g('m'),t=g('j'),f=e=>{e.style.fontSize='';if(!e.textContent)return;let s=120;e.style.fontSize=s+'px';while(s>9&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight))e.style.fontSize=--s+'px'},s=e=>{for(let b of e.target.parentElement.children)b.classList.remove('sel');e.target.classList.add('sel');o.textContent=e.target.textContent;f(o)},r=(d,l)=>{while(c.children[l])c.lastChild.remove();if(!Object.keys(d).length)return;let p=document.createElement('div');for(let j in d){let b=document.createElement('button');b.textContent=j;if(Object.keys(d[j]).length===0)b.classList.add('leaf');b.onclick=e=>(s(e),r(d[j],l+1));p.append(b)}c.append(p)},i=()=>{try{k=JSON.parse(localStorage.j||d)}catch{k=JSON.parse(d)}o.textContent='',r(k,0)};g('h').onclick=i;g('e').onclick=()=>(t.value=JSON.stringify(k,null,2),m.style.display='flex');g('x').onclick=()=>m.style.display='none';g('s').onclick=()=>{try{let n=JSON.parse(t.value);if(!n||'object'!=typeof n||n.pop)throw'';localStorage.j=t.value;m.style.display='none',i()}catch{alert('Geçersiz JSON!')}};i();</script></body></html>\n"
                  },
                  {
                    "name": "jitlogtest.html",
                    "type": "file",
                    "size": "33,424 bytes",
                    "path": "scratchpad/temp/out/html/jitlogtest.html",
                    "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>JIT Benchmarker</title>\n    <style>\n        :root{--c-bg:#1a1f2c;--c-surface:#242936;--c-border:#363b49;--c-text-primary:#e1e1e6;--c-text-secondary:#989fb1;--c-heading:#fff;--c-green:#4ade80;--c-red:#f87171;--c-discarded:#666;--c-info-bg:#2d3343;--c-active:#4a5568}*{box-sizing:border-box}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif;background-color:var(--c-bg);color:var(--c-text-primary);line-height:1.6;padding:20px;max-width:900px;margin:auto}h1,h2,h3{color:var(--c-heading);border-bottom:1px solid var(--c-border);padding-bottom:8px}code{background-color:var(--c-surface);padding:3px 6px;border-radius:4px}button,label.button{font-size:1em;padding:10px 15px;border-radius:5px;border:1px solid var(--c-border);background-color:var(--c-surface);color:var(--c-text-primary);cursor:pointer;display:inline-block}button:hover,label.button:hover{background-color:var(--c-active)}button:disabled{opacity:.5}.config-section{margin-bottom:20px}.config-section fieldset{border:1px solid var(--c-border);padding:10px 15px;border-radius:5px}.config-section legend{padding:0 10px}.category-group{margin-bottom:10px}.category-group:last-child{margin-bottom:0}.category-group strong{display:block;margin-bottom:5px;color:var(--c-text-secondary)}.category-group label{margin-right:20px;display:inline-block}.info-box{background-color:var(--c-info-bg);border-left:4px solid var(--c-green);padding:15px;margin:20px 0;border-radius:4px}.delete-btn{color:var(--c-red);font-weight:700;cursor:pointer;margin-left:8px}#progressContainer{display:none;margin:15px 0;padding:10px;border:1px solid var(--c-border);border-radius:5px;background-color:#10121a}.progress-item:not(:last-child){margin-bottom:8px}.progress-bar{height:1.5em;background-color:var(--c-surface);border-radius:3px}.progress-bar-fill{background-color:var(--c-green);height:100%;width:0;transition:width .3s ease-out}#historyContainer{display:none;border:1px solid var(--c-border);padding:15px;margin-top:20px;border-radius:5px}#historyList{list-style-type:none;padding:0;margin:0}#historyList li a{display:block;padding:8px;border-radius:4px;text-decoration:none;color:var(--c-text-primary)}#historyList li a:hover{background-color:var(--c-surface)}#historyList li.active a{background-color:var(--c-active);font-weight:700}#resultsContainer{border:1px solid var(--c-border);padding:15px;margin-top:20px;border-radius:5px}.summary-line{margin-bottom:10px;font-size:1.2em}.fast{color:var(--c-green);font-weight:700}.slow{color:var(--c-red);font-weight:700}#rawStatsContainer{display:block;margin-top:20px;padding-top:20px;border-top:1px solid var(--c-border)}.details-columns{display:flex;justify-content:space-around;flex-wrap:wrap}.details-list{padding:0 15px;list-style-type:none;font-size:.75em}.details-list li{white-space:nowrap}.details-list .discarded{color:var(--c-discarded);text-decoration:line-through}.dynamic-eval-group{display:flex;align-items:center;gap:10px}.dynamic-eval-group input[type=text]{flex-grow:1;background-color:var(--c-surface);border:1px solid var(--c-border);color:var(--c-text-primary);padding:8px;border-radius:4px;font-family:monospace}\n    </style>\n</head>\n<body>\n    <h1>JIT Benchmarker</h1>\n    <p>Select versions to test, or use the execution box to add/modify contestants.</p>\n    <div class=\"config-section\">\n        <fieldset id=\"subject-selector\">\n            <legend>Versions to Test</legend>\n            <div id=\"subject-list\"></div>\n        </fieldset>\n    </div>\n    <div class=\"config-section\">\n        <fieldset id=\"dynamicContestantContainer\">\n            <legend>Dynamic Code Execution (Pure Eval)</legend>\n            <div class=\"dynamic-eval-group\">\n                <input type=\"text\" id=\"evalCodeInput\" placeholder=\"Enter JavaScript to execute globally...\">\n                <button id=\"executeCodeBtn\">Execute</button>\n                <label for=\"evalCodeFile\" class=\"button\">Load from File</label>\n                <input type=\"file\" id=\"evalCodeFile\" accept=\".js\" style=\"display: none;\">\n            </div>\n        </fieldset>\n    </div>\n    <div class=\"config-section\">\n        <fieldset>\n            <legend>Test Scenario</legend>\n            <div class=\"category-group\">\n                <strong>Predictable Patterns:</strong>\n                <label><input type=\"radio\" name=\"scenario\" value=\"repeated\"> Repeated</label>\n                <label><input type=\"radio\" name=\"scenario\" value=\"sequential\"> Sequential</label>\n            </div>\n            <div class=\"category-group\">\n                <strong>Randomized Patterns:</strong>\n                <label><input type=\"radio\" name=\"scenario\" value=\"predictable_random\"> Predictable Random</label>\n                <label><input type=\"radio\" name=\"scenario\" value=\"pure_random\" checked> Pure Random</label>\n            </div>\n        </fieldset>\n    </div>\n    <div class=\"config-section\">\n        <fieldset>\n            <legend>Reset Strategy</legend>\n            <div class=\"category-group\">\n                <label title=\"Initialization happens only once. Subsequent measurements test the pure hot path.\">\n                    <input type=\"radio\" name=\"resetStrategy\" value=\"perRun\" checked> Reset once per run (Default)\n                </label>\n                <label title=\"Measures 'cold start' performance. Reset before every single measurement sample.\">\n                    <input type=\"radio\" name=\"resetStrategy\" value=\"perSample\"> Reset before each measurement sample\n                </label>\n            </div>\n        </fieldset>\n    </div>\n    <div class=\"info-box\" id=\"scenario-info\"></div>\n    <div class=\"controls\">\n        <button id=\"runBenchmarkBtn\">Run Benchmark</button>\n        <label><input type=\"checkbox\" id=\"statsToggle\" checked> Show Raw Data</label>\n    </div>\n    <div id=\"progressContainer\"></div>\n    <div id=\"historyContainer\">\n        <h2>History</h2>\n        <ul id=\"historyList\"></ul>\n    </div>\n    <div id=\"resultsContainer\"><p>Ready.</p></div>\n\n<script>\n    var debuglogs1; function log1(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs1||!debuglogs1[-1])&&(s=2,debuglogs1=Array(1997).fill().map(()=>[]),debuglogs1[-1]=[2],debuglogs1[-2]=[],debuglogs1[0]=[0],debuglogs1[999] = [0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs1[0][0]+=v,debuglogs1[i+1]=[v,...Array(v).fill(0)],debuglogs1[1001+i]=[0],debuglogs1[999].push(0),s+=v,debuglogs1[-1].push(s)}),debuglogs1[998]=[0,1,...Array(debuglogs1[0][0]).fill(1)],debuglogs1[998][0]=debuglogs1[998].filter(x=>!x).length-1,debuglogs1[1000]=[0],log1(1,1));if(debuglogs1[998][1]&&(s=debuglogs1[-1][f-1]+c-1,debuglogs1[998][0]==0||debuglogs1[998][s])){debuglogs1[-2][s]||(debuglogs1[-2][s]=f+'.'+c,debuglogs1[0].push(s),(debuglogs1[0].length>debuglogs1[0][0]+3||debuglogs1[1000].length>1003||debuglogs1[1000+f].length>103));debuglogs1[f][c]++;debuglogs1[999][f]=++debuglogs1[1000+f][0];debuglogs1[1000][0]=++debuglogs1[999][0];debuglogs1[1000][(debuglogs1[1000][0]&1023)+1]=debuglogs1[-2][s];debuglogs1[1000+f][(debuglogs1[1000+f][0]&127)+1]=c}};\n    var debuglogs2; function log2(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs2||!debuglogs2[-1])&&(s=2,debuglogs2=Array(1997).fill().map(()=>[]),debuglogs2[-1]=[2],debuglogs2[-2]=[],debuglogs2[0]=[0],debuglogs2[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs2[0][0]+=v,debuglogs2[i+1]=[v,...Array(v).fill(0)],debuglogs2[1001+i]=[0],debuglogs2[999].push(0),s+=v,debuglogs2[-1].push(s)}),debuglogs2[998]=[0,1,...Array(debuglogs2[0][0]).fill(1)],debuglogs2[998][0]=debuglogs2[998].filter(x=>!x).length-1,debuglogs2[1000]=[0],log2(1,1));if(debuglogs2[998][1]&&(s=debuglogs2[-1][f-1]+c-1,debuglogs2[998][0]==0||debuglogs2[998][s])){debuglogs2[-2][s]||(debuglogs2[-2][s]=f+'.'+c,debuglogs2[0].push(s),(debuglogs2[0].length>debuglogs2[0][0]+3||debuglogs2[1000].length>1003||debuglogs2[1000+f].length>103));debuglogs2[f][c]++;debuglogs2[999][f]=++debuglogs2[1000+f][0];debuglogs2[1000][0]=++debuglogs2[999][0];debuglogs2[1000][(debuglogs2[1000][0]%1000)+1]=debuglogs2[-2][s];debuglogs2[1000+f][(debuglogs2[1000+f][0]%100)+1]=c}};\n    var debuglogs3; function log3(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs3||!debuglogs3[-1])&&(s=2,debuglogs3=Array(1997).fill().map(()=>[]),debuglogs3[-1]=[2],debuglogs3[-2]=[],debuglogs3[0]=[0],debuglogs3[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs3[0][0]+=v,debuglogs3[i+1]=[v,...Array(v).fill(0)],debuglogs3[1001+i]=[0],debuglogs3[999].push(0),s+=v,debuglogs3[-1].push(s)}),debuglogs3[998]=[0,1,...Array(debuglogs3[0][0]).fill(1)],debuglogs3[998][0]=debuglogs3[998].filter(x=>!x).length-1,debuglogs3[1000]=[0],log3(1,1));if(debuglogs3[998][1]&&(s=debuglogs3[-1][f-1]+c-1,debuglogs3[998][0]==0||debuglogs3[998][s])){debuglogs3[-2][s]||(debuglogs3[-2][s]=f+'.'+c,debuglogs3[0].push(s),(debuglogs3[0].length>debuglogs3[0][0]+3||debuglogs3[1000].length>1003||debuglogs3[1000+f].length>103));debuglogs3[f][c]++;debuglogs3[999][f]=++debuglogs3[1000+f][0];debuglogs3[1000][0]=++debuglogs3[999][0];debuglogs3[1000][(debuglogs3[1000][0]%1000)+1]=f+'.'+c;debuglogs3[1000+f][(debuglogs3[1000+f][0]%100)+1]=c}};\n    var debuglogs4; function log4(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs4||!debuglogs4[-1])&&(s=2,debuglogs4=Array(1997).fill().map(()=>[]),debuglogs4[-1]=[2],debuglogs4[-2]=[],debuglogs4[0]=[0],debuglogs4[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs4[0][0]+=v,debuglogs4[i+1]=[v,...Array(v).fill(0)],debuglogs4[1001+i]=[0],debuglogs4[999].push(0),s+=v,debuglogs4[-1].push(s)}),debuglogs4[998]=[0,1,...Array(debuglogs4[0][0]).fill(1)],debuglogs4[998][0]=debuglogs4[998].filter(x=>!x).length-1,debuglogs4[1000]=[0],log4(1,1));if(debuglogs4[998][1]&&(s=debuglogs4[-1][f-1]+c-1,debuglogs4[998][0]==0||debuglogs4[998][s])){debuglogs4[-2][s]||(debuglogs4[-2][s]=f+'.'+c,debuglogs4[0].push(s),(debuglogs4[0].length>debuglogs4[0][0]+3||debuglogs4[1000].length>1003||debuglogs4[1000+f].length>103));debuglogs4[f][c]++;debuglogs4[999][f]=++debuglogs4[1000+f][0];debuglogs4[1000][0]=++debuglogs4[999][0];debuglogs4[1000][(debuglogs4[1000][0]%1000)+1]=s;debuglogs4[1000+f][(debuglogs4[1000+f][0]%100)+1]=c}};\n    var debuglogs5; function log5(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs5||!debuglogs5[-1])&&(s=2,debuglogs5=Array(1997).fill().map(()=>[]),debuglogs5[-1]=[2],debuglogs5[-2]=[],debuglogs5[0]=[0],debuglogs5[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs5[0][0]+=v,debuglogs5[i+1]=[v,...Array(v).fill(0)],debuglogs5[1001+i]=new Int32Array(100),debuglogs5[999].push(0),s+=v,debuglogs5[-1].push(s)}),debuglogs5[998]=[0,1,...Array(debuglogs5[0][0]).fill(1)],debuglogs5[998][0]=debuglogs5[998].filter(x=>!x).length-1,debuglogs5[1000]=new Int32Array(1000),log5(1,1));if(debuglogs5[998][1]&&(s=debuglogs5[-1][f-1]+c-1,debuglogs5[998][0]==0||debuglogs5[998][s])){debuglogs5[-2][s]||(debuglogs5[-2][s]=f+'.'+c,debuglogs5[0].push(s),(debuglogs5[0].length>debuglogs5[0][0]+3));debuglogs5[f][c]++;let f_count=++debuglogs5[1000+f][0];let g_count=++debuglogs5[999][0];debuglogs5[1000][g_count%1000]=s;debuglogs5[1000+f][f_count%100]=c}};\n    var debuglogs6; function log6(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs6||!debuglogs6[-1])&&(s=2,debuglogs6=Array(1997).fill().map(()=>[]),debuglogs6[-1]=[2],debuglogs6[-2]=[],debuglogs6[0]=[0],debuglogs6[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs6[0][0]+=v,debuglogs6[i+1]=[v,...Array(v).fill(0)],debuglogs6[1001+i]=[0],debuglogs6[999].push(0),s+=v,debuglogs6[-1].push(s)}),debuglogs6[998]=[0,1,...Array(debuglogs6[0][0]).fill(1)],debuglogs6[998][0]=debuglogs6[998].filter(x=>!x).length-1,debuglogs6[1000]=[0],(() => { for(let f_idx=1; f_idx<=119; ++f_idx){ if(!debuglogs6[f_idx] || debuglogs6[f_idx][0]===0) continue; for(let c_idx=1; c_idx<=debuglogs6[f_idx][0]; ++c_idx){ let s_val = debuglogs6[-1][f_idx-1]+c_idx-1; debuglogs6[-2][s_val] = f_idx+'.'+c_idx; debuglogs6[0].push(s_val); }} })(),log6(1,1));if(debuglogs6[998][1]&&(s=debuglogs6[-1][f-1]+c-1,debuglogs6[998][0]==0||debuglogs6[998][s])){debuglogs6[f][c]++;debuglogs6[999][f]=++debuglogs6[1000+f][0];debuglogs6[1000][0]=++debuglogs6[999][0];debuglogs6[1000][(debuglogs6[1000][0]%1000)+1]=s;debuglogs6[1000+f][(debuglogs6[1000+f][0]%100)+1]=c}};\n    var debuglogs7; function log7(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs7||!debuglogs7[-1])&&(s=2,debuglogs7=Array(1997).fill().map(()=>[]),debuglogs7[-1]=[2],debuglogs7[-2]=[],debuglogs7[0]=[0],debuglogs7[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs7[0][0]+=v,debuglogs7[i+1]=[v,...Array(v).fill(0)],debuglogs7[1001+i]=new Int32Array(100),debuglogs7[999].push(0),s+=v,debuglogs7[-1].push(s)}),debuglogs7[998]=[0,1,...Array(debuglogs7[0][0]).fill(1)],debuglogs7[998][0]=debuglogs7[998].filter(x=>!x).length-1,debuglogs7[1000]=new Int32Array(1000),(()=>{for(let f_idx=1;f_idx<=119;++f_idx){if(!debuglogs7[f_idx]||debuglogs7[f_idx][0]===0)continue;for(let c_idx=1;c_idx<=debuglogs7[f_idx][0];++c_idx){let s_val=debuglogs7[-1][f_idx-1]+c_idx-1;debuglogs7[-2][s_val]=f_idx+'.'+c_idx;debuglogs7[0].push(s_val)}}})(),log7(1,1));if(debuglogs7[998][1]&&(s=debuglogs7[-1][f-1]+c-1,debuglogs7[998][0]==0||debuglogs7[998][s])){debuglogs7[f][c]++;let f_count=++debuglogs7[1000+f][0];let g_count=++debuglogs7[999][0];debuglogs7[1000][g_count%1000]=s;debuglogs7[1000+f][f_count%100]=c}};\n    var debuglogs8; function log8(f,c){let s;c==void 0&&!isNaN(f)&&([f,c]=(''+f).split('.').map(Number));(!debuglogs8||!debuglogs8[\"-1\"])&&(s=2,debuglogs8=Array(1997).fill().map(()=>[]),debuglogs8[\"-1\"]=[2],debuglogs8[\"-2\"]=[],debuglogs8[0]=[0],debuglogs8[999]=[0],[63,...Array(99).fill(0),2,2,13,1,1,6,2,1,3,2,1,2,1,1,2,2].forEach((v,i)=>{debuglogs8[0][0]+=v,debuglogs8[i+1]=[v,...Array(v).fill(0)],debuglogs8[1001+i]=[0],debuglogs8[999].push(0),s+=v,debuglogs8[\"-1\"].push(s)}),debuglogs8[998]=[0,1,...Array(debuglogs8[0][0]).fill(1)],debuglogs8[998][0]=debuglogs8[998].filter(x=>!x).length-1,debuglogs8[1000]=[0],log8(1,1));if(debuglogs8[998][1]&&(s=debuglogs8[\"-1\"][f-1]+c-1,debuglogs8[998][0]==0||debuglogs8[998][s])){debuglogs8[\"-2\"][s]||(debuglogs8[\"-2\"][s]=f+'.'+c,debuglogs8[0].push(s),(debuglogs8[0].length>debuglogs8[0][0]+3||debuglogs8[1000].length>1003||debuglogs8[1000+f].length>103));debuglogs8[f][c]++;debuglogs8[999][f]=++debuglogs8[1000+f][0];debuglogs8[1000][0]=++debuglogs8[999][0];debuglogs8[1000][(debuglogs8[1000][0]%1000)+1]=debuglogs8[\"-2\"][s];debuglogs8[1000+f][(debuglogs8[1000+f][0]%100)+1]=c}};\n\n    document.addEventListener('DOMContentLoaded', () => {\n        class BenchmarkApp {\n            constructor() {\n                this.config = {\n                    runsPerType: 70, iterationsPerRun: 1000000, runsToDiscard: 10,\n                    descriptiveNames: {\n                        'log1':'log1 (&, Read Str)','log2':'log2 (%, Read Str)','log3':'log3 (%, Alloc Str)',\n                        'log4':'log4 (%, Write Num)','log5':'log5 (%, TypedArray)','log6':'log6 (%, Branchless)',\n                        'log7':'log7 (%, Branchless TypedArray)','log8':'log8 (%, Read str,[\"-1\"])'\n                    },\n                    scenarioDescriptions: {\n                        repeated: \"<b>Repeated (Hot Cache):</b> Calls <code>log(1, 8)</code> repeatedly.\",\n                        sequential: \"<b>Sequential (Warm Cache):</b> Calls <code>log(1, k)</code>, with <code>k</code> cycling from 1 to 63.\",\n                        predictable_random: \"<b>Predictable Random:</b> Pre-generated, shuffled calls.\",\n                        pure_random: \"<b>Pure Random:</b> Completely random calls.\"\n                    }\n                };\n                this._state = { subjects: [], history: [], callData: null };\n                this._ui = {};\n                \n                this._cacheUiElements();\n                this._bindEventListeners();\n                this._discoverStaticContestants();\n                this.renderFullSubjectList();\n                this.updateScenarioInfo();\n            }\n\n            _cacheUiElements() {\n                const ids = ['subject-list','evalCodeInput','runBenchmarkBtn','progressContainer','historyContainer','historyList','resultsContainer','scenario-info','statsToggle'];\n                ids.forEach(id => {\n                    const camelCaseId = id.replace(/-(\\w)/g, (_, c) => c.toUpperCase());\n                    this._ui[camelCaseId] = document.getElementById(id);\n                });\n            }\n\n            _bindEventListeners() {\n                this._ui.runBenchmarkBtn.addEventListener('click', () => this.run());\n                this._ui.statsToggle.addEventListener('change', () => this.toggleDetailsVisibility());\n                document.getElementById('executeCodeBtn').addEventListener('click', () => this.executeDynamicCode());\n                document.getElementById('evalCodeFile').addEventListener('change', (e) => this._handleFileLoad(e));\n                document.querySelectorAll('input[name=\"scenario\"]').forEach(radio => radio.addEventListener('change', () => this.updateScenarioInfo()));\n                this._ui.subjectList.addEventListener('change', (e) => this._handleSubjectListChange(e));\n                this._ui.subjectList.addEventListener('click', (e) => this._handleSubjectListClick(e));\n                this._ui.historyList.addEventListener('click', (e) => this._handleHistoryClick(e));\n            }\n\n            _discoverStaticContestants() {\n                this._state.subjects = [];\n                for (let i = 1; window['log' + i]; i++) {\n                    const funcName = 'log' + i;\n                    this._state.subjects.push({\n                        id: funcName, name: this.config.descriptiveNames[funcName] || `${funcName} (Discovered)`,\n                        func: window[funcName], reset: () => { window['debug' + funcName] = null; }, isDynamic: false\n                    });\n                }\n            }\n            \n            _getContestantNamesFromCode(code) {\n                return Array.from(new Set(Array.from(code.matchAll(/(?:function\\s+(log\\d+))|(?:var\\s+(debuglogs\\d+))/g), m => 'log' + (m[1] || m[2]).replace(/\\D/g, ''))));\n            }\n\n            executeDynamicCode() {\n                const code = this._ui.evalCodeInput.value.trim();\n                if (!code) return alert(\"Code input is empty.\");\n                const targetFuncNames = this._getContestantNamesFromCode(code);\n                if (targetFuncNames.some(name => this._state.subjects.find(s => s.id === name) && !confirm(`This code defines '${name}', which already exists. Overwrite?`))) return;\n                try {\n                    eval.call(window, code);\n                    alert(\"Code executed successfully.\");\n                    this._ui.evalCodeInput.value = '';\n                    targetFuncNames.forEach(name => this.updateOrAddContestant(name));\n                } catch (e) { alert(`Error executing code: ${e.message}`); }\n            }\n\n            updateOrAddContestant(funcName) {\n                if (!funcName || typeof window[funcName] !== 'function') return;\n                let subject = this._state.subjects.find(s => s.id === funcName);\n                if (subject) {\n                    subject.func = window[funcName];\n                    if (!subject.isDynamic) { subject.name = `${funcName} (Dynamic - Modified)`; subject.isDynamic = true; }\n                } else {\n                    this._state.subjects.push({\n                        id: funcName, name: `${funcName} (Dynamic)`, func: window[funcName],\n                        reset: () => { window['debug' + funcName] = null; }, isDynamic: true\n                    });\n                }\n                this.renderFullSubjectList();\n            }\n\n            removeDynamicContestant(subjectId) {\n                this._state.subjects = this._state.subjects.filter(s => s.id !== subjectId);\n                try { delete window[subjectId]; delete window['debug' + subjectId]; } catch(e) {}\n                this.renderFullSubjectList();\n            }\n\n            run() {\n                const subjects = this._state.subjects.filter(s => document.querySelector(`input[name=\"subject\"][value=\"${s.id}\"]`)?.checked);\n                if (subjects.length < 1) return alert(\"Please select at least one version to test.\");\n                \n                this._ui.runBenchmarkBtn.disabled = true; this._ui.runBenchmarkBtn.textContent = 'Running...';\n                this._ui.resultsContainer.innerHTML = '';\n                this._ui.progressContainer.innerHTML = 'Generating call data...';\n                this._ui.progressContainer.style.display = 'block';\n\n                setTimeout(() => {\n                    if (!this._state.callData) this._generateCallData();\n                    this._ui.progressContainer.innerHTML = subjects.map((s, i) => `<div class=\"progress-item\"><label>${s.name}</label><div class=\"progress-bar\"><div class=\"progress-bar-fill\" id=\"progress-fill-${i}\"></div></div></div>`).join('');\n                    setTimeout(() => {\n                        const allTimes = this._runSynchronousChunks(subjects);\n                        this._finishBenchmark(allTimes, subjects);\n                    }, 50);\n                }, 50);\n            }\n\n            _runSynchronousChunks(subjects) {\n                const allTimes = subjects.map(() => []);\n                const resetStrategy = document.querySelector('input[name=\"resetStrategy\"]:checked').value;\n                const getCallParams = this._getCallParamsGenerator();\n                const { iterationsPerRun, runsPerType } = this.config;\n                \n                const innerLoop = (subject) => { for (let k = 0; k < iterationsPerRun; k++) { const call = getCallParams(k); subject.func(call[0], call[1]); }};\n                if (resetStrategy === 'perRun') this._state.subjects.forEach(s => s.reset());\n\n                // CORRECTED LOOP ORDER: 70 -> contestants -> 200k\n                for (let j = 0; j < runsPerType; j++) {\n                    subjects.forEach((subject, i) => {\n                        if (resetStrategy === 'perSample') subject.reset();\n                        const start = performance.now();\n                        try { \n                            innerLoop(subject); \n                            allTimes[i].push(performance.now() - start);\n                        } catch (e) { \n                            allTimes[i].push(0); \n                            console.error(`Benchmark for ${subject.name} failed:`, e); \n                        }\n                    });\n                }\n                \n                subjects.forEach((_, i) => { document.getElementById(`progress-fill-${i}`).style.width = '100%'; });\n                return allTimes;\n            }\n\n            _getCallParamsGenerator() {\n                 const scenario = document.querySelector('input[name=\"scenario\"]:checked').value;\n                 switch (scenario) {\n                    case 'repeated': return () => [1, 8];\n                    case 'sequential': return (k) => [1, (k % 63) + 1];\n                    case 'predictable_random': return (k) => this._state.callData.predictableRandom[k % this._state.callData.predictableRandom.length];\n                    case 'pure_random': return (k) => this._state.callData.pureRandom[k];\n                    default: return () => [1,1];\n                }\n            }\n\n            _finishBenchmark(allTimes, subjects) {\n                this._ui.progressContainer.style.display = 'none';\n                const { runsToDiscard } = this.config;\n                const processedResults = allTimes.map((times, index) => {\n                    const validTimes = times.slice(runsToDiscard, -runsToDiscard).filter(t => t > 0);\n                    const average = validTimes.length > 0 ? validTimes.reduce((a, b) => a + b, 0) / validTimes.length : 0;\n                    return { name: subjects[index].name, average, allRuns: times, validRunsCount: validTimes.length };\n                });\n                \n                const scenarioInput = document.querySelector('input[name=\"scenario\"]:checked');\n                const resetInput = document.querySelector('input[name=\"resetStrategy\"]:checked');\n                this._state.history.unshift({\n                    timestamp: new Date(),\n                    scenario: scenarioInput.labels[0].textContent.trim(),\n                    resetStrategy: resetInput.labels[0].textContent.trim(),\n                    resetStrategyRaw: resetInput.value,\n                    results: processedResults, allTimes, subjects\n                });\n\n                this.updateHistoryUI();\n                this.renderResults(0);\n                this._ui.runBenchmarkBtn.disabled = false;\n                this._ui.runBenchmarkBtn.textContent = 'Run Benchmark Again';\n            }\n\n            _generateCallData() {\n                const counts = [63, ...Array(99).fill(0), 2, 2, 13, 1, 1, 6, 2, 1, 3, 2, 1, 2, 1, 1, 2, 2];\n                const validPairs = counts.flatMap((count, funcIndex) => Array.from({ length: count }, (_, i) => [funcIndex + 1, i + 1]));\n                const predictableRandom = [...validPairs];\n                for (let i = predictableRandom.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [predictableRandom[i], predictableRandom[j]] = [predictableRandom[j], predictableRandom[i]]; }\n                const pureRandom = Array.from({ length: this.config.iterationsPerRun }, () => validPairs[Math.floor(Math.random() * validPairs.length)]);\n                this._state.callData = { predictableRandom, pureRandom };\n            }\n\n            renderFullSubjectList() {\n                const checkedState = Object.fromEntries(Array.from(this._ui.subjectList.querySelectorAll('input[name=\"subject\"]')).map(cb => [cb.value, cb.checked]));\n                const subjectsHtml = this._state.subjects.map(subject => this._buildSubjectHtml(subject, checkedState[subject.id] ?? true)).join('');\n                this._ui.subjectList.innerHTML = `<label style=\"font-weight: bold; display: block; margin-bottom: 10px; border-bottom: 1px solid var(--c-border); padding-bottom: 8px;\"><input type=\"checkbox\" id=\"checkAllSubjects\"> Select All / None</label>${subjectsHtml}`;\n                this.updateCheckboxState();\n            }\n\n            _buildSubjectHtml(subject, isChecked) {\n                const deleteBtn = subject.isDynamic ? `<span class=\"delete-btn\" data-id=\"${subject.id}\" title=\"Delete this contestant\">[x]</span>` : '';\n                return `<label><input type=\"checkbox\" name=\"subject\" value=\"${subject.id}\" ${isChecked ? 'checked' : ''}> ${subject.name} ${deleteBtn}</label>`;\n            }\n\n            updateCheckboxState() {\n                const subjectCheckboxes = this._ui.subjectList.querySelectorAll('input[name=\"subject\"]');\n                const allChecked = subjectCheckboxes.length > 0 && Array.from(subjectCheckboxes).every(c => c.checked);\n                const checkAll = this._ui.subjectList.querySelector('#checkAllSubjects');\n                if (checkAll) checkAll.checked = allChecked;\n            }\n\n            updateHistoryUI() {\n                this._ui.historyContainer.style.display = 'block';\n                this._ui.historyList.innerHTML = this._state.history.map((entry, index) =>\n                    `<li><a href=\"#\" data-history-index=\"${index}\">Run #${this._state.history.length - index}: ${entry.scenario} (${entry.resetStrategy}) - ${entry.timestamp.toLocaleTimeString()}</a></li>`\n                ).join('');\n            }\n\n            renderResults(historyIndex) {\n                const { results, allTimes, subjects, resetStrategyRaw } = this._state.history[historyIndex];\n                this._ui.historyList.querySelectorAll('li').forEach(li => li.classList.remove('active'));\n                this._ui.historyList.querySelector(`a[data-history-index=\"${historyIndex}\"]`)?.parentElement.classList.add('active');\n                \n                const enhancedResults = this._calculateResultMetrics(results);\n                this._ui.resultsContainer.innerHTML = `\n                    <h2>Summary</h2>\n                    ${this._buildNotesHtml(resetStrategyRaw)}\n                    ${this._buildSummaryHtml(enhancedResults)}\n                    <div id=\"rawStatsContainer\">${this._buildDetailsHtml(subjects, allTimes, resetStrategyRaw)}</div>\n                `;\n                this.toggleDetailsVisibility();\n            }\n\n            _calculateResultMetrics(results) {\n                const validAverages = results.map(r => r.average).filter(avg => avg > 0);\n                const baselineTime = validAverages.length > 0 ? Math.min(...validAverages) : 1;\n                return results.map(r => ({ ...r,\n                    multiplier: r.average > 0 ? r.average / baselineTime : 0,\n                    colorClass: r.average > 0 ? (r.average === baselineTime ? 'fast' : 'slow') : 'discarded'\n                }));\n            }\n\n            _buildSummaryHtml(results) {\n                return results.map(r => `<p class=\"summary-line\">${r.name} average: <span class=\"${r.colorClass}\">${r.average.toFixed(3)} ms ${r.multiplier > 0 ? `(${r.multiplier.toFixed(3)}x)` : '(failed)'}</span></p>`).join('');\n            }\n            \n            _buildDetailsHtml(subjects, allTimes, resetStrategyRaw) {\n                const { runsPerType, runsToDiscard } = this.config;\n                const detailsColumns = subjects.map((subject, j) => {\n                    const listItems = Array.from({ length: runsPerType }, (_, i) => {\n                        const isDiscarded = (i < runsToDiscard || i >= runsPerType - runsToDiscard);\n                        const time = allTimes[j]?.[i];\n                        let cssClass = (isDiscarded || !time) ? 'discarded' : '';\n                        if (!cssClass) {\n                            const rowTimes = allTimes.map(sTimes => sTimes?.[i] || Infinity);\n                            cssClass = time === Math.min(...rowTimes) ? 'fast' : 'slow';\n                        }\n                        const isInit = (resetStrategyRaw === 'perSample' && i === 0) || (resetStrategyRaw === 'perRun' && i === 0 && j === 0);\n                        const label = isInit ? `${i + 1} (Init):` : `${i + 1}:`;\n                        return `<li class=\"${cssClass}\">${label} ${time?.toFixed(3) ?? 'N/A'} ms</li>`;\n                    }).join('');\n                    return `<div><h3>${subject.name} Raw</h3><ul class=\"details-list\">${listItems}</ul></div>`;\n                }).join('');\n                return `<div class=\"details-columns\">${detailsColumns}</div>`;\n            }\n\n            _buildNotesHtml(resetStrategyRaw) {\n                const { runsPerType, runsToDiscard } = this.config;\n                const validRunCount = runsPerType - (2 * runsToDiscard);\n                let note = `Averaging the middle ${validRunCount} of ${runsPerType} runs (discards first and last ${runsToDiscard}).`;\n                if (resetStrategyRaw === 'perRun') note += `<br><b>Note:</b> With this strategy, only the first sample of the first contestant includes init cost.`\n                else if (resetStrategyRaw === 'perSample') note += `<br><b>Note:</b> With this strategy, every sample includes init cost.`\n                return `<p style=\"font-size: 0.9em; color: var(--c-text-secondary);\">${note}</p>`;\n            }\n            \n            updateScenarioInfo() { this._ui.scenarioInfo.innerHTML = this.config.scenarioDescriptions[document.querySelector('input[name=\"scenario\"]:checked').value]; }\n            toggleDetailsVisibility() { document.getElementById('rawStatsContainer').style.display = this._ui.statsToggle.checked ? 'block' : 'none'; }\n\n            _handleFileLoad(event) {\n                const file = event.target.files[0]; if (!file) return; const reader = new FileReader();\n                reader.onload = (e) => { this._ui.evalCodeInput.value = e.target.result; };\n                reader.readAsText(file); event.target.value = '';\n            }\n            _handleSubjectListChange(e) {\n                if (e.target.id === 'checkAllSubjects') {\n                    this._ui.subjectList.querySelectorAll('input[name=\"subject\"]').forEach(cb => { cb.checked = e.target.checked; });\n                }\n                this.updateCheckboxState();\n            }\n            _handleSubjectListClick(e) {\n                if (e.target.classList.contains('delete-btn')) {\n                    e.preventDefault(); e.stopPropagation(); this.removeDynamicContestant(e.target.dataset.id);\n                }\n            }\n            _handleHistoryClick(e) {\n                if (e.target.tagName === 'A' && e.target.dataset.historyIndex) {\n                     e.preventDefault(); this.renderResults(parseInt(e.target.dataset.historyIndex, 10));\n                }\n            }\n        }\n        window.app = new BenchmarkApp();\n    });\n</script>\n\n</body>\n</html>\n"
                  },
                  {
                    "name": "primeexp.html",
                    "type": "file",
                    "size": "5,945 bytes",
                    "path": "scratchpad/temp/out/html/primeexp.html",
                    "content": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><title>Prime‑Derivative Match Matrix Explorer</title></head><body><script>const [L,I,D,P,B]=['label','input','div','performance',document.body],[C,T,S,H,W,J]=['className','textContent','style','innerHTML','width','checked'],e={},_=(t,p,a,n=document.createElement(t))=>{if(a)for(let k in a)k==S?Object.assign(n[S],a[k]):n[k]=a[k];return p&&p.appendChild(n),n},s=`body{background:#121212;color:#e0e0e0;font-family:monospace;margin:0;padding:20px}h1{margin-top:0}label{display:block;margin:8px 0 4px}input[type=number]{width:80px;padding:4px;background:#1e1e1e;border:1px solid #444;color:#e0e0e0}button{padding:6px 12px;background:#333;border:1px solid #666;color:#e0e0e0;cursor:pointer}button:disabled{background:#222;color:#666}#C{margin-top:16px;height:70vh;overflow:auto;border:1px solid #333}table{border-collapse:collapse}th,td{border:1px solid #333;width:2em;height:2em;text-align:center;font-size:11px}thead th{position:sticky;top:0;background:#1e1e1e}.r,.Z,.T,.p-w,.p-l{display:flex}.r{align-items:flex-end;flex-wrap:wrap;margin-bottom:10px}.g{display:inline-block;margin-right:10px}.Z{align-items:center;margin-left:15px;padding-bottom:5px}.Z label{margin:0 0 0 5px}.T{align-items:center;gap:15px;margin-bottom:15px}#A{flex-grow:1;display:none;flex-direction:column;gap:4px}.p-w{width:100%;height:12px;background:#333;border-radius:6px;overflow:hidden}.p-f{height:100%;width:0;transition:width .1s linear}#f-p{background-color:#4a90e2}#f-d{background-color:#9013fe}#f-m{background-color:#50e3c2}#f-r{background-color:#f5a623}.p-l span{flex:1;text-align:center}.p-e span{color:#8ab4f8;font-style:italic}#p-t{font-size:14px;color:#50e3c2;text-align:center;margin-top:4px;display:none}`;_('style',B.parentNode.firstChild,{[T]:s});const r1=_(D,B,{[C]:'r'}),r2=_(D,B,{[C]:'r'}),Hl=(p,a)=>{let d=_(D,p,{[C]:'g'});_(L,d,{[T]:a[0]}),e[a[1]]=_(I,d,{id:a[1],type:'number',value:a[2],min:a[3]})};_('h1',B,{[T]:'Prime‑Derivative Match Matrix Explorer'});[['N Primes','N',1e3,10,r1],['Depth','K',100,1,r1],['Matrix Size','M',100,2,r2],['Row Start','RS',0,0,r2],['Row End','RE',99,0,r2],['Col Start','CS',0,0,r2],['Col End','CE',99,0,r2]].forEach(a=>Hl(a[4],[...a]));const z=_(D,r2,{[C]:'Z'});e.Z=_(I,z,{type:'checkbox',id:'Z',title:'Zoom'});_(L,z,{htmlFor:'Z',[T]:'Zoom'});const Tb=_(D,B,{[C]:'T'});e.B=_(...['button',Tb,{[T]:'Generate'}]);const pA=_(D,Tb,{id:'A'}),pL1=_(D,pA,{[C]:'p-l'}),pB=_(D,pA,{[C]:'p-w'}),pL2=_(D,pA,{[C]:'p-l p-e'}),TS=[['Primes','p',.25],['Derivatives','d',.25],['Matrix','m',.25],['Render','r',.25]];TS.forEach(([n,t])=>{_('span',pL1,{id:`cat-${t}`,[T]:n}),e[`f-${t}`]=_(D,pB,{id:`f-${t}`,[C]:'p-f'}),e[`e-${t}`]=_('span',pL2,{id:`e-${t}`})});e.pT=_(D,pA,{id:'p-t'});const O=_(D,B,{id:'C'}),q=_('table',O);e.h=_('thead',q);e.b=_('tbody',q);const ws=`let S={},Q=postMessage,L=Math.log,A=Math.abs;const F=m=>m<1e3?\\`\\${m.toFixed(0)}ms\\`:((s=m/1e3)<60?\\`\\${s.toFixed(1)}s\\`:\\`\\${s/60|0}m \\${s%60}s\\`),T=m=>!isFinite(m)||m<0?\"\":\\`ETA \\${F(m)}\\`,R=(t,c,k)=>{const n=performance.now();S[t]||(S[t]={s:n});const p=c/k*100,d=c>=k;if(d)return Q({type:\"progress\",payload:{task:t,percent:100,doneTime:n-S[t].s}});Q({type:\"progress\",payload:{task:t,percent:p,eta:p>1?T((n-S[t].s)/c*(k-c)):\"\"}})},p=n=>{R(\"p\",0,n);const M=Math.ceil(n*(L(n)+L(L(n))))+10,S=new Uint8Array(M),P=[];for(let i=2,I=n/100|0||1;i<M&&P.length<n;i++)if(!S[i]){P.push(i),P.length%I==0&&R(\"p\",P.length,n);for(let j=i*i;j<M;j+=i)S[j]=1}return R(\"p\",n,n),P},d=(s,k,N)=>{R(\"d\",0,k);const D=[new Int32Array(s)];let c=D[0];for(let i=1,T=N>1e5?Int16Array:Int8Array,I=k/100|0||1;i<=k;i++){if(c.length<=1)return R(\"d\",k,k),D;const n=new T(c.length-1);let a=!0;for(let j=0;j<n.length;j++){const v=A(c[j+1])-A(c[j]);v&&(a=!1),n[j]=v}D.push(c=n),(i%I==0||i==k)&&R(\"d\",i,k);if(a)return R(\"d\",k,k),D}return D},l=(a,b)=>{let n=Math.min(a.length,b.length),r=0,m=0;for(let i=0;i<n;i++)a[i]===b[i]?(r++,r>m&&(m=r)):r=0;return m},b=(D,rs,re,cs,ce)=>{const T=re-rs+1;R(\"m\",0,T);const M=Array.from({length:T},()=>new Uint16Array(ce-cs+1));let x=0;for(let i=rs,I=T/100|0||1;i<=re;i++){for(let j=cs;j<=ce;j++){const v=i===j?0:l(D[i],D[j]);v>x&&(x=v),M[i-rs][j-cs]=v}const p=i-rs+1;(p%I==0||p===T)&&R(\"m\",p,T)}return{M,x}};self.onmessage=({data})=>{S={};Q({type:\"start\"});const P=p(data.N),D=d(P,data.K,data.N),{M,x}=b(D,data.rs,data.re,data.cs,data.ce);Q({type:\"result\",payload:{M,x,...data}})};`,Cg=(v,m)=>`rgb(${18+169*(m?v/m:0)|0},${18+116*(m?v/m:0)|0},${18+234*(m?v/m:0)|0})`,F=ms=>ms<1e3?`${ms.toFixed(0)}ms`:(s=ms/1e3)<60?`${s.toFixed(2)}s`:`${s/60|0}m ${(s%60).toFixed(2)}s`,U=(t,p,m,d)=>{let [,,w]=TS.find(x=>x[1]==t);e[`f-${t}`][S][W]=`${p*w}%`,e[`e-${t}`][T]=d?`Done: ${F(m)}`:`${m}`};let w,G;const R=p=>{const s=window[P].now();U('r',0,'ETA...',!1),e.h[H]='<tr><th></th>'+[...Array(p.ce-p.cs+1)].map((_,i)=>`<th>D<sub>${p.cs+i}</sub></th>`).join('')+'</tr>';let h='';p.M.forEach((W,i)=>{h+=`<tr><th>D<sub>${p.rs+i}</sub></th>${[...W].map(v=>`<td style=\"background-color:${Cg(v,p.x)}\">${v}</td>`).join('')}</tr>`}),e.b[H]=h;U('r',100,window[P].now()-s,!0);e.pT[T]=`Total: ${F(window[P].now()-G)}`;e.pT[S].display='block';e.B.disabled=0,w.terminate()};e.B.onclick=()=>{let p,m=+e.M.value-1;p=e.Z[J]?{rs:+e.RS.value,re:+e.RE.value,cs:+e.CS.value,ce:+e.CE.value}:{rs:0,cs:0,re:m<0?0:m,ce:m<0?0:m};Object.assign(p,{N:+e.N.value,K:+e.K.value});if(p.rs>p.re||p.cs>p.ce||p.K<p.re||p.K<p.ce)return alert('Invalid range or depth');w&&w.terminate();G=window[P].now();w=new Worker(URL.createObjectURL(new Blob([ws],{type:'text/javascript'})));e.B.disabled=1;w.onmessage=({data:{type:t,payload:d}})=>t=='start'?(pA[S].display='flex',e.pT[S].display='none',TS.forEach(([,t])=>{e[`f-${t}`][S][W]='0%',e[`e-${t}`][T]=\"\"})):t=='progress'?U(d.task,d.percent,d.doneTime??d.eta,!!d.doneTime):requestAnimationFrame(()=>R(d));w.onerror=E=>{console.error(E),pA[S].display='none',e.B.disabled=0},w.postMessage(p)};</script></body></html>\n"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "shell",
    "type": "folder",
    "size": "19,088 bytes",
    "path": "shell",
    "children": [
      {
        "name": "1.sh",
        "type": "file",
        "size": "7,767 bytes",
        "path": "shell/1.sh",
        "content": "{\nSOURCE_DIR_DEFAULT=\"$HOME/storage/downloads/\"; DEST_DIR_DEFAULT=\"/storage/9C33-6BBD/dosya taşıma/1. alan/asıl/Download/\"\n\nlister_formatter='{size=$5; split(\"B K M G T P\",u,\" \"); i=1; while(size>=1000&&i<7){size/=1000;i++} size_str=sprintf(\"%.2f%s\",size,u[i]); filename=\"\"; for(j=9; j<=NF; j++) filename=filename (j>9 ? \" \" : \"\") $j; printf \"%-11s %s\\n\", size_str, filename}'\nget_dir_stats() { local path=\"$1\" folders=0 files=0; if [ -d \"$path\" ]; then folders=$(find \"$path\" -mindepth 1 -maxdepth 1 -type d | wc -l); files=$(find \"$path\" -mindepth 1 -maxdepth 1 -type f | wc -l); fi; echo \"$folders $files\"; }\ninteractive_lister() { local list_path=\"$SOURCE_DIR\" list_head=10 list_tail_start=1; while true; do echo -e \"\\n\\033[1;34m--- Interactive Directory Lister ---\\033[0m\"; echo -e \"Current Settings: Path: \\033[1;37m${list_path}\\033[0m | Slice: \\033[1;37m${list_tail_start}-${list_head}\\033[0m largest files\"; read -p \"$(echo -e \"\\033[1;33mActions: (L)ist, (P)ath, (H)ead, (T)ail Start, (R)eset, (Q)uit > \\033[0m\")\" -r choice; choice=${choice,,}; case \"$choice\" in l) echo -e \"\\nListing files for '${list_path}'...\"; if ! [ -d \"$list_path\" ]; then echo -e \"\\033[1;31mError: Directory not found.\\033[0m\"; continue; fi; local tail_count=$((list_head - list_tail_start + 1)); if [ $tail_count -lt 1 ]; then echo -e \"\\033[1;31mError: Tail Start cannot be greater than Head.\\033[0m\"; continue; fi; ls -lS \"${list_path}\" | grep \"^-\" | head -n \"$list_head\" | tail -n \"$tail_count\" | awk \"$lister_formatter\" || echo \"No files found or error in listing.\";; p) read -p \"Set path: (S)ource, (T)arget, or enter custom path > \" -r path_choice; case \"${path_choice,,}\" in s) list_path=\"$SOURCE_DIR\";; t) list_path=\"$DEST_DIR\";; *) list_path=\"$path_choice\";; esac;; h) read -p \"Show top N largest files (Head) [current: $list_head]: \" list_head;; t) read -p \"Start from file rank (Tail Start) [current: $list_tail_start]: \" list_tail_start;; r) list_path=\"$SOURCE_DIR\"; list_head=10; list_tail_start=1; echo \"Settings reset to defaults.\";; q) return;; *) echo -e \"\\033[1;31mInvalid option.\\033[0m\";; esac; done; }\nlist_category() { local title=$1 color_code=$2; declare -n arr=$3; if [ ${#arr[@]} -gt 0 ]; then echo -e \"\\n\\033[1;${color_code}m--- $title (${#arr[@]}) ---\\033[0m\"; for f in \"${!arr[@]}\"; do if [[ \"$3\" == \"sync_pairs\" ]]; then echo \"  '${f}' -> '${arr[$f]}'\"; else echo \"  - $f\"; fi; done; fi; }\n\nrun_analysis() {\n    local SOURCE_DIR=\"${1%/}/\"; local DEST_DIR=\"${2%/}/\"; echo -e \"\\033[1;34m--- Analyzing Directories ---\\033[0m\"; echo -e \"Source: \\033[1;37m$SOURCE_DIR\\033[0m\"; echo -e \"Dest:   \\033[1;37m$DEST_DIR\\033[0m\"; mapfile -t SOURCE_FILES_TO_CHECK < <(find \"$SOURCE_DIR\" -maxdepth 1 -type f -printf \"%f\\n\" 2>/dev/null || true); local TOTAL_TO_CHECK=${#SOURCE_FILES_TO_CHECK[@]}; declare -A sync_pairs not_found_list ambiguous_list; local unpaired_pass1=()\n\n    echo -e \"\\n\\033[1;36mPass 1: Checking for exact matches ($TOTAL_TO_CHECK files)...\\033[0m\"; for source_f in \"${SOURCE_FILES_TO_CHECK[@]}\"; do if [ -f \"${DEST_DIR}${source_f}\" ]; then sync_pairs[\"$source_f\"]=\"$source_f\"; echo -e \"  - (${#sync_pairs[@]}/$TOTAL_TO_CHECK) \\033[1;32mExact Match:\\033[0m '${source_f}'\"; else unpaired_pass1+=(\"$source_f\"); fi; done; echo \"Found ${#sync_pairs[@]} exact matches. ${#unpaired_pass1[@]} files remain.\"\n\n    if [ ${#unpaired_pass1[@]} -gt 0 ]; then read -p \"$(echo -e \"\\033[1;33mAction: Run (F)uzzy search, (S)kip, (I)nject code > \\033[0m\")\" -n 1 -r choice; echo; choice=${choice,,}; case \"$choice\" in f) echo -e \"\\n\\033[1;36mPass 2: Performing fuzzy search...\\033[0m\"; declare -A fuzzy_map; for f in \"${unpaired_pass1[@]}\"; do sanitized_f=$(echo \"$f\" | sed 's/[^a-zA-Z0-9]//g'); fuzzy_map[\"$sanitized_f\"]=\"$f\"; done; while IFS= read -r dest_f; do sanitized_dest=$(echo \"$dest_f\" | sed 's/[^a-zA-Z0-9]//g'); if [[ -n \"${fuzzy_map[$sanitized_dest]}\" ]]; then source_f=\"${fuzzy_map[$sanitized_dest]}\"; source_size=$(stat -c %s \"${SOURCE_DIR}${source_f}\"); dest_size=$(stat -c %s \"${DEST_DIR}${dest_f}\"); if [[ \"$source_size\" == \"$dest_size\" ]]; then sync_pairs[\"$source_f\"]=\"$dest_f\"; echo -e \"  - (${#sync_pairs[@]}/$TOTAL_TO_CHECK) \\033[1;32mFuzzy Match:\\033[0m '${source_f}' -> '${dest_f}'\"; else ambiguous_list[\"$source_f\"]=1; fi; fi; done < <(find \"$DEST_DIR\" -maxdepth 1 -type f -printf \"%f\\n\" 2>/dev/null || true);; i) echo -e \"\\033[1;31mWARNING: Entering interactive shell. Type 'exit' to return.\\033[0m\"; bash;; *) echo \"Skipping fuzzy search.\";; esac; fi\n\n    for f in \"${SOURCE_FILES_TO_CHECK[@]}\"; do if [[ -z \"${sync_pairs[$f]}\" && -z \"${ambiguous_list[$f]}\" ]]; then not_found_list[\"$f\"]=1; fi; done\n\n    echo -e \"\\n\\033[1;35m--- Analysis Complete: Main Menu ---\\033[0m\"; while true; do read -p \"$(echo -e \"\\033[1;33mAction? M:${#sync_pairs[@]} N:${#not_found_list[@]} | (D)irs (L)ist (R)sync (V)erify (S)ubfolders (Q)uit (H)elp > \\033[0m\")\" -r choice; choice=${choice,,}; case \"$choice\" in d) interactive_lister;; l) list_category \"Confirmed Pairs\" \"32\" sync_pairs; list_category \"Not Found\" \"31\" not_found_list; list_category \"Ambiguous\" \"33\" ambiguous_list;; r) if [ ${#not_found_list[@]} -eq 0 ]; then echo \"No 'Not Found' files to rsync.\"; else rsync -av --progress --files-from=<(printf \"%s\\n\" \"${!not_found_list[@]}\") \"$SOURCE_DIR\" \"$DEST_DIR\"; fi;; v) if [ ${#sync_pairs[@]} -eq 0 ]; then echo \"No matched pairs to verify.\"; elif ! command -v sha512sum &> /dev/null; then echo \"Error: 'sha512sum' command not found.\"; else echo -e \"\\033[1;33mVerifying ${#sync_pairs[@]} pairs (SHA512)...\\033[0m\"; for f in \"${!sync_pairs[@]}\"; do echo -n \"Verifying '$f'... \"; H1=$(sha512sum \"${SOURCE_DIR}$f\" | cut -d' ' -f1); H2=$(sha512sum \"${DEST_DIR}${sync_pairs[$f]}\" | cut -d' ' -f1); if [[ \"$H1\" == \"$H2\" ]]; then echo -e \"\\033[1;32mOK\\033[0m\"; else echo -e \"\\033[1;31mFAIL\\033[0m\"; fi; done; echo \"Verification complete.\"; fi;; s) mapfile -t subdirs < <( (find \"$SOURCE_DIR\" -mindepth 1 -maxdepth 1 -type d -printf \"%f\\n\" 2>/dev/null; find \"$DEST_DIR\" -mindepth 1 -maxdepth 1 -type d -printf \"%f\\n\" 2>/dev/null) | sed 's/^[ \\t]*//;s/[ \\t]*$//' | sort -u ); if [ ${#subdirs[@]} -eq 0 ]; then echo \"No subfolders found.\"; else echo -e \"\\nCalculating content stats...\"; local total_folders=${#subdirs[@]}; echo -e \"\\033[1;33mFormat (#/${total_folders}): Status, Contents (F:S-D, f:S-D), Name\\033[0m\"; i=1; for dir in \"${subdirs[@]}\"; do read src_folders src_files < <(get_dir_stats \"${SOURCE_DIR}${dir}\"); read dst_folders dst_files < <(get_dir_stats \"${DEST_DIR}${dir}\"); status=\"\"; if [ -d \"${SOURCE_DIR}${dir}\" ] && [ -d \"${DEST_DIR}${dir}\" ]; then status=\"\\033[1;32m[B]\\033[0m\"; elif [ -d \"${SOURCE_DIR}${dir}\" ]; then status=\"\\033[1;33m[S]\\033[0m\"; else status=\"\\033[1;36m[D]\\033[0m\"; fi; echo -e \"($i/$total_folders) $status F:${src_folders}-${dst_folders} f:${src_files}-${dst_files} $dir\"; ((i++)); done; read -p \"Select #, type name, or (C)ancel: \" sel; if [[ ${sel,,} != \"c\" && -n \"$sel\" ]]; then if [[ $sel =~ ^[0-9]+$ ]] && [ $sel -ge 1 ] && [ $sel -le ${#subdirs[@]} ]; then sel=\"${subdirs[$((sel-1))]}\"; fi; echo -e \"\\n\\033[1;31m--- Descending into: '$sel' ---\\033[0m\\n\"; run_analysis \"${SOURCE_DIR}${sel}\" \"${DEST_DIR}${sel}\"; echo -e \"\\n\\033[1;31m--- Returning to parent menu ---\\033[0m\"; fi; fi;; q) echo \"Exiting current menu.\"; return;; h) echo -e \"  (D)irs\\t- Interactive directory lister.\"; echo -e \"  (L)ist\\t- Show files by category.\"; echo -e \"  (R)sync\\t- Copy 'Not Found' files.\"; echo -e \"  (V)erify\\t- SHA512 check matched pairs.\"; echo -e \"  (S)ubfolders\\t- Analyze a subfolder.\"; echo -e \"  (Q)uit\\t- Exit current menu.\";; *) echo -e \"\\033[1;31mInvalid option. Press (H) for help.\\033[0m\";; esac; done\n}\n\nrun_analysis \"$SOURCE_DIR_DEFAULT\" \"$DEST_DIR_DEFAULT\"\necho -e \"\\n\\033[1;32mScript finished.\\033[0m\"\n\n}\n"
      },
      {
        "name": "2.sh",
        "type": "file",
        "size": "1,461 bytes",
        "path": "shell/2.sh",
        "content": "statcomp() { if [[ \"$#\" -lt 2 || \"$#\" -gt 4 ]]; then echo -e \"Usage: statcomp <file1> <file2> [ip1_or_alias] [ip2_or_alias]\\nDefine aliases with: export myphone=\\\"127.0.0.1:5555\\\"\" >&2; return 1; fi; local C=\"\\033[31m\"; local G=\"\\033[32m\"; local R=\"\\033[0m\"; _sc_get_stat_data() { local file=\"$1\"; local target=\"$2\"; local P_FMT=\"%n\\n%s\\n%b\\n%B\\n%F\\n%d\\n%i\\n%h\\n%a\\n%A\\n%u\\n%U\\n%g\\n%G\\n%C\\n%x\\n%y\\n%z\\n%w\\n\"; if [[ -z \"$target\" ]]; then stat --printf=\"$P_FMT\" \"$file\"; else local ip; if [[ \"$target\" == *.* || \"$target\" == *:* ]]; then ip=\"$target\"; else ip=\"${!target:-$target}\"; fi; adb -s \"$ip\" shell \"stat -c \\$'$P_FMT' '$file'\"; fi; }; paste <(_sc_get_stat_data \"$1\" \"$3\") <(_sc_get_stat_data \"$2\" \"$4\") | awk -F'\\t' -v C=\"$C\" -v G=\"$G\" -v R=\"$R\" '{v1[NR]=$1;v2[NR]=$2}END{split(\"1 6 7\",t);for(k in t)N[t[k]]=1;split(\"9 11 13\",t);for(k in t)P[t[k]]=1;split(\"2 9 16 17 18 19\",t);for(k in t)L[t[k]]=1;for(i=1;i<=NR;i++){if(P[i]){m=v1[i]==v2[i]&&v1[i+1]==v2[i+1];s[i]=\"(\"v1[i]\"/\"v1[i+1]\")\"(m?\"🟢\":\"🔴\")(L[i]?(m?G:C):\"\")\"(\"v2[i]\"/\"v2[i+1]\")\"(L[i]?R:\"\");i++}else{e=N[i]?\"⚪\":v1[i]==v2[i]?\"🟢\":\"🔴\";s[i]=v1[i] e \"\" (L[i]?(e==\"🟢\"?G:C):\"\") v2[i] \"\" (L[i]?R:\"\")}}printf(\"  File: %s\\n  Size: %s Blocks: %s IO Block: %s %s\\nDevice: %s  Inode: %s  Links: %s\\nAccess: %s  Uid: %s   Gid: %s\\nContext: %s\\nAccess: %s\\nModify: %s\\nChange: %s\\n Birth: %s\\n\",s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[11],s[13],s[15],s[16],s[17],s[18],s[19])}'; };statcomp;\n"
      },
      {
        "name": "3.sh",
        "type": "file",
        "size": "6,614 bytes",
        "path": "shell/3.sh",
        "content": "richcopy() { local S=\"$1\" D=\"$2\" I=\"$3\" P=\"${4:-8022}\" L=\"$5\" PW=\"$6\" SAFE=\"${7:-0}\" CF=\"${8:-0}\" VI=\"${9:-0}\" BUF=\"${10:-5}\" PT=\"${11:-0}\" HD=\"${12}\" TL=\"${13}\"; [ \"$#\" -lt 2 ] && { echo -e \"\\033[1;33mUsage: richcopy <SRC> <DEST> [IP] [PORT] [LIST] [PASS] [SAFE] [CREATE] [VERIFY_INT] [BUF_SIZE] [PATCH] [HEAD] [TAIL]\\n\\nNote: For statcomp use https://raw.githubusercontent.com/halitziyakartal/test11/main/shell/2.sh\\033[0m\"; return 1; }; unset T E N ID FC SC SF CHK; local T=0 E=0 N=0 ID=\"N\" FC=0 SF=0 CHK=0; local SC=\"ssh -p $P\" WL=\".work_list\"; local LAST_UI_TIME=0 UI_DELAY=30000 NOW=0; local UI_REF=100; ((VI > 0)) && UI_REF=$VI; trap 'echo -e \"\\n\\033[1;31m❌ Interrupted.\\033[0m\"; rm \"$WL\" \".rc_remote_list.txt\" 2>/dev/null; return 1' INT; echo -e \"\\n\\033[1;34m--- ANALYZING ---\\033[0m\"; [ -n \"$PW\" ] && command -v sshpass >/dev/null && SC=\"sshpass -p '$PW' ssh -p $P\"; if [ -n \"$I\" ]; then ID=$(adb -s $I shell \"[ -d '$S' ] && echo Y\"); else [ -d \"$S\" ] && ID=\"Y\"; fi; apply_filter() { local cmd=\"cat\"; [ -n \"$HD\" ] && cmd=\"$cmd | head -n $HD\"; [ -n \"$TL\" ] && cmd=\"$cmd | tail -n $TL\"; eval \"$cmd\"; }; if [ -n \"$L\" ]; then if [ ! -f \"$L\" ]; then if [ -n \"$I\" ] && [ \"$(adb -s $I shell \"[ -f '$L' ] && echo Y\")\" == \"Y\" ]; then echo \"⬇️ Fetching remote list...\"; adb -s $I pull \"$L\" \".rc_remote_list.txt\" >/dev/null; L=\".rc_remote_list.txt\"; else echo \"❌ List missing: $L\"; return 1; fi; fi; local RAW_T=$(awk 'END {print NR}' \"$L\"); cat \"$L\" | apply_filter > \"$WL\"; sed -i 's/\\r$//' \"$WL\"; echo \"\" >> \"$WL\"; local LIST_T=$(grep -cve '^\\s*$' \"$WL\"); print_bar() { echo -ne \"List: $LIST_T/$RAW_T | Total: \\033[1;36m$SF/$CHK\\033[0m | Exists: \\033[1;33m$E\\033[0m | New: \\033[1;32m$((SF-E))\\033[0m\\r\"; }; while read -r f; do [ -z \"$f\" ] && continue; ((CHK++)); local EXISTS=0; if [[ \"$f\" == *.* ]]; then EXISTS=1; elif [ -n \"$I\" ]; then [ \"$(adb -s $I shell \"[ -d '$S/$f' ] && echo Y\")\" == \"Y\" ] && EXISTS=1; else [ -d \"$S/$f\" ] && EXISTS=1; fi; if ((EXISTS)); then ((SF++)); [ -e \"$D/$f\" ] && ((E++)); fi; NOW=${EPOCHREALTIME/./}; if (( NOW - LAST_UI_TIME >= UI_DELAY )); then print_bar; LAST_UI_TIME=$NOW; fi; done < \"$WL\"; print_bar; echo \"\"; T=$SF; elif [ -n \"$I\" ]; then if [ \"$ID\" == \"Y\" ]; then local RL=$(adb -s $I shell \"cd '$S' && find . -type f\" | apply_filter); T=$(echo \"$RL\" | wc -l); E=$(echo \"$RL\" | while read -r f; do [ -e \"$D/${f#./}\" ] && echo 1; done | wc -l); else T=1; [ -e \"$D/$(basename \"$S\")\" ] && E=1 || E=0; fi; echo -e \"Total: $T | Exists: \\033[1;33m$E\\033[0m | New: \\033[1;32m$((T-E))\\033[0m\"; else if [ \"$ID\" == \"Y\" ]; then T=$(find \"$S\" -type f | apply_filter | wc -l); E=\"?\"; else T=1; [ -e \"$D/$(basename \"$S\")\" ] && E=1 || E=0; fi; echo -e \"Total: $T | Exists: \\033[1;33m$E\\033[0m | New: \\033[1;32m$((T-E))\\033[0m\"; fi; local ASK=1; if [[ \"$SAFE\" == \"y\" || \"$SAFE\" == \"Y\" ]]; then ASK=0; elif [[ \"$SAFE\" =~ ^[0-9]+$ ]] && ((SAFE > 0 && T <= SAFE)); then ASK=0; fi; if ((ASK)); then read -p \"Proceed? [y/N] \" c; [[ \"$c\" != \"y\" ]] && rm \"$WL\" \".rc_remote_list.txt\" 2>/dev/null && return 1; fi; if [ ! -d \"$D\" ]; then if [[ \"$CF\" != \"y\" && \"$CF\" != \"Y\" ]]; then read -p \"Create dest? [y/N] \" c; [[ \"$c\" != \"y\" ]] && rm \"$WL\" \".rc_remote_list.txt\" 2>/dev/null && return 1; fi; mkdir -p \"$D\"; fi; local TIMESTAMP=$(date +\"%Y%m%d%H%M%S\"); local LOG=\"/storage/emulated/0/Download/richcopy_log_${TIMESTAMP}.txt\"; > \"$LOG\"; echo \"Log: $LOG\"; if [[ \"$PT\" != \"y\" && \"$PT\" != \"Y\" && \"$PT\" != \"metadata\" && \"$PT\" != \"patch\" ]]; then echo \"[1/2] Syncing...\"; if [ -z \"$I\" ]; then if [ \"$ID\" == \"Y\" ]; then cp -av \"${S%/}/.\" \"$D/\"; else cp -av \"$S\" \"$D/\"; fi; else local CMD=(\"rsync\" \"-rh\" \"--info=progress2\" \"--no-times\" \"-s\" \"-e\" \"$SC\"); if [ \"$E\" != \"?\" ] && ((E > 0 && ASK == 1)); then read -p \"Overwrite $E existing files? [y/N] \" w; [[ \"$w\" != \"y\" ]] && CMD+=(\"--ignore-existing\"); fi; if [ -n \"$L\" ]; then \"${CMD[@]}\" --files-from=\"$WL\" \"$I:$S/\" \"$D/\"; elif [ \"$ID\" == \"Y\" ]; then \"${CMD[@]}\" \"$I:${S%/}/\" \"$D/\"; else \"${CMD[@]}\" \"$I:$S\" \"$D/\"; fi; fi; else echo \"⚠️ Patch Mode: Skipping Data Sync.\"; fi; echo \"[2/2] Metadata (SSH Conveyor)...\"; local PREV_HEIGHT=0; local COLS=$(tput cols); update_dashboard() { local START_LINE=$(grep -n \"^----------------\" \"$LOG\" | tail -n \"$BUF\" | head -n 1 | cut -d: -f1); [ -z \"$START_LINE\" ] && START_LINE=1; local DASHBOARD=$(tail -n \"+$START_LINE\" \"$LOG\"); local NEW_HEIGHT=0; while IFS= read -r line; do local LEN=${#line}; if ((LEN == 0)); then ((NEW_HEIGHT++)); else ((NEW_HEIGHT += (LEN + COLS - 1) / COLS)); fi; done <<< \"$DASHBOARD\"; ((PREV_HEIGHT > 0)) && echo -ne \"\\033[${PREV_HEIGHT}A\"; echo -ne \"\\033[0J\"; echo \"$DASHBOARD\"; PREV_HEIGHT=$NEW_HEIGHT; }; process() { local L_CNT=0 LAST_P=\"\" LAST_F=\"\" LAST_VERIFIED=0; run_verify() { echo \"---------------------------------------------------\" >> \"$LOG\"; echo \"#$1: $2\" >> \"$LOG\"; if [ -n \"$I\" ]; then if [ \"$ID\" == \"Y\" ] || [ -n \"$L\" ]; then statcomp \"$S/${2#./}\" \"$3\" \"$I\" \"127.0.0.1\" < /dev/null >> \"$LOG\"; else statcomp \"$S\" \"$3\" \"$I\" \"127.0.0.1\" < /dev/null >> \"$LOG\"; fi; else statcomp \"$S/${2#./}\" \"$3\" < /dev/null >> \"$LOG\"; fi; update_dashboard; }; while IFS='|' read -r p a m || [ -n \"$p\" ]; do [ -z \"$p\" ] && continue; m=\"${m%$'\\r'}\"; a=\"${a%$'\\r'}\"; f=\"$D/${p#./}\"; [[ -e \"$f\" && \"$m\" == *\"20\"* ]] && { touch -a -d \"$a\" \"$f\"; touch -m -d \"$m\" \"$f\"; }; ((L_CNT++)); NOW=${EPOCHREALTIME/./}; if (( NOW - LAST_UI_TIME >= UI_DELAY )); then echo -ne \"\\rProcessed: $L_CNT / $T\"; LAST_UI_TIME=$NOW; fi; LAST_P=\"$p\"; LAST_F=\"$f\"; if ((VI > 0 && (L_CNT == 1 || L_CNT % VI == 0))); then run_verify \"$L_CNT\" \"$p\" \"$f\"; LAST_VERIFIED=$L_CNT; fi; done; if ((VI > 0 && L_CNT > 0 && L_CNT != LAST_VERIFIED)); then run_verify \"$L_CNT (LAST)\" \"$LAST_P\" \"$LAST_F\"; fi; echo -ne \"\\rProcessed: $L_CNT / $T\"; echo \"COUNT=$L_CNT\" >> \"$LOG\"; }; if [ -z \"$I\" ]; then if [[ \"$PT\" == \"y\" || \"$PT\" == \"Y\" ]]; then find \"$S\" -printf \"%P|%x|%y\\n\" | apply_filter | process; fi; elif [ -n \"$L\" ]; then local R_TMP=\"/storage/emulated/0/Download/rc_list_${TIMESTAMP}.txt\"; adb -s $I push \"$WL\" \"$R_TMP\" >/dev/null; $SC $I \"cd '$S' && while read f; do find \\\"\\$f\\\" -exec stat -c '%n|%x|%y' {} + || true; done < '$R_TMP'; rm '$R_TMP'\" | process; elif [ \"$ID\" == \"Y\" ]; then local SR=$(dirname \"${S%/}\"); local TG=$(basename \"${S%/}\"); $SC $I \"cd '$SR' && find '$TG' -exec stat -c '%n|%x|%y' {} +\" | apply_filter | process; else $SC $I \"stat -c '%n|%x|%y' '$S'\" | apply_filter | process; fi; local FINAL_COUNT=$(grep \"COUNT=\" \"$LOG\" | tail -n 1 | cut -d= -f2); echo -e \"\\n✅ Done. Processed $FINAL_COUNT items.\"; trap - INT; [ -f \"$WL\" ] && rm \"$WL\" \".rc_remote_list.txt\" 2>/dev/null; };richcopy;\n"
      },
      {
        "name": "4.sh",
        "type": "file",
        "size": "1,392 bytes",
        "path": "shell/4.sh",
        "content": "statfilelist() { local D=\"$1\" O=\"$2\" SI=\"$3\" DI=\"$4\" L=\"$5\" PR=\"${6:-adb}\" PO=\"${7:-8022}\" C=\"${8:-0}\"; [[ -z \"$O\" ]] && { echo \"Usage: statfilelist <dir> <out> [src] [dst] [list] [proto] [port] [confirm]\" >&2; return 1; }; _x() { if [[ -n \"$1\" ]]; then [[ \"$PR\" == \"ssh\" ]] && ssh -p \"$PO\" \"$1\" \"$2\" || adb -s \"$1\" shell \"$2\"; else eval \"$2\"; fi; }; local E=$(_x \"$DI\" \"[ -e \\\"$O\\\" ] && echo 1\"); if [[ \"$E\" == \"1\" ]]; then [[ \"$((C&2))\" -eq 0 ]] && { read -p \"Overwrite '$O'? [y/N] \" -n 1 -r; echo; [[ ! $REPLY =~ ^[Yy]$ ]] && return 1; }; else [[ \"$((C&1))\" -eq 0 ]] && { read -p \"Create '$O'? [y/N] \" -n 1 -r; echo; [[ ! $REPLY =~ ^[Yy]$ ]] && return 1; }; fi; local CMD=\"export LC_ALL=C.UTF-8; T=\\$(mktemp); trap 'rm -f \\$T' EXIT; $([[ -n \"$L\" ]] && echo \"cat \\\"$L\\\"\" || echo \"find \\\"$D\\\" -maxdepth 1 -type f\") | sort > \\$T; TOT=\\$(wc -l < \\$T); echo \\\"Total: \\$TOT\\\" >&2; echo '{\\\"data\\\":[\\\"'; cat \\$T | tr '\\n' '\\0' | xargs -0 stat | awk -v M=\\$TOT '{gsub(/\\\"/, \\\"\\\\\\\\\\\\\\\"\\\")} /^ *File: /{if(N++>0) printf \\\"\\\\\\\",\\\\n\\\\\\\"\\\"; if(N%1000==0) printf \\\"\\\\r\\\\033[1;33mStat: %d/%d\\\\033[0m\\\", N, M > \\\"/dev/stderr\\\"} {print}'; echo '\\\"], \\\"map\\\":{'; awk '{gsub(/\\\"/, \\\"\\\\\\\\\\\\\\\"\\\", \\$0); printf \\\"\\\\\\\"%s\\\\\\\":%d,\\\\n\\\", \\$0, NR-1}' \\$T | sed '\\$ s/,\\$//'; echo '}}'\"; if [[ \"$SI\" == \"$DI\" ]]; then _x \"$SI\" \"$CMD > \\\"$O\\\"\"; else _x \"$SI\" \"$CMD\" | _x \"$DI\" \"cat > \\\"$O\\\"\"; fi; echo -e \"\\nDone.\"; }\n"
      },
      {
        "name": "5.sh",
        "type": "file",
        "size": "1,854 bytes",
        "path": "shell/5.sh",
        "content": "deleter() { local S=\"$1\" D=\"$2\" I=\"$3\" P=\"${4:-8022}\" L=\"$5\" H=\"$6\" TL=\"$7\"; [ -z \"$S\" ] && echo \"Using $(pwd)\" || { echo \"CD $S\"; cd \"$S\" || return 1; }; { touch t1 t2 t3 t4; echo -e \"\\033[1;34m--- STEP 1: Slicing List ---\\033[0m\"; head -n \"$H\" \"$L\" | tail -n \"$TL\" | tr -d '\\r' > t1; local TOT=$(awk 'END {print NR}' t1); local CNT=0 FOUND=0 LAST=0 NOW=0; echo -e \"\\033[1;34m--- STEP 2: Local Scan ---\\033[0m\"; printf \"\\r> Scanned: 0 / %d | Found: 0\" \"$TOT\" >&2; while read -r f || [ -n \"$f\" ]; do [ -z \"$f\" ] && continue; if [ -f \"$f\" ]; then echo \"$f\"; ((FOUND++)); fi; ((CNT++)); NOW=${EPOCHREALTIME/./}; if ((CNT==1 || NOW-LAST>=30000)); then printf \"\\r> Scanned: %d / %d | Found: \\033[1;33m%d\\033[0m\" \"$CNT\" \"$TOT\" \"$FOUND\" >&2; LAST=$NOW; fi; done < t1 > t2; printf \"\\r> Local Scan: \\033[1;32mDONE\\033[0m. Found \\033[1;32m%d\\033[0m existing files. \\033[K\\n\" \"$FOUND\" >&2; echo -e \"\\033[1;34m--- STEP 3: Remote Scan ---\\033[0m\"; CNT=0; LAST=0; printf \"\\r> Found Remote: 0\" >&2; cat t1 | ssh -p \"$P\" \"$I\" \"cd \\\"$D\\\" && while read -r r || [ -n \\\"\\$r\\\" ]; do [ -z \\\"\\$r\\\" ] && continue; [ -f \\\"\\$r\\\" ] && echo \\\"\\$r\\\"; done\" | while read -r f || [ -n \"$f\" ]; do [ -z \"$f\" ] && continue; echo \"$f\"; ((CNT++)); NOW=${EPOCHREALTIME/./}; if ((CNT==1 || NOW-LAST>=30000)); then printf \"\\r> Found Remote: \\033[1;32m%d\\033[0m\" \"$CNT\" >&2; LAST=$NOW; fi; done > t3; printf \"\\r> Remote Scan: \\033[1;32mDONE\\033[0m. Found \\033[1;32m%d\\033[0m matches. \\033[K\\n\" \"$CNT\" >&2; grep -Fxf t3 t2 > t4 || true; echo -e \"\\n\\033[1;36m=== SUMMARY ===\\033[0m\\nRequested  : $TOT\\nFound Here : $(wc -l < t2)\\nFound Remote: $(wc -l < t3)\\n\\033[1;31mTO DELETE  : $(wc -l < t4)\\033[0m (Overlap)\\n----------------\\nFirst: $(head -n 1 t4)\\nLast : $(tail -n 1 t4)\\n\"; read -p \"Delete 'TO DELETE' files? (y/n) \" c; [ \"$c\" = \"y\" ] && xargs -d '\\n' -a t4 rm -v; rm t1 t2 t3 t4; }; }\n"
      },
      {
        "name": "old",
        "type": "folder",
        "size": "0 bytes",
        "path": "shell/old",
        "children": [
          {
            "name": "3old1.sh",
            "type": "file",
            "size": "0 bytes",
            "path": "shell/old/3old1.sh",
            "content": "REDACTED"
          },
          {
            "name": "3old2.sh",
            "type": "file",
            "size": "0 bytes",
            "path": "shell/old/3old2.sh",
            "content": "REDACTED"
          },
          {
            "name": "3old3.sh",
            "type": "file",
            "size": "0 bytes",
            "path": "shell/old/3old3.sh",
            "content": "REDACTED"
          },
          {
            "name": "5old1.sh",
            "type": "file",
            "size": "0 bytes",
            "path": "shell/old/5old1.sh",
            "content": "REDACTED"
          }
        ]
      }
    ]
  },
  {
    "name": "text",
    "type": "folder",
    "size": "1 bytes",
    "path": "text",
    "children": [
      {
        "name": "foldermake.txt",
        "type": "file",
        "size": "1 bytes",
        "path": "text/foldermake.txt",
        "content": "\n"
      }
    ]
  },
  {
    "name": "things",
    "type": "folder",
    "size": "6,337 bytes",
    "path": "things",
    "children": [
      {
        "name": "esp32",
        "type": "folder",
        "size": "6,337 bytes",
        "path": "things/esp32",
        "children": [
          {
            "name": "sentry1.cpp",
            "type": "file",
            "size": "6,337 bytes",
            "path": "things/esp32/sentry1.cpp",
            "content": "#include <WiFi.h>\n#include <WebServer.h>\n#include <esp_wifi.h>\n#include <math.h>\n#define R return\n#define C esp_wifi_set_\n#define Z(v) if(v>3.14159)v-=6.28318;if(v<-3.14159)v+=6.28318\nstruct V{float x,p,a,o,lp,ld;int s,zc;};\nstruct L{uint32_t t;float p,v;};\nstruct F{float mn,mx;int pt;};\nV m[64];L h[200];int hx=0;uint32_t T;bool Ld=0,Cmp=0;\nWebServer S(80);int i;int8_t b[512];float l,d,cm,tm,iv,Q,al,av;F flt={0.5,50.0,5};\nuint8_t pkt[]={0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00};\nconst char* P=R\"===(<body style=\"margin:0;background:#050505;color:#ccc;font-family:sans-serif;overflow:hidden\">\n<canvas id=c></canvas>\n<div style=\"position:absolute;top:0;left:0;width:260px;padding:10px;background:rgba(0,0,0,0.9);border-bottom-right-radius:8px;font-size:12px;border:1px solid #333;border-left:0;border-top:0\">\n <h3 style=\"margin:0 0 5px 0;color:#0f0\">SENTINEL RADAR</h3>\n <div style=\"display:flex;justify-content:space-between;margin-bottom:5px\">\n  <span>STATUS: <b id=st style=\"color:#ff0\">INIT</b></span>\n  <span>LIVE MASS: <b id=ls style=\"color:#fff\">0.0</b></span>\n </div>\n <div style=\"margin-bottom:10px\">\n  <button id=bm onclick=\"tC()\" style=\"width:100%;padding:5px;background:#333;color:#fff;border:1px solid #555;cursor:pointer\">MODE: ADAPTIVE</button>\n </div>\n <fieldset style=\"border:1px solid #444;margin-bottom:10px;padding:5px\">\n  <legend style=\"color:#0f0\">FILTERS (0 = OFF)</legend>\n  <div style=\"display:flex;justify-content:space-between;margin-bottom:4px\">\n   <span>MIN SIZE:</span><input id=imn value=0.5 style=\"width:50px;background:#222;color:#fff;border:0;text-align:center\">\n  </div>\n  <div style=\"display:flex;justify-content:space-between;margin-bottom:4px\">\n   <span>MAX SIZE:</span><input id=imx value=50.0 style=\"width:50px;background:#222;color:#fff;border:0;text-align:center\">\n  </div>\n  <div style=\"display:flex;justify-content:space-between\">\n   <span>FAN/OSC:</span><input id=ip value=5 style=\"width:50px;background:#222;color:#fff;border:0;text-align:center\">\n  </div>\n  <button onclick=\"uF()\" style=\"width:100%;margin-top:5px;background:#224;color:#fff;border:0;cursor:pointer;padding:4px\">UPDATE FILTERS</button>\n </fieldset>\n <button id=ba onclick=\"tA()\" style=\"width:100%;padding:8px;background:#300;color:#fff;border:1px solid #f00;font-weight:bold;cursor:pointer\">ENABLE AUDIO</button>\n</div>\n<script>\nlet ctx=c.getContext('2d'),w,h,M=[],H=[],Rx=.5,Ry=.5,z=10,cp=0,ae=0,ac,lo=0,lt=0;\nc.width=w=innerWidth;c.height=h=innerHeight;\nfunction tC(){cp=!cp;fetch('/s?m='+(cp?1:0));bm.innerText='MODE: '+(cp?'ORIGINAL':'ADAPTIVE');bm.style.background=cp?'#005':'#333';}\nfunction uF(){fetch(`/f?n=${imn.value}&x=${imx.value}&p=${ip.value}`);}\nfunction tA(){ae=!ae;if(ae){ac=new(window.AudioContext||window.webkitAudioContext)();ba.innerText='AUDIO ARMED';ba.style.background='#050';ba.style.borderColor='#0f0';}else{ba.innerText='ENABLE AUDIO';ba.style.background='#300';ba.style.borderColor='#f00';}}\nfunction bp(f){if(!ae)return;let o=ac.createOscillator(),g=ac.createGain();o.connect(g);g.connect(ac.destination);o.frequency.value=f;o.type='square';o.start();g.gain.setValueAtTime(.1,ac.currentTime);g.gain.exponentialRampToValueAtTime(.001,ac.currentTime+0.1);o.stop(ac.currentTime+0.1);}\nfunction P3(x,y,d){let c=Math.cos(Rx),s=Math.sin(Rx),dc=Math.cos(Ry),ds=Math.sin(Ry);let x1=x,y1=y*c-d*s,z1=y*s+d*c,x2=x1*dc-z1*ds,y2=y1,z2=x1*ds+z1*dc,f=400/(400+z2);return{x:w/2+x2*z*f,y:h/2+y2*z*f,s:f*5}}\nsetInterval(async()=>{\n let d=await(await fetch('/d')).json();M=d.m;H=d.h;st.innerText=d.s;ls.innerText=d.sz.toFixed(2);\n if(d.a&&ae){let now=Date.now(),diff=Math.abs(d.l-lo);\n if(diff>5||now-lt>500){lo=d.l;lt=now;bp(600+d.sz*10);}}\n ctx.fillStyle='#000';ctx.fillRect(0,0,w,h);\n ctx.beginPath();ctx.strokeStyle='#f00';ctx.lineWidth=2;\n H.forEach((p,i)=>{let v=P3(i/3-30,-p.p*20,p.v*10);i?ctx.lineTo(v.x,v.y):ctx.moveTo(v.x,v.y)});ctx.stroke();\n M.forEach((v,i)=>{let p=P3(i-32,-v.x*30,0),cl=`rgba(0,255,0,${1-v.p})`;\n if(v.s==1)cl='#ff0';if(v.s==2)cl='#f00';if(v.s==3)cl='#0ff';\n ctx.fillStyle=cl;ctx.fillRect(p.x,p.y,p.s,p.s*5)})\n},50);\nonmousemove=e=>{if(e.buttons){Rx+=e.movementY*.01;Ry+=e.movementX*.01}}\nonwheel=e=>{z-=e.deltaY*.01}\n</script>)===\";\nvoid r(void*_,wifi_csi_info_t*o){if(o->len>256)R;memcpy(b,o->buf,o->len);l=0;cm=0;tm=0;\nfor(i=0;i<64;i++){float raw=atan2(b[i*2+1],b[i*2]);if(i){d=raw-l;Z(d);raw=m[i-1].x+d;}l=raw;\nfloat delta=raw-m[i].lp;if((delta>0&&m[i].ld<0)||(delta<0&&m[i].ld>0))m[i].zc++;\nif(m[i].zc>0&&rand()%10==0)m[i].zc--;m[i].lp=raw;m[i].ld=delta;\niv=raw-m[i].x;Q=iv*iv;if(Q>.5)Q=1.;else if(Q<.001)Q=1e-6;\nm[i].p+=Q;float k=m[i].p/(m[i].p+.1);m[i].x+=k*iv;m[i].p=(1.-k)*m[i].p;\nif(!Ld){m[i].a=m[i].x;m[i].o=m[i].x;m[i].s=0;}else{\nif(flt.pt>0&&m[i].zc>flt.pt){m[i].s=3;continue;}\nfloat rf=Cmp?m[i].o:m[i].a;float df=fabs(m[i].x-rf);\nif(df>.5){m[i].s=(m[i].p<.01)?1:2;if(m[i].s==2){cm+=i*df;tm+=df;}}\nelse{m[i].s=0;if(!Cmp)m[i].a=m[i].a*.999+m[i].x*.001;}}}\nav=0;if(Ld){if(flt.mn>0&&tm<flt.mn)tm=0;if(flt.mx>0&&tm>flt.mx)tm=0;\nif(tm>0){float p=cm/tm,v=0;int lx=hx?hx-1:199;al=p;av=1;\nif(h[lx].t>0){float dt=(millis()-h[lx].t)/1000.;if(dt>0)v=(p-h[lx].p)/dt;}\nh[hx]={millis(),p,v};hx=(hx+1)%200;}}\nvoid setup(){T=millis();WiFi.softAP(\"ESP32_SENTINEL\",\"\");\nfor(i=0;i<64;i++)m[i]={0,1,0,0,0,0,0,0};C csi_rx_cb(r,0);C csi(1);\nwifi_csi_config_t c={1,1,1,1,0,0,0};C csi_config(&c);S.on(\"/\",[](){S.send(200,\"text/html\",P);});\nS.on(\"/s\",[](){if(S.hasArg(\"m\"))Cmp=S.arg(\"m\").toInt();S.send(200,\"text/plain\",\"OK\");});\nS.on(\"/f\",[](){if(S.hasArg(\"n\"))flt.mn=S.arg(\"n\").toFloat();if(S.hasArg(\"x\"))flt.mx=S.arg(\"x\").toFloat();\nif(S.hasArg(\"p\"))flt.pt=S.arg(\"p\").toInt();S.send(200,\"text/plain\",\"OK\");});\nS.on(\"/d\",[](){String j=\"{\\\"s\\\":\\\"\"+String(Ld?\"ARMED\":\"LEARNING\")+\"\\\",\\\"sz\\\":\"+String(tm)+\",\\\"a\\\":\"+String(av)+\",\\\"l\\\":\"+String(al)+\",\\\"m\\\":[\";\nfor(i=0;i<64;i++)j+=(i?\",\":\"\")+String(\"{\\\"x\\\":\")+m[i].x+\",\\\"p\\\":\"+m[i].p+\",\\\"s\\\":\"+m[i].s+\"}\";j+=\"],\\\"h\\\":[\";\nint x=hx;for(int k=0;k<200;k++){if(h[x].t)j+=(k?\",\":\"\")+String(\"{\\\"t\\\":\")+h[x].t+\",\\\"p\\\":\"+h[x].p+\",\\\"v\\\":\"+h[x].v+\"}\";\nx=(x+1)%200;}S.send(200,\"application/json\",j+\"]}\");});S.begin();}\nvoid loop(){S.handleClient();if(!Ld&&millis()-T>60000){Ld=1;for(i=0;i<64;i++)m[i].o=m[i].x;}\nif(Ld){pkt[22]++;esp_wifi_80211_tx(WIFI_IF_AP,pkt,24,1);}delay(5);}\n"
          }
        ]
      }
    ]
  },
  {
    "name": "website_changer.html",
    "type": "file",
    "size": "28,317 bytes",
    "path": "website_changer.html",
    "content": "<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content=\"width=device-width,initial-scale=1\"><title>Website Changer</title><style>:root{--m:#b366ff;--b:#111;--t:#eee;--d:#222;--br:#444}body{margin:0;padding:20px 0 100px;background:#050505;color:var(--t);font:12px monospace;width:100%;overflow-x:hidden}.main{margin:0 auto;width:90%;background:var(--b);border:1px solid var(--m);border-radius:8px;padding:15px;box-shadow:0 0 15px #40f}h3{color:var(--m);margin:0 0 15px;text-align:center;font-size:1.2em;letter-spacing:1px}input,textarea,button{width:100%;background:var(--d);border:1px solid var(--br);color:#fff;padding:10px;box-sizing:border-box;margin-bottom:10px;display:block;font-family:monospace}input[type=file]{padding:5px;background:#1a1a1a;color:#888}textarea{resize:vertical;min-height:80px}.dd-wrap{position:relative;width:100%;margin-bottom:10px}.dd-inp{width:100%;padding-right:30px;margin:0}.dd-arrow{position:absolute;right:1px;top:1px;bottom:1px;width:30px;background:var(--d);border-left:1px solid var(--br);color:#888;cursor:pointer;display:flex;align-items:center;justify-content:center;user-select:none}.dd-arrow:hover{color:#fff}.dd-list{position:absolute;top:100%;left:0;width:100%;background:#151515;border:1px solid var(--m);z-index:99;max-height:200px;overflow-y:auto;display:none;box-shadow:0 5px 15px #000e}.dd-item{padding:10px;border-bottom:1px solid #333;cursor:pointer}.dd-item:hover{background:var(--m);color:#000}.slot-actions{display:flex;gap:10px;margin-bottom:15px;justify-content:flex-end;align-items:center}button{background:var(--m);color:#000;font-weight:700;cursor:pointer}button.sec{background:#333;color:#fff;border:1px solid #555;width:auto;padding:8px 20px;margin:0}button.sec:hover{background:#444}label{color:#aaa;font-size:11px;margin-bottom:4px;display:block;font-weight:bold}.opt-group{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:15px}.opt{display:inline-flex;align-items:center;cursor:pointer;user-select:none;word-spacing:-2px}.opt input{width:auto;margin:0 0 0 4px;accent-color:var(--m)}.grp{display:inline-flex;align-items:center}.head-row{display:flex;align-items:center;gap:10px;margin-bottom:4px;flex-wrap:wrap}.cors-group{display:flex;align-items:center;gap:6px;position:relative}.cors-lbl{color:#aaa;cursor:pointer;display:flex;align-items:center;font-size:11px;font-weight:700;margin:0}.cors-lbl input{margin:0 0 0 4px;width:auto}.with-txt{color:#666;font-size:11px;font-weight:700}.p-wrap{display:inline-block;position:static;font-size:11px}.p-head{background:transparent;border:none;padding:0;cursor:pointer;color:#ccc;font-weight:700;display:flex;align-items:center;gap:4px}.p-head:hover{color:#fff}.p-drop{position:absolute;top:100%;left:0;min-width:100%;width:max-content;background:#181818;border:1px solid #444;z-index:200;display:none;box-shadow:0 5px 10px #000}.p-row{display:flex;flex-direction:column;border-bottom:1px solid #333;padding:4px}.p-name{flex-grow:1;cursor:pointer;padding:0 8px;display:flex;flex-direction:column}.p-name span{white-space:nowrap}.p-name small{font-size:9px;color:#777;font-weight:400}.p-url{font-size:9px;color:#555;line-height:1.4;word-break:break-all;white-space:pre-wrap}.p-name:hover{color:#fff}.p-name.sel{color:var(--m)}.p-left{display:flex;gap:1px;margin-right:5px;margin-top:2px}.p-right{display:flex;gap:1px;margin-top:2px}.p-btn{width:1.3em;height:1.3em;margin:0;padding:0;font-size:inherit;line-height:1.1;text-align:center;background:#333;border:1px solid #444;color:#888;cursor:pointer;flex-shrink:0}.p-btn:hover{color:#fff;background:#555}.p-btn.del{color:#f55;border-color:#533}.p-btn.del:hover{background:#533;color:#fff}.p-btn.ed{color:#da0;border-color:#550}.p-btn.ed:hover{background:#550;color:#fff}.p-btn.sv{color:#0f0;border-color:#050}.p-btn.sv:hover{background:#050;color:#fff}.p-add{display:flex;padding:5px;border-top:1px solid #444}.p-add input{margin:0;font-size:10px;padding:4px}.p-add button{width:25px;margin:0 0 0 2px;padding:0;background:#333;color:#fff;border:1px solid #444}.p-edit-row{display:flex;width:100%;gap:2px;background:#222;padding:2px}.p-edit-row input{margin:0;padding:2px;font-size:10px;border:1px solid #444;background:#111}#p-auto span{font-size:14px;font-weight:700}#p-cur{font-weight:700}</style></head><body><div class=main><h3>WEBSITE CHANGER</h3><label>SAVE SLOT</label><div class=dd-wrap id=dd-con><input type=text class=dd-inp id=sname value=Default placeholder=\"Slot Name\" oninput=hIn() autocomplete=off><div class=dd-arrow onclick=toggleDD()>&#9660;</div><div class=dd-list id=dd-list></div></div><div class=slot-actions><label class=opt style=margin-right:auto><input type=checkbox id=autosave onchange=hIn()> Auto Save</label><button class=sec onclick=L() title=\"Load Data\">LOAD</button><button class=sec onclick=S() title=\"Save Data\">SAVE</button></div><div class=head-row><label style=margin:0>TARGET URL</label><div class=cors-group><label class=cors-lbl title=\"Use Proxy\">Bypass CORS <input type=checkbox id=cors onchange=hIn()></label><span class=with-txt>with</span><div class=p-wrap id=p-wrap><div class=p-head onclick=tP()><span>Proxy: <span id=p-cur>AUTO</span></span><span style=\"font-size:9px\">&#9660;</span></div><div class=p-drop id=p-drop><div class=\"p-row\" onclick=\"sP(-1)\"><div class=\"p-name\" id=p-auto><div style=\"display:flex;align-items:center;width:100%\"><span>AUTO</span><small style=\"margin-left:5px;flex-shrink:0\">(loops list in order)</small><label style=\"font-size:10px;font-weight:400;cursor:pointer;display:flex;align-items:center;margin:0 0 0 auto;padding-left:2em;color:#aaa;white-space:nowrap\" onclick=\"event.stopPropagation()\">Aggressive<input type=checkbox id=p-ag checked onchange=\"agSt=this.checked;hIn()\" style=\"margin:0 0 0 4px;width:auto\"></label></div></div></div><div id=p-list></div><div class=p-add><input id=p-new placeholder=\"https://proxy.com/?url=\" onfocus=\"if(!this.value)this.value='https://'\"><button onclick=addP()>+</button></div></div></div></div></div><input type=text id=url oninput=hIn() onchange=chkU(this)><label>SOURCE HTML</label><input type=file id=html><div class=opt-group><label class=opt>Auto Sync<input type=checkbox id=sync onchange=hIn() checked></label><label class=opt>+Link Change<input type=checkbox id=link onchange=hIn() checked></label><label class=opt>+Remove Cloudflare<input type=checkbox id=cf onchange=hIn()></label><label class=opt>+Speed Changer&Console<input type=checkbox id=tool onchange=hIn() checked></label><span class=grp><label class=opt>+Richer Time Manipulation<input type=checkbox id=rtm onchange=hIn()></label><label class=opt style=\"color:#aaa;margin:0\">(Eval in Workers)<input type=checkbox id=ew onchange=hIn()></label></span><span class=grp><label class=opt>+LocalData Partition<input type=checkbox id=ldp onchange=hIn()></label><label class=opt style=\"color:#aaa;margin:0\">(Use Only Domain)<input type=checkbox id=dom onchange=hIn()></label></span></div><label>TIME (=, +=, -=)</label><input type=text id=time value=\"+=0\" oninput=hIn()><label>INJECT CODE</label><textarea id=code oninput=hIn() rows=5></textarea><input type=file id=js><button onclick=run()>INJECT & RUN</button></div><script>const G=e=>document.getElementById(e),LS=localStorage,KS=\"website_changer.slots.\",KA=\"website_changer.active_slot\";let tm,pxs=[{n:'CodeTabs',u:'https://api.codetabs.com/v1/proxy?quest='},{n:'AllOrigins',u:'https://api.allorigins.win/raw?url='}],sel=-1,edI=-1,agSt=1,uF=\"\",noSl=0;window.onload=()=>{window.onclick=e=>{if(!G(\"dd-con\").contains(e.target))G(\"dd-list\").style.display=\"none\";if(!G(\"p-wrap\").contains(e.target))G(\"p-drop\").style.display=\"none\"};let a=LS.getItem(KA);if(a)G(\"sname\").value=a;L();rP()};function hIn(){if(G(\"autosave\").checked){clearTimeout(tm);tm=setTimeout(()=>S(1),400)}}function chkU(e){let v=e.value;if(uF&&uF===v+'/'){uF=v;noSl=1;return}if(uF&&uF===v)return;if(v&&!v.endsWith('/')&&!v.match(/\\.[a-zA-Z0-9]+$/)&&!v.includes('?')){e.value=v+'/';uF=e.value;noSl=0}else{uF=v;noSl=0}}function toggleDD(){let l=G(\"dd-list\");if(l.style.display==\"block\"){l.style.display=\"none\";return}l.innerHTML=\"\";let f=document.createDocumentFragment(),c=0;for(let i=0;i<LS.length;i++){let k=LS.key(i);if(k&&k.startsWith(KS)){c++;let n=k.replace(KS,\"\"),d=document.createElement(\"div\");d.className=\"dd-item\";d.innerText=n;d.onclick=()=>{G(\"sname\").value=n;toggleDD();L()};f.appendChild(d)}}if(!c){let e=document.createElement(\"div\");e.style.padding=\"8px\";e.style.color=\"#666\";e.innerText=\"No saves\";f.appendChild(e)}l.appendChild(f);l.style.display=\"block\"}function S(q){let n=G(\"sname\").value.trim();if(!n)return;let d={as:G(\"autosave\").checked,px:pxs,pi:sel,ag:agSt,ns:noSl};[\"url\",\"time\",\"code\"].forEach(k=>d[k]=G(k).value);[\"sync\",\"link\",\"cf\",\"tool\",\"rtm\",\"ew\",\"ldp\",\"dom\",\"cors\"].forEach(k=>d[k]=G(k).checked);LS.setItem(KS+n,JSON.stringify(d));LS.setItem(KA,n);if(!q){let b=document.querySelector('button[title=\"Save Data\"]'),o=b.innerText;b.innerText=\"OK\";setTimeout(()=>b.innerText=o,500)}}function L(){let n=G(\"sname\").value.trim();if(!n)return;try{let d=JSON.parse(LS.getItem(KS+n));if(!d)return;[\"url\",\"time\",\"code\"].forEach(k=>G(k).value=d[k]||\"\");[\"sync\",\"link\",\"cf\",\"tool\",\"rtm\",\"ew\",\"ldp\",\"dom\",\"cors\"].forEach(k=>G(k).checked=!!d[k]);if(d.as!==undefined)G(\"autosave\").checked=d.as;if(d.px)pxs=d.px;if(d.pi!==undefined)sel=d.pi;if(sel>=pxs.length)sel=-1;if(d.ag!==undefined)agSt=d.ag;rP();noSl=d.ns||0;if(noSl)uF=G(\"url\").value;else uF=\"\";chkU(G(\"url\"))}catch(e){}}function tP(){let d=G(\"p-drop\"),s=d.style.display==\"block\";d.style.display=s?\"none\":\"block\";if(!s)d.style.setProperty(\"--hw\",(G(\"dd-con\").parentNode.getBoundingClientRect().right-d.parentElement.parentElement.getBoundingClientRect().left-20)+\"px\")}function sP(i){sel=i;rP();tP();hIn()}function addP(){let u=G(\"p-new\").value.trim();if(u){pxs.push({n:new URL(u).hostname,u:u});G(\"p-new\").value=\"\";rP();hIn()}}function mvP(i,d,e){e.stopPropagation();let n=i+d;if(n>=0&&n<pxs.length){let t=pxs[i];pxs[i]=pxs[n];pxs[n]=t;if(sel==i)sel=n;else if(sel==n)sel=i;rP();hIn()}}function dlP(i,e){e.stopPropagation();pxs.splice(i,1);if(sel>=pxs.length)sel=-1;rP();hIn()}function edP(i,e){e.stopPropagation();edI=i;rP()}function svP(i,e){e.stopPropagation();let nn=G(\"en-\"+i).value.trim(),nu=G(\"eu-\"+i).value.trim();if(nn&&nu){pxs[i]={n:nn,u:nu};edI=-1;rP();hIn()}}function rP(){G(\"p-cur\").innerText=sel<0?\"AUTO\":pxs[sel].n;G(\"p-auto\").className=\"p-name\"+(sel<0?\" sel\":\"\");if(G(\"p-ag\"))G(\"p-ag\").checked=agSt;let h=\"\";pxs.forEach((p,i)=>{if(i==edI){h+=`<div class=p-edit-row><input id=en-${i} value=\"${p.n}\" style=\"width:60px\"><input id=eu-${i} value=\"${p.u}\" style=\"flex-grow:1\"><button class=\"p-btn sv\" onclick=\"svP(${i},event)\">&#10003;</button></div>`}else{h+=`<div class=p-row><div style=\"display:flex;align-items:center;width:100%;font-weight:700\"><button class=p-btn onclick=\"mvP(${i},-1,event)\">&#8593;</button><div class=\"p-name${sel==i?\" sel\":\"\"}\" onclick=\"sP(${i})\" style=\"padding:0 5px;flex:1\"><span>${p.n}</span></div><button class=\"p-btn ed\" onclick=\"edP(${i},event)\">&#9998;</button><button class=\"p-btn del\" onclick=\"dlP(${i},event)\">&#215;</button></div><div style=\"min-width:100%;max-width:var(--hw,80vw);margin-top:2px;font-weight:400\"><button class=p-btn onclick=\"mvP(${i},1,event)\" style=\"float:left;margin-right:4px\">&#8595;</button><span class=p-url>${p.u}</span></div></div>`}});G(\"p-list\").innerHTML=h}async function run(){clearTimeout(tm);if(G(\"autosave\").checked)S(1);let u=G(\"url\").value;if(u&&!u.startsWith('http'))u='https://'+u;let raw=\"\",h=G(\"html\").files[0],j=G(\"js\").files[0],errs=[];if(h)raw=await h.text();else if(u&&G(\"sync\").checked)try{if(G(\"cors\").checked){let q=sel<0?pxs:[pxs[sel]];if(agSt){raw=await new Promise((RES,REJ)=>{if(!q.length)REJ(new Error(\"No Proxies\"));let win=0,fail=0,ptr=0,cs=[];const F=i=>{if(win||i>=q.length)return;let c=new AbortController();cs.push(c);fetch(q[i].u+encodeURIComponent(u),{signal:c.signal}).then(r=>{if(!r.ok)throw 0;return q[i].u.includes('allorigins')?r.json().then(j=>j.contents):r.text()}).then(t=>{if(t&&!win){win=1;cs.forEach(x=>x!=c&&x.abort());RES(t)}else throw 0}).catch(()=>{fail++;if(!win&&fail==q.length)REJ(new Error(\"All Proxies Failed\"))})};F(ptr++);setTimeout(()=>{if(!win)F(ptr++)},200);let iv=setInterval(()=>{if(win||ptr>=q.length)clearInterval(iv);else F(ptr++)},1000)})}else{for(let p of q){try{let r=await fetch(p.u+encodeURIComponent(u));if(!r.ok)throw new Error(r.status);if(p.u.includes('allorigins')){let d=await r.json();if(!d.contents)throw new Error('empty');raw=d.contents}else raw=await r.text();break}catch(e){errs.push(p.n+\": \"+e.message)}}if(!raw)throw new Error(\"All Proxies Failed\")}raw=raw.replace(/<meta\\s+http-equiv=[\"']?Content-Security-Policy[\"']?.*?>/gi,'')}else{raw=await(await fetch(u)).text()}}catch(e){let m=\"Type: \"+e.name+\" Message: \"+e.message,x=\"\",d=\"\";if(!G(\"cors\").checked&&/failed to fetch/i.test(e.message)){try{await fetch(u,{mode:'no-cors'});x=\"Access to fetch at '\"+u+\"' from origin 'null' has been blocked by CORS policy.\";d=\"Enable Bypass CORS to bypass cors :)\"}catch(z){x=\"Net::ERR_INTERNET_DISCONNECTED\";d=\"Check URL or Internet connection.\"}}else if(G(\"cors\").checked){try{await fetch('https://1.1.1.1/favicon.ico',{mode:'no-cors'});try{await fetch(u,{mode:'no-cors'});x=errs.join(\"\\n\");d=\"All proxies failed. Check URL or try different proxies.\"}catch(t){x=\"Target Server (\"+u+\") is unresponsive.\"}}catch(n){x=\"Net::ERR_INTERNET_DISCONNECTED (No Internet Detected)\"}}if(x)m+=\"\\n\\nExtra Details: \"+x;if(d)m+=\"\\n\\nDeveloper Message: \"+d;return alert(m)}else return alert(\"No Source\");if(G(\"cf\").checked)raw=raw.replace(/type=\"[\\w-]+-text\\/javascript\"/g,'type=\"text/javascript\"');if(G(\"sync\").checked||G(\"link\").checked||G(\"cors\").checked){let b=u;if(b)raw=raw.replace(/<head\\b[^>]*>/i,m=>m+`<base href=\"${b}\">`);if(!raw.includes(\"<base \"))raw=\"<base href='\"+b+\"'>\"+raw}let tV=G(\"time\").value.trim(),[_,op,nm]=tV.match(/^(=|\\+=|-=)?(.*)/)||[0,\"+\",0],tN=parseFloat(nm)||0;if(!op||op==\"+=\")op=\"+\";if(op==\"-=\")op=\"-\";let js=j?await j.text():\"\";let pc=\"\";if(G(\"ldp\").checked){let isD=G(\"dom\").checked;let src=`((u)=>{try{let l=new URL(u);return l.protocol[0]=='h'?(${isD}?l.origin:u):(${isD}?u:'')}catch(e){return ''}})(document.baseURI)`;pc=`((P=\\`website_changer.website_locals.\\${${src}||document.title||\"unnamed\"}.\\`)=>['localStorage','sessionStorage'].map(N=>{let T=window[N],K=()=>Object.keys(T).filter(x=>!x.indexOf(P));try{Object.defineProperty(window,N,{value:new Proxy(T,{get:(t,p)=>({setItem:(k,v)=>t.setItem(P+k,v),getItem:k=>t.getItem(P+k),removeItem:k=>t.removeItem(P+k),clear:()=>K().map(k=>t.removeItem(k)),key:i=>(K()[i]||P).slice(P.length)||null,length:K().length}[p]||(typeof p=='string'&&!(p in t)?t.getItem(P+p):t[p])),set:(t,p,v)=>(t.setItem(P+p,v),1),deleteProperty:(t,p)=>(t.removeItem(P+p),1),ownKeys:()=>K().map(k=>k.slice(P.length)),getOwnPropertyDescriptor:(t,p)=>({configurable:1,enumerable:1,value:t.getItem(P+p)})})})}catch(e){}}))();`}let rc=\"\";if(G(\"rtm\").checked){let we=G(\"ew\").checked?`else if(ev.data&&ev.data.eval){try{(0,eval)(ev.data.eval)}catch(e){}}`:\"\";rc=`(function(){const SYNC_AUDIO=true;const SYNC_CSS=true;const workerBlobCache=new Map();const workerBoostSource=\\`(function(){let workerSpeed=1.0;try{const bc=new BroadcastChannel('speed-boost-sync');bc.onmessage=(ev)=>{if(typeof ev.data==='number')workerSpeed=ev.data;${we}}}catch(e){}const nativeNow=performance.now.bind(performance);let lastReal=nativeNow(),lastVirtual=0;performance.now=function(){const now=nativeNow();const delta=now-lastReal;lastReal=now;lastVirtual+=delta*workerSpeed;return lastVirtual};const nST=self.setTimeout,nSI=self.setInterval;self.setTimeout=(f,d,...a)=>nST(f,Math.max(1,(d||0)/workerSpeed),...a);self.setInterval=(f,d,...a)=>nSI(f,Math.max(1,(d||0)/workerSpeed),...a)})();\\`;const NativeWorker=window.Worker;window.Worker=function(url,options){if(workerBlobCache.has(url))return new NativeWorker(workerBlobCache.get(url),options);try{const xhr=new XMLHttpRequest();xhr.open('GET',url,false);xhr.send();const combined=workerBoostSource+';\\\\n'+xhr.responseText;const blobURL=URL.createObjectURL(new Blob([combined],{type:'application/javascript'}));workerBlobCache.set(url,blobURL);return new NativeWorker(blobURL,options)}catch(e){return new NativeWorker(url,options)}};const nRAF=window.requestAnimationFrame;const vTimers=new Map();let vIdCounter=0;let isLoopRunning=false;function tick(){if(vTimers.size===0){isLoopRunning=false;return}const now=performance.now();const toRemove=[];for(const[id,t]of vTimers){if(now>=t.target){try{if(typeof t.fn==='string')(0,eval)(t.fn);else t.fn.apply(window,t.args)}catch(e){}if(t.type===0)toRemove.push(id);else t.target=now+Math.max(1,t.delay)}}toRemove.forEach(id=>vTimers.delete(id));nRAF(tick)}function startLoop(){if(!isLoopRunning){isLoopRunning=true;nRAF(tick)}}window.setTimeout=function(fn,d,...args){vIdCounter++;vTimers.set(vIdCounter,{type:0,fn,args,delay:d,target:performance.now()+(d||0)});startLoop();return vIdCounter};window.setInterval=function(fn,d,...args){vIdCounter++;vTimers.set(vIdCounter,{type:1,fn,args,delay:d,target:performance.now()+(d||0)});startLoop();return vIdCounter};window.clearTimeout=window.clearInterval=id=>vTimers.delete(id);const originalGetter=Object.getOwnPropertyDescriptor(Event.prototype,'timeStamp').get;Object.defineProperty(Event.prototype,'timeStamp',{get:function(){return performance.now()}});const bc=new BroadcastChannel('speed-boost-sync');let _WCHS=1.0;function applySpeedToMedia(speed){if(SYNC_AUDIO){document.querySelectorAll('audio, video').forEach(el=>{el.playbackRate=speed})}if(SYNC_CSS&&document.getAnimations){document.getAnimations().forEach(anim=>{anim.playbackRate=speed})}}if(SYNC_AUDIO){new MutationObserver(mutations=>{mutations.forEach(m=>m.addedNodes.forEach(node=>{if(node.nodeName==='AUDIO'||node.nodeName==='VIDEO'){node.playbackRate=_WCHS}}))}).observe(document.body,{childList:true,subtree:true})}const initCheck=setInterval(()=>{if(window.tools&&window.tools.HS!==undefined){clearInterval(initCheck);_WCHS=window.tools.HS;applySpeedToMedia(_WCHS);let v=_WCHS;Object.defineProperty(window.tools,'HS',{get:()=>v,set:(val)=>{if(window.upd)window.upd();if(val!==v){v=val;bc.postMessage(val);applySpeedToMedia(val)}}})}},100)})();`}let s=`<script>window.errBuf=[];window.logF=(m,c)=>{let d='<div style=\"color:'+(c||'white')+';border-bottom:1px solid #333;font-family:monospace;word-break:break-all\">'+m+'</div>';if(window.EL&&window.EL.lg)window.EL.lg.innerHTML=d+window.EL.lg.innerHTML;else window.errBuf.push({m,c});if(window.Fit)window.Fit()};window.FS=()=>{if(!document.fullscreenElement)document.documentElement.requestFullscreen();else if(document.exitFullscreen)document.exitFullscreen()};window.onerror=(m,s,l,c,e)=>window.logF(\"ERR: \"+m,\"red\");let _l=console.log;console.log=(...a)=>{_l(...a);window.logF(a.join(\" \"),\"#ccc\")};document.title=\"WC: \"+${JSON.stringify(u||\"\")};${pc}window.tools=window.tools||{};window.tools.HS=1.0;(function(){let O=Date,P=performance,rN=O.now.bind(O),rP=P.now.bind(P),lT=rN(),lP=rP(),vT=lT,vP=0,off=${tN*1e3},op='${op}';window.upd=()=>{let t=rN(),p=rP();vT+=(t-lT)*window.tools.HS;lT=t;vP+=(p-lP)*window.tools.HS;lP=p};let gT=()=>{window.upd();return op=='='?${tN}:op=='-'?vT-off:vT+off};window.Date=class extends O{constructor(...a){super(...(a.length?a:[gT()]))}};window.Date.now=()=>Math.round(gT());P.now=()=>{window.upd();return vP}})();try{${rc}}catch(e){window.logF(\"RTM Init Failed: \"+e.message,\"red\")}window.addEventListener('DOMContentLoaded',()=>{if(${G(\"tool\").checked}){let cs='#X{position:fixed;top:50px;left:20px;z-index:999999;width:50px;height:50px;min-width:50px;min-height:50px;box-sizing:border-box;flex-shrink:0;background:#70e;border:2px solid #fff;border-radius:50%;display:flex;justify-content:center;align-items:center;color:#fff;font-weight:700;box-shadow:0 0 10px #70e;cursor:pointer;user-select:none;font-size:11px}#P{position:fixed;top:50px;left:20px;z-index:999999;width:280px;min-width:260px;min-height:220px;height:275px;background:#050014f2;border:2px solid #93f;border-radius:6px;color:#fff;font-family:monospace;display:flex;flex-direction:column;box-shadow:0 0 20px #000;overflow:hidden}#H{background:#50a;padding:8px;font-weight:700;cursor:move;display:flex;justify-content:space-between;align-items:center;user-select:none;flex-shrink:0}#Ct{padding:10px;flex:1;display:flex;flex-direction:column;gap:5px;overflow:hidden;box-sizing:border-box}.rw{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-shrink:0}.lbl{display:flex;align-items:center;gap:5px;font-size:11px;color:#ccc;cursor:pointer;user-select:none}.lbl input{margin:0;accent-color:#93f}.num{background:#222;border:1px solid #444;color:#fff;padding:4px;border-radius:0;text-align:center;font-family:monospace;font-size:11px}.num:focus{border-color:#93f;outline:none}#IN{width:70px;color:#eef}.mm{width:35px;color:#888}#SL{flex-grow:1;height:6px;background:#444;border-radius:3px;appearance:none;cursor:pointer;border:none}#SL::-webkit-slider-thumb{appearance:none;width:14px;height:14px;background:#93f;border-radius:50%;border:2px solid #fff;box-shadow:0 0 5px #000}.btn{background:#93f;color:#fff;border:1px solid #444;padding:5px 12px;border-radius:0;font-weight:700;cursor:pointer;font-size:11px}.btn:hover{filter:brightness(1.1)}#EV{width:100%;box-sizing:border-box;background:#222;border:1px solid #444;color:#ccc;padding:5px;font-family:monospace;font-size:11px;resize:none;height:auto;min-height:40px;flex-shrink:0;border-radius:0;white-space:pre-wrap;display:block;margin:5px 0 0 0}#EV:focus{border-color:#555;outline:none}#RB{width:100%;box-sizing:border-box;background:#50a;border:1px solid #444;padding:5px 12px;border-radius:0;font-weight:700;cursor:pointer;font-size:11px;color:#fff;display:block;margin:0;flex-shrink:0}#LG{font-size:10px;color:#aaa;flex:1;overflow-y:auto;min-height:0;background:transparent;padding-top:4px}#RZ{position:absolute;bottom:0;right:0;width:25px;height:25px;cursor:se-resize;display:flex;align-items:center;justify-content:center;color:#93f;font-size:14px;line-height:1;user-select:none}#LK{position:absolute;bottom:0;left:0;width:25px;height:25px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#666;font-size:14px;user-select:none}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:#444;border-radius:2px}',d=document.createElement('div');d.innerHTML=\\`<style>\\${cs}</style><div id=X>x1</div><div id=P><div id=H><span>SPEED</span><div><span onclick=FS() style=\"cursor:pointer;margin-right:10px;font-size:14px\" title=\"Fullscreen\">&#x26F6;</span><span onclick=T(1) style=cursor:pointer>_</span></div></div><div id=Ct><div class=rw><label class=lbl><input type=checkbox id=UC onchange=V(EL.in.value,1)> Uncap(>2e6)</label><input id=IN class=num type=text value=1 oninput=V(this.value,1)></div><div class=rw><input class=\"num mm\" id=MN value=0.1 oninput=Dr()><input id=SL type=range min=0 max=100 value=33.3 oninput=V(this.value,0)><input class=\"num mm\" id=MX value=100 oninput=Dr()></div><div class=rw><label class=lbl><input type=checkbox id=AC onchange=K()> Auto</label><button id=BT class=btn onclick=A() style=\"flex-grow:1;background:#50a\">APPLY</button></div><textarea id=EV placeholder=\"Console (eval)\" oninput=\"Fit()\"></textarea><button id=RB onclick=R()>RUN</button><div id=LG></div></div><div id=RZ>&#x21F2;</div><div id=LK onclick=ToggleLock()>&#128274;</div></div>\\`;(document.body||document.documentElement).appendChild(d);let P=1.0;window.isLocked=1;window.Fit=()=>{let u=G('P'),e=G('EV'),l=G('LG'),c=G('Ct');if(!u||!e||!l)return;let uiH=c.scrollHeight-(e.offsetHeight+l.offsetHeight),tH=e.scrollHeight,lH=l.scrollHeight,req=uiH+tH+lH;if(!window.isLocked){u.style.height=req+'px';e.style.height=tH+'px'}else{let av=c.clientHeight-uiH,min=av*0.3,tar=tH;if(tar<min)tar=min;let max=av-min;if(lH>av-tar){if(tH>av*0.5&&lH>av*0.5)tar=av*0.5;else if(tar>max)tar=max}e.style.height=tar+'px'}};window.ToggleLock=()=>{window.isLocked=!window.isLocked;EL.lk.innerHTML=window.isLocked?'&#128274;':'&#128275;';Fit()};window.EL={u:G('P'),i:G('X'),in:G('IN'),sl:G('SL'),bt:G('BT'),ac:G('AC'),ev:G('EV'),lg:G('LG'),uc:G('UC'),mn:G('MN'),mx:G('MX'),lk:G('LK')};if(window.errBuf)window.errBuf.forEach(x=>window.logF(x.m,x.c));window.errBuf=null;function G(i){return document.getElementById(i)}window.T=m=>{let a=m?EL.i:EL.u,b=m?EL.u:EL.i;a.style.display='flex';b.style.display='none';a.style.top=b.style.top;a.style.left=b.style.left;a.style.display=m?'flex':'block';if(!m)Fit()};window.K=()=>{if(EL.ac.checked){EL.bt.style.opacity=0.5;A()}else{EL.bt.style.opacity=1;EL.bt.innerText=\"APPLY\"}};let lg=Math.log10,ab=Math.abs;function gP(v,mn,mx){if(mn*mx>0){if(Math.sign(v)!=Math.sign(mn))return-99;let a=ab(mn),b=ab(mx),val=ab(v);return Math.log(val/a)/Math.log(b/a)}let l=mn,h=mx,rev=l>h;if(rev){let t=l;l=h;h=t}let L=l<-1?lg(ab(l)):0,R=h>1?lg(h):0,W=2,T=L+R+W,p=0;if(v<=-1&&l<-1)p=(Math.log(ab(l)/ab(v))/Math.log(ab(l)))*(L/T);else if(v>=1&&h>1)p=((L+W)/T)+(Math.log(v)/Math.log(h))*(R/T);else p=(L/T)+((v+1)/2)*(W/T);if(rev)p=1-p;return p}function gS(p,mn,mx){if(mn*mx>0){let a=ab(mn),b=ab(mx),r=a*Math.pow(b/a,p);return mn<0?-r:r}let l=mn,h=mx,rev=l>h;if(rev){let t=l;l=h;h=t;p=1-p}let L=l<-1?lg(ab(l)):0,R=h>1?lg(h):0,W=2,T=L+R+W;if(p<=L/T){let lp=p/(L/T),r=ab(l)*Math.pow(1/ab(l),lp);return-r}if(p>(L+W)/T){let rp=(p-(L+W)/T)/(R/T),r=1*Math.pow(h,rp);return r}return-1+((p-(L/T))/(W/T))*2}window.Dr=()=>{let mn=parseFloat(EL.mn.value)||0.1,mx=parseFloat(EL.mx.value)||100;let pts=[{v:-1,c:'#38f'},{v:0,c:'#000'},{v:1,c:'#f00'}].map(x=>({p:gP(x.v,mn,mx)*100,c:x.c})).filter(x=>x.p>-2&&x.p<102).sort((a,b)=>a.p-b.p);let gr='linear-gradient(90deg, #444';pts.forEach(x=>{gr+=\\`, #444 \\${x.p-1}%, \\${x.c} \\${x.p-1}%, \\${x.c} \\${x.p+1}%, #444 \\${x.p+1}%\\`});gr+=')';EL.sl.style.background=gr;V(EL.in.value,1)};window.V=(v,m)=>{window.upd();let mn=parseFloat(EL.mn.value)||0.1,mx=parseFloat(EL.mx.value)||100,val=parseFloat(v)||0,r=0;if(m)r=val;else r=gS(val/100,mn,mx);let cap=0,effP=r;if(!EL.uc.checked&&ab(r)>2e6){cap=1;effP=2e6}P=effP;EL.lg.innerHTML=cap?'<span style=\"color:orange;font-weight:bold\">SPEED CAPPED (2e6)</span>':'';EL.i.style.borderColor=cap?'orange':'#fff';EL.i.style.color=cap?'orange':'#fff';let t=ab(P)<1e-3?P.toExponential(1):(ab(P)<10?P.toFixed(1):Math.round(P));if(ab(P)>=1e6)t=P.toExponential(1);EL.i.innerText='x'+t+(cap?'!':'');if(!m){EL.in.value=ab(P)<0.01?P.toExponential(2):(ab(P)<10?P.toFixed(2):P.toFixed(1))}else{EL.sl.value=gP(r,mn,mx)*100}K()};window.A=()=>{window.tools.HS=P;if(!EL.ac.checked){EL.bt.style.background='#93f';EL.bt.innerText=\"OK\";setTimeout(()=>{EL.bt.style.background='';EL.bt.innerText=\"APPLY\"},500)}};window.R=()=>{try{EL.lg.innerHTML='<div style=\"color:lime;border-bottom:1px solid #333\">> '+eval(EL.ev.value)+'</div>'+EL.lg.innerHTML}catch(e){EL.lg.innerHTML='<div style=\"color:red;border-bottom:1px solid #333\">'+e.message+'</div>'+EL.lg.innerHTML}Fit()};let D=(b,h)=>{let f=0,x,y,ev=(k,fn)=>window.addEventListener(k,fn,{passive:false});h.onmousedown=h.ontouchstart=e=>{f=1;let t=e.touches?e.touches[0]:e;x=b.offsetLeft-t.clientX;y=b.offsetTop-t.clientY};ev('mousemove',e=>{if(f){e.preventDefault();let t=e.touches?e.touches[0]:e;b.style.left=x+t.clientX+'px';b.style.top=y+t.clientY+'px'}});ev('touchmove',e=>{if(f){e.preventDefault();let t=e.touches?e.touches[0]:e;b.style.left=x+t.clientX+'px';b.style.top=y+t.clientY+'px'}});ev('mouseup',()=>f=0);ev('touchend',()=>f=0)};let RS=(h,b)=>{let f=0,sX,sY,w,ht,lt=0;h.ontouchstart=e=>{let n=Date.now();if(n-lt<300){b.style.width='';b.style.height='275px';Fit();f=0;return}lt=n;f=1;let t=e.touches[0];sX=t.clientX;sY=t.clientY;w=b.offsetWidth;ht=b.offsetHeight;e.stopPropagation()};window.addEventListener('touchmove',e=>{if(f){let t=e.touches[0];b.style.width=(w+(t.clientX-sX))+'px';b.style.height=(ht+(t.clientY-sY))+'px';Fit()}});window.addEventListener('touchend',()=>f=0)};D(EL.u,G('H'));D(EL.i,EL.i);RS(G('RZ'),EL.u);EL.i.onclick=()=>T(0);Dr();Fit()}});<\\/script><script>${G(\"code\").value}\\n${js}<\\/script>`;raw=raw.includes(\"<head>\")?raw.replace(\"<head>\",\"<head>\"+s):s+raw;document.open();document.write(raw);document.close();if(G(\"link\").checked&&u)try{history.replaceState(null,\"\",u)}catch(e){}}</script></body></html>\n"
  }
]